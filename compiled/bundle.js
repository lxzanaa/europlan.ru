!function(){function y(t){return 0<t?Math.min((t=+(t=t),isNaN(t)?0:(0<t?Math.floor:Math.ceil)(t)),9007199254740991):0}Element.prototype.closest||(Element.prototype.closest=function(t){for(var e=this;e;){if(e.matches(t))return e;e=e.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector),Array.prototype.find||(Array.prototype.find=function(t){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,r=Object(this),o=r.length>>>0,n=arguments[1],i=0;i<o;i++)if(e=r[i],t.call(n,e,i,r))return e}),"undefined"!=typeof window&&window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(t,e){e=e||window;for(var r=0;r<this.length;r++)t.call(e,this[r],r,this)}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{enumerable:!1,value:function(t,e=void 0){var r=function(t){if(void 0!==t)return Object(t);throw new TypeError("Can't call method on "+t)}(this),o=function(t,e){if((e=y(e))<0)throw new RangeError;let r;Array.isArray(t)||("object"==typeof(r="function"!=typeof(r=t.constructor)||r!==Array&&!Array.isArray(r.prototype)?r:void 0)?null!==r:"function"==typeof r)&&null===(r=r[Symbol.species])&&(r=void 0);void 0===r&&(r=Array);return new r(e)}(r,0);return function o(n,i,t,l,a,p){let c=t;let f=0;let e=y(i.length);for(;f<e;){let r=""+f;if(r in i){let e=i[r];a&&(e=a.call(p,e,f,n));let t;if((t="object"==typeof e&&(void 0!==(t=e[Symbol.isConcatSpreadable])?!!t:Array.isArray(e)))&&0<l){let t=o(n,e,c,l-1);c=t-1}else{if(c!==y(c))throw TypeError();n[c]=e}}c+=1,f+=1}return c}(o,r,0,1,t,e),o}})}();
!function(n,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?exports.device=o():n.device=o()}(window,function(){return e=[function(n,o,e){n.exports=e(1)},function(n,o,e){e.r(o);var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},r=window.device,i={},a=[],c=(window.device=i,window.document.documentElement),d=window.navigator.userAgent.toLowerCase(),l=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","pov_tv","hbbtv","ce-html"];function u(n,o){return-1!==n.indexOf(o)}function s(n){return u(d,n)}function f(n){return c.className.match(new RegExp(n,"i"))}function b(n){var o;f(n)||(o=c.className.replace(/^\s+|\s+$/g,""),c.className=o+" "+n)}function p(n){f(n)&&(c.className=c.className.replace(" "+n,""))}function w(){i.landscape()?(p("portrait"),b("landscape"),y("landscape")):(p("landscape"),b("portrait"),y("portrait")),h()}function y(n){for(var o=0;o<a.length;o++)a[o](n)}i.macos=function(){return s("mac")},i.ios=function(){return i.iphone()||i.ipod()||i.ipad()},i.iphone=function(){return!i.windows()&&s("iphone")},i.ipod=function(){return s("ipod")},i.ipad=function(){var n="MacIntel"===navigator.platform&&1<navigator.maxTouchPoints;return s("ipad")||n},i.android=function(){return!i.windows()&&s("android")},i.androidPhone=function(){return i.android()&&s("mobile")},i.androidTablet=function(){return i.android()&&!s("mobile")},i.blackberry=function(){return s("blackberry")||s("bb10")},i.blackberryPhone=function(){return i.blackberry()&&!s("tablet")},i.blackberryTablet=function(){return i.blackberry()&&s("tablet")},i.windows=function(){return s("windows")},i.windowsPhone=function(){return i.windows()&&s("phone")},i.windowsTablet=function(){return i.windows()&&s("touch")&&!i.windowsPhone()},i.fxos=function(){return(s("(mobile")||s("(tablet"))&&s(" rv:")},i.fxosPhone=function(){return i.fxos()&&s("mobile")},i.fxosTablet=function(){return i.fxos()&&s("tablet")},i.meego=function(){return s("meego")},i.cordova=function(){return window.cordova&&"file:"===location.protocol},i.nodeWebkit=function(){return"object"===t(window.process)},i.mobile=function(){return i.androidPhone()||i.iphone()||i.ipod()||i.windowsPhone()||i.blackberryPhone()||i.fxosPhone()||i.meego()},i.tablet=function(){return i.ipad()||i.androidTablet()||i.blackberryTablet()||i.windowsTablet()||i.fxosTablet()},i.desktop=function(){return!i.tablet()&&!i.mobile()},i.television=function(){for(var n=0;n<l.length;){if(s(l[n]))return!0;n++}return!1},i.portrait=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?u(screen.orientation.type,"portrait"):i.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?90!==Math.abs(window.orientation):1<window.innerHeight/window.innerWidth},i.landscape=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?u(screen.orientation.type,"landscape"):i.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?90===Math.abs(window.orientation):window.innerHeight/window.innerWidth<1},i.noConflict=function(){return window.device=r,this},i.ios()?i.ipad()?b("ios ipad tablet"):i.iphone()?b("ios iphone mobile"):i.ipod()&&b("ios ipod mobile"):i.macos()?b("macos desktop"):i.android()?i.androidTablet()?b("android tablet"):b("android mobile"):i.blackberry()?i.blackberryTablet()?b("blackberry tablet"):b("blackberry mobile"):i.windows()?i.windowsTablet()?b("windows tablet"):i.windowsPhone()?b("windows mobile"):b("windows desktop"):i.fxos()?i.fxosTablet()?b("fxos tablet"):b("fxos mobile"):i.meego()?b("meego mobile"):i.nodeWebkit()?b("node-webkit"):i.television()?b("television"):i.desktop()&&b("desktop"),i.cordova()&&b("cordova"),i.onChangeOrientation=function(n){"function"==typeof n&&a.push(n)};e="resize";function m(n){for(var o=0;o<n.length;o++)if(i[n[o]]())return n[o];return"unknown"}function h(){i.orientation=m(["portrait","landscape"])}Object.prototype.hasOwnProperty.call(window,"onorientationchange")&&(e="orientationchange"),window.addEventListener?window.addEventListener(e,w,!1):window.attachEvent?window.attachEvent(e,w):window[e]=w,w(),i.type=m(["mobile","tablet","desktop"]),i.os=m(["ios","iphone","ipad","ipod","android","blackberry","macos","windows","fxos","meego","television"]),h(),o.default=i}],t={},r.m=e,r.c=t,r.d=function(n,o,e){r.o(n,o)||Object.defineProperty(n,o,{enumerable:!0,get:e})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(o,n){if(1&n&&(o=r(o)),8&n)return o;if(4&n&&"object"==typeof o&&o&&o.__esModule)return o;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:o}),2&n&&"string"!=typeof o)for(var t in o)r.d(e,t,function(n){return o[n]}.bind(null,t));return e},r.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(o,"a",o),o},r.o=function(n,o){return Object.prototype.hasOwnProperty.call(n,o)},r.p="",r(r.s=0).default;function r(n){var o;return(t[n]||(o=t[n]={i:n,l:!1,exports:{}},e[n].call(o.exports,o,o.exports,r),o.l=!0,o)).exports}var e,t});
!function(A,e){function n(A,e){return typeof A===e}function a(A){var e,n=m.className,o=w._config.classPrefix||"";B&&(n=n.baseVal),w._config.enableJSClass&&(e=new RegExp("(^|\\s)"+o+"no-js(\\s|$)"),n=n.replace(e,"$1"+o+"js$2")),w._config.enableClasses&&(n+=" "+o+A.join(" "+o),B?m.className.baseVal=n:m.className=n)}function s(A,e){if("object"==typeof A)for(var n in A)i(A,n)&&s(n,A[n]);else{var o=(A=A.toLowerCase()).split("."),t=w[o[0]];if(void 0!==(t=2==o.length?t[o[1]]:t))return w;e="function"==typeof e?e():e,1==o.length?w[o[0]]=e:(!w[o[0]]||w[o[0]]instanceof Boolean||(w[o[0]]=new Boolean(w[o[0]])),w[o[0]][o[1]]=e),a([(e&&0!=e?"":"no-")+o.join("-")]),w._trigger(A,e)}return w}var i,o,t,l,r,f,u,c,p,d=[],g=[],h={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(A,e){var n=this;setTimeout(function(){e(n[A])},0)},addTest:function(A,e,n){g.push({name:A,fn:e,options:n})},addAsyncTest:function(A){g.push({name:null,fn:A})}},w=((w=function(){}).prototype=h,new w),m=e.documentElement,B="svg"===m.nodeName.toLowerCase();for(c in i=void 0===(p={}.hasOwnProperty)||void 0===p.call?function(A,e){return e in A&&void 0===A.constructor.prototype[e]}:function(A,e){return p.call(A,e)},h._l={},h.on=function(A,e){this._l[A]||(this._l[A]=[]),this._l[A].push(e),w.hasOwnProperty(A)&&setTimeout(function(){w._trigger(A,w[A])},0)},h._trigger=function(A,e){var n;this._l[A]&&(n=this._l[A],setTimeout(function(){for(var A=0;A<n.length;A++)(0,n[A])(e)},0),delete this._l[A])},w._q.push(function(){h.addTest=s}),w.addAsyncTest(function(){function n(n,A,o){function e(A){var e=!(!A||"load"!==A.type)&&1==t.width;s(n,"webp"===n&&e?new Boolean(e):e),o&&o(A)}var t=new Image;t.onerror=e,t.onload=e,t.src=A}var o=[{uri:"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=",name:"webp"},{uri:"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",name:"webp.alpha"},{uri:"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA",name:"webp.animation"},{uri:"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",name:"webp.lossless"}],A=o.shift();n(A.name,A.uri,function(A){if(A&&"load"===A.type)for(var e=0;e<o.length;e++)n(o[e].name,o[e].uri)})}),g)if(g.hasOwnProperty(c)){if(o=[],(t=g[c]).name&&(o.push(t.name.toLowerCase()),t.options)&&t.options.aliases&&t.options.aliases.length)for(l=0;l<t.options.aliases.length;l++)o.push(t.options.aliases[l].toLowerCase());for(r=n(t.fn,"function")?t.fn():t.fn,f=0;f<o.length;f++)1===(u=o[f].split(".")).length?w[u[0]]=r:(!w[u[0]]||w[u[0]]instanceof Boolean||(w[u[0]]=new Boolean(w[u[0]])),w[u[0]][u[1]]=r),d.push((r?"":"no-")+u.join("-"))}a(d),delete h.addTest,delete h.addAsyncTest;for(var v=0;v<w._q.length;v++)w._q[v]();A.Modernizr=w}(window,document);
var define,__extends=this&&this.__extends||function(){var i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])});return function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();function JL(e){if(!e)return JL.__;Array.prototype.reduce||(Array.prototype.reduce=function(e,t){for(var n=t,i=0;i<this.length;i++)n=e(n,this[i],i,this);return n});var r="";return("."+e).split(".").reduce(function(e,t,n,i){r?r+="."+t:r=t;t=e["__"+r];return void 0===t&&(JL.Logger.prototype=e,t=new JL.Logger(r),e["__"+r]=t),t},JL.__)}!function(a){function t(e,t,n){void 0!==t[e]&&(null===t[e]?delete n[e]:n[e]=t[e])}function h(e){if(null==a.enabled||a.enabled){try{if(e.userAgentRegex&&!new RegExp(e.userAgentRegex).test(navigator.userAgent))return}catch(e){}try{if(e.ipRegex&&a.clientIP&&!new RegExp(e.ipRegex).test(a.clientIP))return}catch(e){}return 1}}function u(e,t){try{if(e.disallow&&new RegExp(e.disallow).test(t))return}catch(e){}return 1}function f(e){return"function"==typeof e?e instanceof RegExp?e.toString():e():e}a.requestId="",a.entryId=0,a._createXMLHttpRequest=function(){return new XMLHttpRequest},a._getTime=function(){return(new Date).getTime()},a._console=console,a._appenderNames=[];var i=function(e,t,n){this.msg=e,this.meta=t,this.finalString=n};function c(e){var t,n=f(e);switch(typeof n){case"string":return new i(n,null,n);case"number":case"boolean":return t=n.toString(),new i(t,null,t);case"undefined":return new i("undefined",null,"undefined");case"object":return n instanceof RegExp||n instanceof String||n instanceof Number||n instanceof Boolean?(t=n.toString(),new i(t,null,t)):(t="function"==typeof a.serialize?a.serialize.call(this,n):JSON.stringify(n),new i("",n,t));default:return new i("unknown",null,"unknown")}}function e(){return 1e3}function n(){return 2e3}function r(){return 3e3}function o(){return 4e3}function s(){return 5e3}function l(){return 6e3}a.setOptions=function(e){return t("enabled",e,this),t("maxMessages",e,this),t("defaultAjaxUrl",e,this),t("clientIP",e,this),t("requestId",e,this),t("defaultBeforeSend",e,this),t("serialize",e,this),this},a.getAllLevel=function(){return-2147483648},a.getTraceLevel=e,a.getDebugLevel=n,a.getInfoLevel=r,a.getWarnLevel=o,a.getErrorLevel=s,a.getFatalLevel=l,a.getOffLevel=function(){return 2147483647};var g=function(e,t){this.inner=t,this.name="JL.Exception",this.message=c(e).finalString},p=((a.Exception=g).prototype=new Error,function(e,t,n,i,r){this.l=e,this.m=t,this.n=n,this.t=i,this.u=r});function d(e,t,n){return a.entryId++,new p(e,t,n,a._getTime(),a.entryId)}function m(e){e.id&&(clearTimeout(e.id),e.id=null)}function b(e,t,n){var i=this;e.id||(e.id=setTimeout(function(){n.call(i)},t))}a.LogItem=p;y.prototype.addLogItemsToBuffer=function(e){if(this.batchBuffer.length>=this.maxBatchSize)this.nbrLogItemsSkipped+=e.length;else{if(null!=a.maxMessages){if(a.maxMessages<1)return;a.maxMessages-=e.length}this.batchBuffer=this.batchBuffer.concat(e);var t=this;b(this.batchTimeoutTimer,this.batchTimeout,function(){t.sendBatch.call(t)})}},y.prototype.batchBufferHasOverdueMessages=function(){for(var e=0;e<this.batchBuffer.length;e++)if(a._getTime()-this.batchBuffer[e].t>this.batchTimeout)return!0;return!1},y.prototype.batchBufferHasStrandedMessage=function(){return!(null==a.maxMessages)&&a.maxMessages<1&&0<this.batchBuffer.length},y.prototype.sendBatchIfComplete=function(){(this.batchBuffer.length>=this.batchSize||this.batchBufferHasOverdueMessages()||this.batchBufferHasStrandedMessage())&&this.sendBatch()},y.prototype.onSendingEnded=function(){m(this.sendTimeoutTimer),this.nbrLogItemsBeingSent=0,this.sendBatchIfComplete()},y.prototype.setOptions=function(e){if(t("level",e,this),t("ipRegex",e,this),t("userAgentRegex",e,this),t("disallow",e,this),t("sendWithBufferLevel",e,this),t("storeInBufferLevel",e,this),t("bufferSize",e,this),t("batchSize",e,this),t("maxBatchSize",e,this),t("batchTimeout",e,this),t("sendTimeout",e,this),this.bufferSize<this.buffer.length&&(this.buffer.length=this.bufferSize),this.maxBatchSize<this.batchSize)throw new a.Exception({message:"maxBatchSize cannot be smaller than batchSize",maxBatchSize:this.maxBatchSize,batchSize:this.batchSize});return this},y.prototype.log=function(e,t,n,i,r,o,s){!h(this)||!u(this,o)||r<this.storeInBufferLevel||(o=d(r,o,s),r<this.level?0<this.bufferSize&&(this.buffer.push(o),this.buffer.length>this.bufferSize)&&this.buffer.shift():(this.addLogItemsToBuffer([o]),r>=this.sendWithBufferLevel&&this.buffer.length&&(this.addLogItemsToBuffer(this.buffer),this.buffer.length=0),this.sendBatchIfComplete()))},y.prototype.sendBatch=function(){var e;0<this.nbrLogItemsBeingSent||(m(this.batchTimeoutTimer),0!=this.batchBuffer.length&&(this.nbrLogItemsBeingSent=this.batchBuffer.length,b((e=this).sendTimeoutTimer,this.sendTimeout,function(){e.onSendingEnded.call(e)}),this.sendLogItems(this.batchBuffer,function(){e.batchBuffer.splice(0,e.nbrLogItemsBeingSent),0<e.nbrLogItemsSkipped&&(e.batchBuffer.push(d(4e3,"Lost "+e.nbrLogItemsSkipped+" messages. Either connection with the server was down or logging was disabled via the enabled option. Reduce lost messages by increasing the ajaxAppender option maxBatchSize.",e.appenderName)),e.nbrLogItemsSkipped=0),e.onSendingEnded.call(e)})))};g=y;function y(e,t){this.appenderName=e,this.sendLogItems=t,this.level=a.getTraceLevel(),this.sendWithBufferLevel=2147483647,this.storeInBufferLevel=-2147483648,this.bufferSize=0,this.batchSize=1,this.maxBatchSize=20,this.batchTimeout=2147483647,this.sendTimeout=5e3,this.buffer=[],this.batchBuffer=[],this.batchTimeoutTimer={id:null},this.sendTimeoutTimer={id:null},this.nbrLogItemsSkipped=0,this.nbrLogItemsBeingSent=0;t="Trying to create an appender without a name or with an empty name";if(null==e)throw t;if(-1!=a._appenderNames.indexOf(e)){if(e)throw"Multiple appenders use the same name "+e;throw t}a._appenderNames.push(e)}__extends(L,w=a.Appender=g),L.prototype.setOptions=function(e){return t("url",e,this),t("beforeSend",e,this),w.prototype.setOptions.call(this,e),this},L.prototype.sendLogItemsAjax=function(e,t){try{var n,i,r,o,s;h(this)&&(0!=(n=this.xhr.readyState)&&4!=n&&this.xhr.abort(),i="/jsnlog.logger",null!=a.defaultAjaxUrl&&(i=a.defaultAjaxUrl),this.url&&(i=this.url),this.xhr.open("POST",i),this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.setRequestHeader("JSNLog-RequestId",a.requestId),(r=this).xhr.onreadystatechange=function(){4==r.xhr.readyState&&200<=r.xhr.status&&r.xhr.status<300&&t()},o={r:a.requestId,lg:e},"function"==typeof this.beforeSend?this.beforeSend.call(this,this.xhr,o):"function"==typeof a.defaultBeforeSend&&a.defaultBeforeSend.call(this,this.xhr,o),s=JSON.stringify(o),this.xhr.send(s))}catch(e){}};var w,x=L;function L(e){e=w.call(this,e,L.prototype.sendLogItemsAjax)||this;return e.xhr=a._createXMLHttpRequest(),e}a.AjaxAppender=x;__extends(v,S=g),v.prototype.clog=function(e){a._console.log(e)},v.prototype.cerror=function(e){a._console.error?a._console.error(e):this.clog(e)},v.prototype.cwarn=function(e){a._console.warn?a._console.warn(e):this.clog(e)},v.prototype.cinfo=function(e){a._console.info?a._console.info(e):this.clog(e)},v.prototype.cdebug=function(e){a._console.debug?a._console.debug(e):this.cinfo(e)},v.prototype.sendLogItemsConsole=function(e,t){try{if(!h(this))return;if(!a._console)return;for(var n=0;n<e.length;++n){var i=e[n],r=i.n+": "+i.m;"undefined"==typeof window&&(r=new Date(i.t)+" | "+r),i.l<=a.getDebugLevel()?this.cdebug(r):i.l<=a.getInfoLevel()?this.cinfo(r):i.l<=a.getWarnLevel()?this.cwarn(r):this.cerror(r)}}catch(e){}t()};var S,_=v;function v(e){return S.call(this,e,v.prototype.sendLogItemsConsole)||this}function B(e){this.loggerName=e,this.seenRegexes=[]}a.ConsoleAppender=_,B.prototype.setOptions=function(e){return t("level",e,this),t("userAgentRegex",e,this),t("disallow",e,this),t("ipRegex",e,this),t("appenders",e,this),t("onceOnly",e,this),this.seenRegexes=[],this},B.prototype.buildExceptionObject=function(e){var t={};return e.stack?t.stack=e.stack:t.e=e,e.message&&(t.message=e.message),e.name&&(t.name=e.name),e.data&&(t.data=e.data),e.inner&&(t.inner=this.buildExceptionObject(e.inner)),t},B.prototype.log=function(e,t,n){var i,r,o,s=0;if(this.appenders&&(e>=this.level&&h(this)&&(n?(r=this.buildExceptionObject(n)).logData=f(t):r=t,u(this,(i=c(r)).finalString)))){if(this.onceOnly)for(s=this.onceOnly.length-1;0<=s;){if(new RegExp(this.onceOnly[s]).test(i.finalString)){if(this.seenRegexes[s])return this;this.seenRegexes[s]=!0}s--}for(i.meta=i.meta||{},s=this.appenders.length-1;0<=s;)this.appenders[s].log((o=e)<=1e3?"trace":o<=2e3?"debug":o<=3e3?"info":o<=4e3?"warn":o<=5e3?"error":"fatal",i.msg,i.meta,function(){},e,i.finalString,this.loggerName),s--}return this},B.prototype.trace=function(e){return this.log(1e3,e)},B.prototype.debug=function(e){return this.log(2e3,e)},B.prototype.info=function(e){return this.log(3e3,e)},B.prototype.warn=function(e){return this.log(4e3,e)},B.prototype.error=function(e){return this.log(5e3,e)},B.prototype.fatal=function(e){return this.log(6e3,e)},B.prototype.fatalException=function(e,t){return this.log(6e3,e,t)},a.Logger=B,a.createAjaxAppender=function(e){return new x(e)},a.createConsoleAppender=function(e){return new _(e)},g=new("undefined"!=typeof window?x:_)(""),a.__=new a.Logger(""),a.__.setOptions({level:a.getDebugLevel(),appenders:[g]})}(JL=JL||{}),"undefined"!=typeof exports&&(exports.__esModule=!0,exports.JL=JL),"function"==typeof define&&define.amd&&define("jsnlog",[],function(){return JL}),"function"==typeof __jsnlog_configure&&__jsnlog_configure(JL),"undefined"==typeof window||window.onerror||(window.onerror=function(e,t,n,i,r){return 0<n&&0<i&&JL("onerrorLogger").fatalException({msg:"Uncaught Exception",rawUrl:window.location.href,userAgent:window.navigator.userAgent,errorMsg:e?e.message||e:"",url:t,"line number":n,column:i},r),!1}),"undefined"==typeof window||window.onunhandledrejection||(window.onunhandledrejection=function(e){JL("onerrorLogger").fatalException({msg:"unhandledrejection",rawUrl:window.location.href,userAgent:window.navigator.userAgent,errorMsg:e.reason?e.reason.message:e.message||null},e.reason)});
!function(n){function d(n,t){var r=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(r>>16)<<16|65535&r}function c(n,t,r,e,o,u){return d((t=d(d(t,n),d(e,u)))<<o|t>>>32-o,r)}function l(n,t,r,e,o,u,f){return c(t&r|~t&e,n,t,o,u,f)}function g(n,t,r,e,o,u,f){return c(t&e|r&~e,n,t,o,u,f)}function v(n,t,r,e,o,u,f){return c(t^r^e,n,t,o,u,f)}function m(n,t,r,e,o,u,f){return c(r^(t|~e),n,t,o,u,f)}function f(n,t){n[t>>5]|=128<<t%32,n[14+(t+64>>>9<<4)]=t;for(var r,e,o,u,f=1732584193,c=-271733879,i=-1732584194,a=271733878,h=0;h<n.length;h+=16)f=l(r=f,e=c,o=i,u=a,n[h],7,-680876936),a=l(a,f,c,i,n[h+1],12,-389564586),i=l(i,a,f,c,n[h+2],17,606105819),c=l(c,i,a,f,n[h+3],22,-1044525330),f=l(f,c,i,a,n[h+4],7,-176418897),a=l(a,f,c,i,n[h+5],12,1200080426),i=l(i,a,f,c,n[h+6],17,-1473231341),c=l(c,i,a,f,n[h+7],22,-45705983),f=l(f,c,i,a,n[h+8],7,1770035416),a=l(a,f,c,i,n[h+9],12,-1958414417),i=l(i,a,f,c,n[h+10],17,-42063),c=l(c,i,a,f,n[h+11],22,-1990404162),f=l(f,c,i,a,n[h+12],7,1804603682),a=l(a,f,c,i,n[h+13],12,-40341101),i=l(i,a,f,c,n[h+14],17,-1502002290),f=g(f,c=l(c,i,a,f,n[h+15],22,1236535329),i,a,n[h+1],5,-165796510),a=g(a,f,c,i,n[h+6],9,-1069501632),i=g(i,a,f,c,n[h+11],14,643717713),c=g(c,i,a,f,n[h],20,-373897302),f=g(f,c,i,a,n[h+5],5,-701558691),a=g(a,f,c,i,n[h+10],9,38016083),i=g(i,a,f,c,n[h+15],14,-660478335),c=g(c,i,a,f,n[h+4],20,-405537848),f=g(f,c,i,a,n[h+9],5,568446438),a=g(a,f,c,i,n[h+14],9,-1019803690),i=g(i,a,f,c,n[h+3],14,-187363961),c=g(c,i,a,f,n[h+8],20,1163531501),f=g(f,c,i,a,n[h+13],5,-1444681467),a=g(a,f,c,i,n[h+2],9,-51403784),i=g(i,a,f,c,n[h+7],14,1735328473),f=v(f,c=g(c,i,a,f,n[h+12],20,-1926607734),i,a,n[h+5],4,-378558),a=v(a,f,c,i,n[h+8],11,-2022574463),i=v(i,a,f,c,n[h+11],16,1839030562),c=v(c,i,a,f,n[h+14],23,-35309556),f=v(f,c,i,a,n[h+1],4,-1530992060),a=v(a,f,c,i,n[h+4],11,1272893353),i=v(i,a,f,c,n[h+7],16,-155497632),c=v(c,i,a,f,n[h+10],23,-1094730640),f=v(f,c,i,a,n[h+13],4,681279174),a=v(a,f,c,i,n[h],11,-358537222),i=v(i,a,f,c,n[h+3],16,-722521979),c=v(c,i,a,f,n[h+6],23,76029189),f=v(f,c,i,a,n[h+9],4,-640364487),a=v(a,f,c,i,n[h+12],11,-421815835),i=v(i,a,f,c,n[h+15],16,530742520),f=m(f,c=v(c,i,a,f,n[h+2],23,-995338651),i,a,n[h],6,-198630844),a=m(a,f,c,i,n[h+7],10,1126891415),i=m(i,a,f,c,n[h+14],15,-1416354905),c=m(c,i,a,f,n[h+5],21,-57434055),f=m(f,c,i,a,n[h+12],6,1700485571),a=m(a,f,c,i,n[h+3],10,-1894986606),i=m(i,a,f,c,n[h+10],15,-1051523),c=m(c,i,a,f,n[h+1],21,-2054922799),f=m(f,c,i,a,n[h+8],6,1873313359),a=m(a,f,c,i,n[h+15],10,-30611744),i=m(i,a,f,c,n[h+6],15,-1560198380),c=m(c,i,a,f,n[h+13],21,1309151649),f=m(f,c,i,a,n[h+4],6,-145523070),a=m(a,f,c,i,n[h+11],10,-1120210379),i=m(i,a,f,c,n[h+2],15,718787259),c=m(c,i,a,f,n[h+9],21,-343485551),f=d(f,r),c=d(c,e),i=d(i,o),a=d(a,u);return[f,c,i,a]}function i(n){for(var t="",r=32*n.length,e=0;e<r;e+=8)t+=String.fromCharCode(n[e>>5]>>>e%32&255);return t}function a(n){var t=[];for(t[(n.length>>2)-1]=void 0,e=0;e<t.length;e+=1)t[e]=0;for(var r=8*n.length,e=0;e<r;e+=8)t[e>>5]|=(255&n.charCodeAt(e/8))<<e%32;return t}function e(n){for(var t,r="0123456789abcdef",e="",o=0;o<n.length;o+=1)t=n.charCodeAt(o),e+=r.charAt(t>>>4&15)+r.charAt(15&t);return e}function h(n){return unescape(encodeURIComponent(n))}function o(n){return i(f(a(n=h(n)),8*n.length))}function u(n,t){var r,n=h(n),t=h(t),e=a(n),o=[],u=[];for(o[15]=u[15]=void 0,16<e.length&&(e=f(e,8*n.length)),r=0;r<16;r+=1)o[r]=909522486^e[r],u[r]=1549556828^e[r];return n=f(o.concat(a(t)),512+8*t.length),i(f(u.concat(n),640))}function t(n,t,r){return t?r?u(t,n):e(u(t,n)):r?o(n):e(o(n))}"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports?module.exports=t:n.md5=t}(this);
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.lvovich={})}(this,function(e){function a(e,t){var n=e.length;return e.substring(n-t.length,n)===t}var t={lastname:{exceptions:{androgynous:["бова","регин","дарвин","пэйлин","грин","цин","шенгелая"]},suffixes:{androgynous:["ан","ко","дзе","швили","ян","к","ер","ц","г","йн","дт","ен","ич","о","ун"],female:["ова","ая","ына","ина","ева","ска","ёва"],male:["кий","ов","ын","ев","ин","ёв","хий","ний","ый","ой"]}},firstname:{exceptions:{androgynous:["анри","алвард","валери","женя","закия","захария","иона","кири","ким","муса","райхон","саша","сева","ардак","арман","асыл","баглан","бакыт","бахыт","еркежан","жанат","жаркын","куаныш","манат","мереке","рауан","сымбат","тлеухан","умит","улжалгас","ырыс","айбала","акбала","ирза","арши","амиль"],male:["аба","абиба","савва","лёва","вова","-ага","агга","серега","алиада","муктада","абида","алда","маджуда","нурлыхуда","гиа","элиа","гарсиа","вавила","гавриила","генка","лука","дима","зосима","тима","фима","фома","кузьма","жора","миша","ермила","данила","гаврила","абдалла","аталла","абдилла","атилла","кайролла","абула","свитлана","бена","гена","агелина","джанна","кришна","степа","дра","назера","валера","эстера","двойра","калистра","заратустра","юра","иса","аиса","халиса","холиса","валенса","мусса","ата","паата","алета","никита","мота","шота","фаста","коста","маритта","малюта","васюта","вафа","мустафа","ганифа","лев","яков","константин","марсель","рамиль","эмиль","бактыгуль","даниэль","игорь","арминэ","изя","кузя","гия","мазия","кирикия","ркия","еркия","эркия","гулия","аксания","закария","зекерия","гарсия","шендля","филя","вилля","толя","коля","ваня","саня","загиря","боря","цайся","вася","ося","петя","витя","митя","костя","илья","абдала","абдель","фидель","фридель","абдилла","аталла","абла","лазарь","ава","вовка","семён"],female:["судаба","сураба","любава","джанлука","варвара","наташа","зайнаб","любов","сольвейг","шакед","аннаид","ингрид","синди","аллаберди","лали","натали","лили","нелли","элли","эмили","амили","адели","гулькай","алтынай","гюнай","гюльчитай","нурангиз","лиз","элиз","ботагоз","юлдуз","диляфруз","габи","сажи","фанни","мери","элдари","эльдари","хилари","хиллари","аннемари","розмари","товсари","ансари","одри","тери","ири","катя","катри","мэри","сатаней","ефтений","верунчик","гюзел","этел","рэйчел","джил","мерил","нинелл","бурул","ахлам","майрам","махаррам","мириам","дилярам","асем","мерьем","мирьем","эркаим","гулаим","айгерим","марьям","мирьям","эван","гульжиган","айдан","айжан","вивиан","гульжиан","лилиан","мариан","саиман","джоан","чулпан","лоран","моран","гульшан","аделин","жаклин","карин","каролин","каталин","катрин","керстин","кэтрин","мэрилин","рузалин","хелин","цеткин","ширин","элисон","дурсун","кристин","гульжиян","марьян","ренато","зейнеп","санабар","дильбар","гулизар","гульзар","пилар","дагмар","элинар","нилуфар","анхар","гаухар","естер","эстер","дженнифер","линор","элинор","элеонор","айнур","гульнур","шамсинур","элнур","ильсияр","нигяр","сигитас","агнес","анес","долорес","инес","анаис","таис","эллис","элис","кларис","амнерис","айрис","дорис","беатрис","грейс","грэйс","ботагос","маргос","джулианс","арус","диляфрус","саодат","зулхижат","хамат","патимат","хатимат","альжанат","маймунат","гульшат","рут","иргаш","айнаш","агнеш","зауреш","тэрбиш","ануш","азгануш","гаруш","николь","адась","адула","ахмадула","гейбадула","лив","ираги","пегги","абдурефи","адерми","лакшми","мими","наоми","изабель","абигейль","зебо","аширбу","судаба","айсулу","айши","жанет","гузаль","сапият","зауре","кармен","мадлен","алсу","айсу","амели","-бану","ассоль","николь"]},suffixes:{androgynous:["щи","ки"],male:["аба","б","ав","ев","ов","во","г","д","ж","з","би","ди","жи","ли","гани","ит","до","айт","юм","дула","ив","ги","улла","улль","фи","аль","ми","бель","була","йль","яй","бо","бу","кр","ыль","ыт","вва","вель","вни","аба","бала","улу","рза","ши","паша","го","но","ет","ят","ре","ри","ай","ей","ий","ой","ый","к","л","ам","ем","им","ом","ум","ым","ям","ан","бен","вен","ген","ден","ин","сейн","он","ун","ян","ио","ло","ро","то","шо","п","ар","др","ер","ир","ор","тр","ур","ыр","яр","ас","ес","ис","йс","кс","мс","ос","нс","рс","ус","юс","яс","ат","кт","нт","рт","ст","ут","ф","х","ш","ы","сь","тау","ен","коль","рау","обе","убе","иль","ево","ово","шу","ду","пуль","нко","су","вль","оль","ёв","ём","ец","сс","льс","хт","рн","дт"],female:["иба","люба","лава","ева","га","да","еа","иза","иа","ика","нка","ска","ела","ила","илла","эла","има","на","ра","са","та","фа","еса","сса","гуль","куль","нуэль","гюль","нэ","ая","ея","ия","йя","ля","мя","оя","ря","ся","вья","лья","мья","нья","рья","сья","тья","фья","зя","нша","ха","тка","нь","чь","мь","ерь","овка","евка","мба","зь","лка","сала","бла","арь","ума","пи","дель","не","жка","си","ибе","абе","елла","ие","фе","фя"]}},middlename:{suffixes:{female:["на","кызы","гызы"],male:["ич","оглы","улы","уулу"]}}},n=1,s=2,m=4;function r(e){return l(e,t.firstname)}function o(e){return l(e,t.lastname)}function d(e){return l(e,t.middlename)}function u(e,t){return e===m?t:t===m||e===t?e:null}function i(e){return c((t=m,(e=e).middle&&(t=u(t,d(e.middle.trim()))),e.first&&(t=u(t,r(e.first.trim()))),t=e.last&&null!==(e=o(e.last.trim()))?u(t,e):t));var t}function l(e,t){if(!e||!t)return null;var n=e.toLowerCase();if(t.exceptions){e=f(t.exceptions,function(e){return"-"===e.substr(0,"-".length)?a(n,e.substr(1)):e===n});if(e)return e}return t.suffixes?f(t.suffixes,function(e){return a(n,e)}):null}function f(t,n){var e=Object.keys(t).filter(function(e){e=t[e];return Array.isArray(e)&&e.some(n)});return 1!==e.length?(Object.keys(t).forEach(function(e){e=t[e];Array.isArray(e)&&e.some(n)}),null):g(e[0])}function g(e){switch(e){case"male":case n:return n;case"female":case s:return s;case"androgynous":case m:return m;default:return null}}function c(e){switch(e){case"male":case n:return"male";case"female":case s:return"female";case"androgynous":case m:return"androgynous";default:return null}}var y=1,v=2,p=3,h=4,x=5,b=6;function w(e){Array.isArray(e.exceptions)&&e.exceptions.forEach(function(e){e.gender=g(e.gender)}),Array.isArray(e.suffixes)&&e.suffixes.forEach(function(e){e.gender=g(e.gender)})}function j(e,t,n,s){for(var r=function(){switch(t){case"nominative":case y:return y;case"genitive":case v:return v;case"dative":case p:return p;case"accusative":case h:return h;case"instrumental":case x:return x;case"prepositional":case b:return b;default:return null}}(),o=g(n),d=e.split("-"),a=[],m=0;m<d.length;m++){var u=d[m],i=O(u,o,s,{firstWord:0===m&&1<d.length});a.push(i?L(i,u,r):u)}return a.join("-")}function O(e,t,n,s){var r=3<arguments.length&&void 0!==s?s:{};if(!e)return null;var o=e.toLowerCase(),d=[];if(Object.keys(r).forEach(function(e){r[e]&&d.push(e)}),n.exceptions){s=k(n.exceptions,t,function(e){return e===o},d);if(s)return s}return n.suffixes?k(n.suffixes,t,function(e){return a(o,e)},d):null}function k(e,t,n,s){for(var r=3<arguments.length&&void 0!==s?s:[],o=0;o<e.length;o++){var d=e[o];if((!d.tags||d.tags.find(function(e){return-1!=r.indexOf(e)}))&&(d.gender===m||t===d.gender)&&d.test)for(var a=0;a<d.test.length;a++)if(n(d.test[a]))return d}return null}function A(e,t){return e&&t<=e.length?e[t]:"."}function L(e,t,n){var s;switch(n){case y:s=".";break;case v:s=A(e.mods,0);break;case p:s=A(e.mods,1);break;case h:s=A(e.mods,2);break;case x:s=A(e.mods,3);break;case b:s=A(e.mods,4);break;default:s="."}return E(t,s)}function E(e,t){for(var n=0;n<t.length;n++){var s=t[n];switch(s){case".":break;case"-":e=e.substr(0,e.length-1);break;default:e+=s}}return e}var P={exceptions:[{gender:"androgynous",test:["бонч","абдул","белиц","гасан","дюссар","дюмон","книппер","корвин","ван","шолом","тер","призван","мелик","вар","фон"],mods:[".",".",".",".","."],tags:["first_word"]},{gender:"androgynous",test:["дюма","тома","дега","люка","ферма","гамарра","петипа","шандра","скаля","каруана"],mods:[".",".",".",".","."]},{gender:"androgynous",test:["гусь","ремень","камень","онук","богода","нечипас","долгопалец","маненок","рева","кива"],mods:[".",".",".",".","."]},{gender:"androgynous",test:["вий","сой","цой","хой"],mods:["-я","-ю","-я","-ем","-е"]}],suffixes:[{gender:"female",test:["б","в","г","д","ж","з","й","к","л","м","н","п","р","с","т","ф","х","ц","ч","ш","щ","ъ","ь"],mods:[".",".",".",".","."]},{gender:"androgynous",test:["орота"],mods:[".",".",".",".","."]},{gender:"female",test:["ска","цка"],mods:["-ой","-ой","-ую","-ой","-ой"]},{gender:"female",test:["цкая","ская","ная","ая"],mods:["--ой","--ой","--ую","--ой","--ой"]},{gender:"female",test:["яя"],mods:["--ей","--ей","--юю","--ей","--ей"]},{gender:"male",test:["иной","уй"],mods:["-я","-ю","-я","-ем","-е"]},{gender:"androgynous",test:["ца"],mods:["-ы","-е","-у","-ей","-е"]},{gender:"male",test:["рих"],mods:["а","у","а","ом","е"]},{gender:"androgynous",test:["ия"],mods:["-и","-и","-ю","-ей","-и"]},{gender:"androgynous",test:["иа","аа","оа","уа","ыа","еа","юа","эа"],mods:[".",".",".",".","."]},{gender:"androgynous",test:["о","е","э","и","ы","у","ю"],mods:[".",".",".",".","."]},{gender:"male",test:["их","ых"],mods:[".",".",".",".","."]},{gender:"female",test:["ова","ева","на","ёва"],mods:["-ой","-ой","-у","-ой","-ой"]},{gender:"androgynous",test:["га","ка","ха","ча","ща","жа","ша"],mods:["-и","-е","-у","-ой","-е"]},{gender:"androgynous",test:["а"],mods:["-ы","-е","-у","-ой","-е"]},{gender:"male",test:["ь"],mods:["-я","-ю","-я","-ем","-е"]},{gender:"androgynous",test:["я"],mods:["-и","-е","-ю","-ей","-е"]},{gender:"male",test:["обей"],mods:["--ья","--ью","--ья","--ьем","--ье"]},{gender:"male",test:["ей"],mods:["-я","-ю","-я","-ем","-е"]},{gender:"male",test:["ян","ан","йн"],mods:["а","у","а","ом","е"]},{gender:"male",test:["ынец","овец"],mods:["--ца","--цу","--ца","--цом","--це"]},{gender:"male",test:["нец","обец"],mods:["--ца","--цу","--ца","--цем","--це"]},{gender:"male",test:["ай"],mods:["-я","-ю","-я","-ем","-е"]},{gender:"male",test:["гой","кой"],mods:["-го","-му","-го","--им","-м"]},{gender:"male",test:["ой"],mods:["-го","-му","-го","--ым","-м"]},{gender:"male",test:["ах","ив","шток"],mods:["а","у","а","ом","е"]},{gender:"male",test:["ший","щий","жий","ний"],mods:["--его","--ему","--его","-м","--ем"]},{gender:"male",test:["ый","кий","хий"],mods:["--ого","--ому","--ого","-м","--ом"]},{gender:"male",test:["ий"],mods:["-я","-ю","-я","-ем","-и"]},{gender:"male",test:["ок"],mods:["--ка","--ку","--ка","--ком","--ке"]},{gender:"male",test:["иец","еец"],mods:["--йца","--йцу","--йца","--йцом","--йце"]},{gender:"male",test:["ец"],mods:["--ца","--цу","--ца","--цом","--це"]},{gender:"male",test:["ц","ч","ш","щ"],mods:["а","у","а","ем","е"]},{gender:"male",test:["ен","нн","он","ун","б","г","д","ж","з","к","л","м","п","р","с","т","ф","х"],mods:["а","у","а","ом","е"]},{gender:"male",test:["в","н"],mods:["а","у","а","ым","е"]}]},C={exceptions:[{gender:"androgynous",test:["борух"],mods:[".",".",".",".","."],tags:["first_word"]}],suffixes:[{gender:"male",test:["мич","ьич","кич"],mods:["а","у","а","ом","е"]},{gender:"male",test:["ич"],mods:["а","у","а","ем","е"]},{gender:"female",test:["на"],mods:["-ы","-е","-у","-ой","-е"]}]},G={exceptions:[{gender:"male",test:["лев"],mods:["--ьва","--ьву","--ьва","--ьвом","--ьве"]},{gender:"male",test:["пётр"],mods:["---етра","---етру","---етра","---етром","---етре"]},{gender:"male",test:["павел"],mods:["--ла","--лу","--ла","--лом","--ле"]},{gender:"male",test:["яша"],mods:["-и","-е","-у","-ей","-е"]},{gender:"male",test:["шота"],mods:[".",".",".",".","."]},{gender:"female",test:["агидель","жизель","нинель","рашель","рахиль"],mods:["-и","-и",".","ю","-и"]}],suffixes:[{gender:"androgynous",test:["лок"],mods:["--ка","--ку",".","--кос","--ке"]},{gender:"androgynous",test:["ки"],mods:["-ов","-ам",".","-ами","-ах"]},{gender:"androgynous",test:["щи"],mods:["-ев","-ам",".","-ами","-ах"]},{gender:"androgynous",test:["е","ё","и","о","у","ы","э","ю"],mods:[".",".",".",".","."]},{gender:"male",test:["уа","иа"],mods:[".",".",".",".","."]},{gender:"female",test:["б","в","г","д","ж","з","й","к","л","м","н","п","р","с","т","ф","х","ц","ч","ш","щ","ъ","иа","ль"],mods:[".",".",".",".","."]},{gender:"female",test:["ь"],mods:["-и","-и",".","ю","-и"]},{gender:"male",test:["ь"],mods:["-я","-ю","-я","-ем","-е"]},{gender:"androgynous",test:["га","ка","ха","ча","ща","жа"],mods:["-и","-е","-у","-ой","-е"]},{gender:"female",test:["ша"],mods:["-и","-е","-у","-ей","-е"]},{gender:"male",test:["ша","ча","жа"],mods:["-и","-е","-у","-ей","-е"]},{gender:"androgynous",test:["а"],mods:["-ы","-е","-у","-ой","-е"]},{gender:"female",test:["ия"],mods:["-и","-и","-ю","-ей","-и"]},{gender:"female",test:["ка","га","ха"],mods:["-и","-е","-у","-ой","-е"]},{gender:"female",test:["ца"],mods:["-ы","-е","-у","-ей","-е"]},{gender:"female",test:["а"],mods:["-ы","-е","-у","-ой","-е"]},{gender:"female",test:["я"],mods:["-и","-е","-ю","-ей","-е"]},{gender:"male",test:["ия"],mods:["-и","-и","-ю","-ей","-и"]},{gender:"male",test:["я"],mods:["-и","-е","-ю","-ей","-е"]},{gender:"male",test:["ий"],mods:["-я","-ю","-я","-ем","-и"]},{gender:"male",test:["ый","кий","хий"],mods:["--ого","--ому","--ого","-м","--ом"]},{gender:"male",test:["ей","й"],mods:["-я","-ю","-я","-ем","-е"]},{gender:"male",test:["ш","ж"],mods:["а","у","а","ем","е"]},{gender:"male",test:["ёл"],mods:["--ла","--лу","--ла","--лом","--ле"]},{gender:"male",test:["ёк"],mods:["--ька","--ьку","--ька","--ьком","--ьке"]},{gender:"male",test:["б","в","г","д","ж","з","к","л","м","н","п","р","с","т","ф","х","ц","ч"],mods:["а","у","а","ом","е"]},{gender:"androgynous",test:["ния","рия","вия"],mods:["-и","-и","-ю","-ем","-ем"]}]};function _(e){return j(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"accusative",(2<arguments.length?arguments[2]:void 0)||r(e),G)}function F(e){return j(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"accusative",(2<arguments.length?arguments[2]:void 0)||o(e),P)}function M(e){return j(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"accusative",(2<arguments.length?arguments[2]:void 0)||d(e),C)}function S(s){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},t=Object.keys(r);(t="function"==typeof Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})):t).forEach(function(e){var t,n=r[e=e];e in(t=s)?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n})}return s}w(P),w(C),w(G);var I=["форт-шевченко"],T=["-"," ","в","на","баден","бледно","буэнос","вице","гаврилов","йошкар","коста","лос","норд","нью","орехово","принс","сан","санкт","санта","северо","ситтард","темно","улан","усолье","усть","форт","царь","экс","юго","юрьев","нур"],W=["село","поселок","аул","город","деревня","урочище"],q={exceptions:[{test:["сочи","тбилиси"],mods:["","","","",""]},{test:["село","озеро","место"],mods:["-а","-у","","м","-е"]},{test:["область"],mods:["-и","-и","","ю","-и"]},{test:["деревня"],mods:["-и","-е","-ю","-ей","-е"]},{test:["море"],mods:["-я","-ю","","м",""]},{test:["холм"],mods:["а","у","","ом","е"]},{test:["орел","орёл"],mods:["--ла","--лу","--ла","--лом","--ле"]}],suffixes:[{test:["чёк","чек"],mods:["--ка","--ку","","--ком","--ке"]},{test:["чик","ич"],mods:["а","у","","ом","е"]},{test:["жний","хний","шний","щий"],mods:["--его","--ему","","-м","--ем"]},{test:["ще"],mods:["-а","-у","","м",""]},{test:["щи"],mods:["-","-ам","","-ами","-ах"]},{test:["чье"],mods:["-я","-ю","","м",""]},{test:["ель","пль"],mods:["-я","-ю","","-ем","-е"]},{test:["чь"],mods:["-и","-и","","ю","-и"]},{test:["чи"],mods:["-ей","-ам","","-ами","-ах"]},{test:["ые","ие"],mods:["-х","-м","","-ми","-х"]},{test:["ый","ий","ое"],mods:["--ого","--ому","","-м","--ом"]},{test:["ая"],mods:["--ой","--ой","--ую","--ой","--ой"]},{test:["гиев"],mods:["а","у","","ым","ом"]},{test:["ны","вцы"],mods:["-ов","-ам","","-ами","-ах"]},{test:["ша"],mods:["-и","-е","-у","-ей","-е"]},{test:["ры","цы","ды","ги"],mods:["-","-ам","","-ами","-ах"]},{test:["амень"],mods:["---ня","---ню","","---нем","---не"]},{test:["ьн","нц","мм"],mods:["а","у","","ом","е"]}]},z={exceptions:q.exceptions.map(function(e){return S({gender:m},e)}),suffixes:q.suffixes.map(function(e){return S({gender:m},e)})};function B(e,s,r){return D(e,I)?e:e.split(/(\s|-)/g).map(function(e,t,n){return H(e,t,n)?e:(t=O(e,m,z))?L(t,e,s):_(e,s,r)||e}).join("")}function D(e,t){for(var n=e.toLowerCase(),s=0;s<t.length;s++)if(t[s]===n)return 1}function H(e,t,n){if(1<n.length){if(D(e,T))return 1;for(var s=0;s<t;s++)if(D(n[s],W))return 1}}w(z),e.incline=function(e,t){var n={};return n.gender||(n.gender=i(e)),e.first&&(n.first=_(e.first.trim(),t,n.gender)),e.last&&(n.last=F(e.last.trim(),t,n.gender)),e.middle&&(n.middle=M(e.middle.trim(),t,n.gender)),n},e.inclineFirstname=_,e.inclineLastname=F,e.inclineMiddlename=M,e.getGender=i,e.getFirstnameGender=function(e){return c(r(e))},e.getLastnameGender=function(e){return c(o(e))},e.getMiddlenameGender=function(e){return c(d(e))},e.cityIn=function(e,t){return B(e,b,t)},e.cityFrom=function(e,t){return B(e,v,t)},e.cityTo=function(e){return e&&e.split(/(\s|-)/g).map(function(e,t,n){return H(e,t,n)?e:a(t=e.toLowerCase(),"а")?E(e,"-у"):a(t,"ая")?E(e,"--ую"):a(t,"ия")?E(e,"--ию"):a(t,"я")?E(e,"-ю"):e}).join("")},Object.defineProperty(e,"__esModule",{value:!0})});
!function(e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():e()}(function(){var a="undefined"!=typeof window?window:this,e=a.Glider=function(e,t){var o=this;if(e._glider)return e._glider;if(o.ele=e,o.ele.classList.add("glider"),(o.ele._glider=o).opt=Object.assign({},{slidesToScroll:1,slidesToShow:1,resizeLock:!0,duration:.5,easing:function(e,t,o,i,r){return i*(t/=r)*t+o}},t),o.animate_id=o.page=o.slide=0,o.arrows={},o._opt=o.opt,o.opt.skipTrack)o.track=o.ele.children[0];else for(o.track=document.createElement("div"),o.ele.appendChild(o.track);1!==o.ele.children.length;)o.track.appendChild(o.ele.children[0]);o.track.classList.add("glider-track"),o.init(),o.resize=o.init.bind(o,!0),o.event(o.ele,"add",{scroll:o.updateControls.bind(o)}),o.event(a,"add",{resize:o.resize})},t=e.prototype;return t.init=function(e,t){var o,i=this,r=0,s=0,l=(i.slides=i.track.children,[].forEach.call(i.slides,function(e){e.classList.add("glider-slide")}),i.containerWidth=i.ele.clientWidth,i.settingsBreakpoint());t=t||l,"auto"!==i.opt.slidesToShow&&void 0===i.opt._autoSlide||(o=i.containerWidth/i.opt.itemWidth,i.opt._autoSlide=i.opt.slidesToShow=i.opt.exactWidth?o:Math.floor(o)),"auto"===i.opt.slidesToScroll&&(i.opt.slidesToScroll=Math.floor(i.opt.slidesToShow)),i.itemWidth=i.opt.exactWidth?i.opt.itemWidth:i.containerWidth/i.opt.slidesToShow,[].forEach.call(i.slides,function(e){e.style.height="auto",e.style.width=i.itemWidth+"px",r+=i.itemWidth,s=Math.max(e.offsetHeight,s)}),i.track.style.width=r+"px",i.trackWidth=r,i.isDrag=!1,i.preventClick=!1,i.opt.resizeLock&&i.scrollTo(i.slide*i.itemWidth,0),(l||t)&&(i.bindArrows(),i.buildDots(),i.bindDrag()),i.updateControls(),i.emit(e?"refresh":"loaded")},t.bindDrag=function(){var t=this;function e(){t.mouseDown=void 0,t.ele.classList.remove("drag"),t.isDrag&&(t.preventClick=!0),t.isDrag=!1}t.mouse=t.mouse||t.handleMouse.bind(t);var o={mouseup:e,mouseleave:e,mousedown:function(e){e.preventDefault(),e.stopPropagation(),t.mouseDown=e.clientX,t.ele.classList.add("drag")},mousemove:t.mouse,click:function(e){t.preventClick&&(e.preventDefault(),e.stopPropagation()),t.preventClick=!1}};t.ele.classList.toggle("draggable",!0===t.opt.draggable),t.event(t.ele,"remove",o),t.opt.draggable&&t.event(t.ele,"add",o)},t.buildDots=function(){var e=this;if(e.opt.dots){if("string"==typeof e.opt.dots?e.dots=document.querySelector(e.opt.dots):e.dots=e.opt.dots,e.dots){e.dots.innerHTML="",e.dots.classList.add("glider-dots");for(var t=0;t<Math.ceil(e.slides.length/e.opt.slidesToShow);++t){var o=document.createElement("button");o.dataset.index=t,o.setAttribute("aria-label","Page "+(t+1)),o.className="glider-dot "+(t?"":"active"),e.event(o,"add",{click:e.scrollItem.bind(e,t,!0)}),e.dots.appendChild(o)}}}else e.dots&&(e.dots.innerHTML="")},t.bindArrows=function(){var o=this;o.opt.arrows?["prev","next"].forEach(function(e){var t=o.opt.arrows[e];t&&((t="string"==typeof t?document.querySelector(t):t)._func=t._func||o.scrollItem.bind(o,e),o.event(t,"remove",{click:t._func}),o.event(t,"add",{click:t._func}),o.arrows[e]=t)}):Object.keys(o.arrows).forEach(function(e){e=o.arrows[e];o.event(e,"remove",{click:e._func})})},t.updateControls=function(e){var n=this,t=(e&&!n.opt.scrollPropagate&&e.stopPropagation(),n.containerWidth>=n.trackWidth),a=(n.opt.rewind||(n.arrows.prev&&n.arrows.prev.classList.toggle("disabled",n.ele.scrollLeft<=0||t),n.arrows.next&&n.arrows.next.classList.toggle("disabled",Math.ceil(n.ele.scrollLeft+n.containerWidth)>=Math.floor(n.trackWidth)||t)),n.slide=Math.round(n.ele.scrollLeft/n.itemWidth),n.page=Math.round(n.ele.scrollLeft/n.containerWidth),n.slide+Math.floor(Math.floor(n.opt.slidesToShow)/2)),d=Math.floor(n.opt.slidesToShow)%2?0:a+1;1===Math.floor(n.opt.slidesToShow)&&(d=0),n.ele.scrollLeft+n.containerWidth>=Math.floor(n.trackWidth)&&(n.page=n.dots?n.dots.children.length-1:0),[].forEach.call(n.slides,function(e,t){var o=e.classList,e=o.contains("visible"),i=n.ele.scrollLeft,r=n.ele.scrollLeft+n.containerWidth,s=n.itemWidth*t,l=s+n.itemWidth,s=([].forEach.call(o,function(e){/^left|right/.test(e)&&o.remove(e)}),o.toggle("active",n.slide===t),a===t||d&&d===t?o.add("center"):(o.remove("center"),o.add([t<a?"left":"right",Math.abs(t-(!(t<a)&&d||a))].join("-"))),Math.ceil(s)>=i&&Math.floor(l)<=r);o.toggle("visible",s),s!==e&&n.emit("slide-"+(s?"visible":"hidden"),{slide:t})}),n.dots&&[].forEach.call(n.dots.children,function(e,t){e.classList.toggle("active",n.page===t)}),e&&n.opt.scrollLock&&(clearTimeout(n.scrollLock),n.scrollLock=setTimeout(function(){clearTimeout(n.scrollLock),.02<Math.abs(n.ele.scrollLeft/n.itemWidth-n.slide)&&(n.mouseDown||n.trackWidth>n.containerWidth+n.ele.scrollLeft&&n.scrollItem(n.getCurrentSlide()))},n.opt.scrollLockDelay||250))},t.getCurrentSlide=function(){var e=this;return e.round(e.ele.scrollLeft/e.itemWidth)},t.scrollItem=function(e,t,o){o&&o.preventDefault();var i,r=this,s=e;return++r.animate_id,e=!0===t?(e*=r.containerWidth,Math.round(e/r.itemWidth)*r.itemWidth):("string"==typeof e&&(o="prev"===e,e=r.opt.slidesToScroll%1||r.opt.slidesToShow%1?r.getCurrentSlide():r.slide,o?e-=r.opt.slidesToScroll:e+=r.opt.slidesToScroll,r.opt.rewind)&&(i=r.ele.scrollLeft,e=o&&!i?r.slides.length:!o&&i+r.containerWidth>=Math.floor(r.trackWidth)?0:e),e=Math.max(Math.min(e,r.slides.length),0),r.slide=e,r.itemWidth*e),r.scrollTo(e,r.opt.duration*Math.abs(r.ele.scrollLeft-e),function(){r.updateControls(),r.emit("animated",{value:s,type:"string"==typeof s?"arrow":t?"dot":"slide"})}),!1},t.settingsBreakpoint=function(){var e=this,t=e._opt.responsive;if(t){t.sort(function(e,t){return t.breakpoint-e.breakpoint});for(var o=0;o<t.length;++o){var i=t[o];if(a.innerWidth>=i.breakpoint)return e.breakpoint!==i.breakpoint&&(e.opt=Object.assign({},e._opt,i.settings),e.breakpoint=i.breakpoint,!0)}}var r=0!==e.breakpoint;return e.opt=Object.assign({},e._opt),e.breakpoint=0,r},t.scrollTo=function(t,o,i){var r=this,s=(new Date).getTime(),l=r.animate_id,n=function(){var e=(new Date).getTime()-s;r.ele.scrollLeft=r.ele.scrollLeft+(t-r.ele.scrollLeft)*r.opt.easing(0,e,0,1,o),e<o&&l===r.animate_id?a.requestAnimationFrame(n):(r.ele.scrollLeft=t,i&&i.call(r))};a.requestAnimationFrame(n)},t.removeItem=function(e){var t=this;t.slides.length&&(t.track.removeChild(t.slides[e]),t.refresh(!0),t.emit("remove"))},t.addItem=function(e){this.track.appendChild(e),this.refresh(!0),this.emit("add")},t.handleMouse=function(e){var t=this;t.mouseDown&&(t.isDrag=!0,t.ele.scrollLeft+=(t.mouseDown-e.clientX)*(t.opt.dragVelocity||3.3),t.mouseDown=e.clientX)},t.round=function(e){var t=1/(this.opt.slidesToScroll%1||1);return Math.round(e*t)/t},t.refresh=function(e){this.init(!0,e)},t.setOption=function(t,e){var o=this;o.breakpoint&&!e?o._opt.responsive.forEach(function(e){e.breakpoint===o.breakpoint&&(e.settings=Object.assign({},e.settings,t))}):o._opt=Object.assign({},o._opt,t),o.breakpoint=0,o.settingsBreakpoint()},t.destroy=function(){function e(t){t.removeAttribute("style"),[].forEach.call(t.classList,function(e){/^glider/.test(e)&&t.classList.remove(e)})}var t=this,o=t.ele.cloneNode(!0);o.children[0].outerHTML=o.children[0].innerHTML,e(o),[].forEach.call(o.getElementsByTagName("*"),e),t.ele.parentNode.replaceChild(o,t.ele),t.event(a,"remove",{resize:t.resize}),t.emit("destroy")},t.emit=function(e,t){e=new a.CustomEvent("glider-"+e,{bubbles:!this.opt.eventPropagate,detail:t});this.ele.dispatchEvent(e)},t.event=function(e,t,o){var i=e[t+"EventListener"].bind(e);Object.keys(o).forEach(function(e){i(e,o[e])})},e});
"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||function(e){if("Element"in e){e=e.Element.prototype;var n=Object,o=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},i=Array.prototype.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},r=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},a=function(t,e){if(""===e)throw new r("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(e))throw new r("INVALID_CHARACTER_ERR","The token must not contain space characters.");return i.call(t,e)},t=function(t){for(var e=o.call(t.getAttribute("class")||""),n=0,i=(e=e?e.split(/\s+/):[]).length;n<i;n++)this.push(e[n]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},s=t.prototype=[],c=function(){return new t(this)};if(r.prototype=Error.prototype,s.item=function(t){return this[t]||null},s.contains=function(t){return~a(this,t+"")},s.add=function(){var t=arguments,e=0,n=t.length,i=!1;do{var o=t[e]+""}while(~a(this,o)||(this.push(o),i=!0),++e<n);i&&this._updateClassName()},s.remove=function(){var t=arguments,e=0,n=t.length,i=!1;do{for(var o=t[e]+"",r=a(this,o);~r;)this.splice(r,1),i=!0,r=a(this,o)}while(++e<n);i&&this._updateClassName()},s.toggle=function(t,e){var n=this.contains(t),i=n?!0!==e&&"remove":!1!==e&&"add";return i&&this[i](t),!0===e||!1===e?e:!n},s.replace=function(t,e){t=a(t+"");~t&&(this.splice(t,1,e),this._updateClassName())},s.toString=function(){return this.join(" ")},n.defineProperty){s={get:c,enumerable:!0,configurable:!0};try{n.defineProperty(e,"classList",s)}catch(t){void 0!==t.number&&-2146823252!==t.number||(s.enumerable=!1,n.defineProperty(e,"classList",s))}}else n.prototype.__defineGetter__&&e.__defineGetter__("classList",c)}}(self),function(){var t,n,e=document.createElement("_");e.classList.add("c1","c2"),e.classList.contains("c2")||((t=function(t){var i=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){for(var e=arguments.length,n=0;n<e;n++)i.call(this,arguments[n])}})("add"),t("remove")),e.classList.toggle("c3",!1),e.classList.contains("c3")&&(n=DOMTokenList.prototype.toggle,DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}),"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(t,e){var n=this.toString().split(" "),t=n.indexOf(t+"");~t&&(n=n.slice(t),this.remove.apply(this,n),this.add(e),this.add.apply(this,n.slice(1)))})}()),function(){if("undefined"!=typeof window)try{var e=new window.CustomEvent("test",{cancelable:!0});if(e.preventDefault(),!0!==e.defaultPrevented)throw Error("Could not prevent default")}catch(t){(e=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent"),i=(n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n.preventDefault);return n.preventDefault=function(){i.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(t){this.defaultPrevented=!0}},n}).prototype=window.Event.prototype,window.CustomEvent=e}}(),Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t){if(null==t)throw new TypeError("Cannot convert first argument to object");for(var e=Object(t),n=1;n<arguments.length;n++)if(null!=(i=arguments[n]))for(var i=Object(i),o=Object.keys(Object(i)),r=0,a=o.length;r<a;r++){var s=o[r],c=Object.getOwnPropertyDescriptor(i,s);void 0!==c&&c.enumerable&&(e[s]=i[s])}return e}}),function(){for(var r=0,t=["ms","moz","webkit","o"],e=0;e<t.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[t[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[e]+"CancelAnimationFrame"]||window[t[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,e){var n=(new Date).getTime(),i=Math.max(0,16-(n-r)),o=window.setTimeout(function(){t(n+i)},i);return r=n+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).LazyLoad=n()}(this,function(){function n(){return(n=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e,a=arguments[n];for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t}).apply(this,arguments)}function o(t){return n({},H,t)}function t(t,n){var e,n=new t(n);try{e=new CustomEvent("LazyLoad::Initialized",{detail:{instance:n}})}catch(t){(e=document.createEvent("CustomEvent")).initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:n})}window.dispatchEvent(e)}function u(t){return"native"===E(t)}function l(t,n){t&&(t.toLoadCount=n)}function e(t){for(var n,e=[],a=0;n=t.children[a];a+=1)"SOURCE"===n.tagName&&e.push(n);return e}function a(t){var n;Q(t)||((n={}).src=t.getAttribute("src"),n.srcset=t.getAttribute("srcset"),n.sizes=t.getAttribute("sizes"),t.llOriginalAttrs=n)}function i(t,n){O(t,"sizes",h(t,n.data_sizes)),O(t,"srcset",h(t,n.data_srcset)),O(t,"src",h(t,n.data_src))}function r(t,n){e(t).forEach(n)}function s(t,n){var e=Y[t.tagName];e&&e(t,n)}function d(t,n){var e=tt[t.tagName];e?e(t,n):(m(e=t,(t=n).data_bg,null),m(e,t.data_bg_hidpi,null))}function f(t,n){!n||0<n.loadingCount||0<n.toLoadCount||A(t.callback_finish,n)}function _(t,n,e){t.addEventListener(n,e),t.llEvLisnrs[n]=e}function g(t,n,e){delete t.llTempImage,k(e,-1),e&&--e.toLoadCount,w(t,n.class_loading),n.unobserve_completed&&z(t,e)}function D(t,n,e){var a,i,r,o,l;t.llTempImage=document.createElement("IMG"),R(t,n,e),r=e,o=h(a=t,(i=n).data_bg),l=h(a,i.data_bg_hidpi),(l=q&&l?l:o)&&(a.style.backgroundImage='url("'.concat(l,'")'),K(a).setAttribute("src",l),Z(a,i,r)),o=e,i=h(l=t,(a=n).data_bg_multi),r=h(l,a.data_bg_multi_hidpi),(r=q&&r?r:i)&&(l.style.backgroundImage=r,i=o,L(r=l,(o=a).class_applied),I(r,"applied"),nt(r,o),o.unobserve_completed&&z(r,o),A(o.callback_applied,r,i))}function c(t){return t.use_native&&"loading"in HTMLImageElement.prototype}function F(t,c,u){t.forEach(function(t){return t.isIntersecting||0<t.intersectionRatio?(r=t.target,o=t,l=c,s=u,I(r,"entered"),l.unobserve_entered&&z(r,s),A(l.callback_enter,r,o,s),void(0<=J.indexOf(E(r))||G(r,l,s))):(o=t.target,r=t,l=c,s=u,void(B(o)||(t=o,n=r,a=s,(e=l).cancel_on_exit&&"loading"===E(t)&&"IMG"===t.tagName&&(M(t),N(i=t,function(t){X(t)}),X(i),N(i=t,function(t){W(t)}),W(i),w(t,e.class_loading),k(a,-1),y(t),A(e.callback_cancel,t,n,a)),A(l.callback_exit,o,r,s))));var n,e,a,i,r,o,l,s})}function V(t){return Array.prototype.slice.call(t)}function v(t){return t.container.querySelectorAll(t.elements_selector)}function j(t){return"error"===E(t)}function P(t,n){return t=t||v(n),V(t).filter(B)}function p(t,n){var a,i,e,r,t=o(t);this._settings=t,this.loadingCount=0,e=t,r=this,U&&!c(e)&&(r._observer=new IntersectionObserver(function(t){F(t,e,r)},{root:e.container===document?null:e.container,rootMargin:e.thresholds||e.threshold+"px"})),a=t,i=this,b&&window.addEventListener("online",function(){var n,t,e;t=i,e=v(n=a),V(e).filter(j).forEach(function(t){w(t,n.class_error),y(t)}),t.update()}),this.update(n)}var b="undefined"!=typeof window,S=b&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),U=b&&"IntersectionObserver"in window,$=b&&"classList"in document.createElement("p"),q=b&&1<window.devicePixelRatio,H={elements_selector:".lazy",container:S||b?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1},h=function(t,n){return t.getAttribute("data-"+n)},m=function(t,n,e){n="data-"+n;null!==e?t.setAttribute(n,e):t.removeAttribute(n)},E=function(t){return h(t,"ll-status")},I=function(t,n){return m(t,"ll-status",n)},y=function(t){return I(t,null)},B=function(t){return null===E(t)},J=["loading","loaded","applied","error"],A=function(t,n,e,a){t&&(void 0===a?void 0===e?t(n):t(n,e):t(n,e,a))},L=function(t,n){$?t.classList.add(n):t.className+=(t.className?" ":"")+n},w=function(t,n){$?t.classList.remove(n):t.className=t.className.replace(new RegExp("(^|\\s+)"+n+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},K=function(t){return t.llTempImage},z=function(t,n){n&&(n=n._observer)&&n.unobserve(t)},k=function(t,n){t&&(t.loadingCount+=n)},O=function(t,n,e){e&&t.setAttribute(n,e)},C=function(t,n){t.removeAttribute(n)},Q=function(t){return!!t.llOriginalAttrs},W=function(t){var n;Q(t)&&(n=t.llOriginalAttrs,O(t,"src",n.src),O(t,"srcset",n.srcset),O(t,"sizes",n.sizes))},X=function(t){C(t,"src"),C(t,"srcset"),C(t,"sizes")},N=function(t,n){t=t.parentNode;t&&"PICTURE"===t.tagName&&e(t).forEach(n)},Y={IMG:function(t,n){N(t,function(t){a(t),i(t,n)}),a(t),i(t,n)},IFRAME:function(t,n){O(t,"src",h(t,n.data_src))},VIDEO:function(t,n){r(t,function(t){O(t,"src",h(t,n.data_src))}),O(t,"poster",h(t,n.data_poster)),O(t,"src",h(t,n.data_src)),t.load()}},Z=function(t,n,e){k(e,1),L(t,n.class_loading),I(t,"loading"),A(n.callback_loading,t,e)},tt={IMG:function(t,n){m(t,n.data_src,null),m(t,n.data_srcset,null),m(t,n.data_sizes,null),N(t,function(t){m(t,n.data_srcset,null),m(t,n.data_sizes,null)})},IFRAME:function(t,n){m(t,n.data_src,null)},VIDEO:function(t,n){m(t,n.data_src,null),m(t,n.data_poster,null),r(t,function(t){m(t,n.data_src,null)})}},nt=function(t,n){m(t,n.data_bg_multi,null),m(t,n.data_bg_multi_hidpi,null)},et=["IMG","IFRAME","VIDEO"],at=function(t,n,e){t.removeEventListener(n,e)},x=function(t){return!!t.llEvLisnrs},M=function(t){if(x(t)){var n,e=t.llEvLisnrs;for(n in e){var a=e[n];at(t,n,a)}delete t.llEvLisnrs}},R=function(o,l,s){var t,n,c=K(o)||o;x(c)||(x(t=c)||(t.llEvLisnrs={}),n="VIDEO"===t.tagName?"loadeddata":"load",_(t,n,function(t){var n=0,e=o,a=l,i=s,r=u(e);g(e,a,i),L(e,a.class_loaded),I(e,"loaded"),d(e,a),A(a.callback_loaded,e,i),r||f(a,i),M(c)}),_(t,"error",function(t){var n=0,e=o,a=l,i=s,r=u(e);g(e,a,i),L(e,a.class_error),I(e,"error"),A(a.callback_error,e,i),r||f(a,i),M(c)}))},G=function(t,n,e){var a,i,r;-1<et.indexOf(t.tagName)?(R(a=t,i=n,r=e),s(a,i),Z(a,i,r)):D(t,n,e)},it=["IMG","IFRAME"];if(p.prototype={update:function(t){var n,e,a,i,r=this._settings,t=P(t,r);l(this,t.length),!S&&U?c(r)?(a=r,i=this,t.forEach(function(t){var n;-1!==it.indexOf(t.tagName)&&(t.setAttribute("loading","lazy"),R(t=t,n=a,i),s(t,n),d(t,n),I(t,"native"))}),l(i,0)):(r=t,(n=this._observer).disconnect(),e=n,r.forEach(function(t){e.observe(t)})):this.loadAll(t)},destroy:function(){this._observer&&this._observer.disconnect(),v(this._settings).forEach(function(t){delete t.llOriginalAttrs}),delete this._observer,delete this._settings,delete this.loadingCount,delete this.toLoadCount},loadAll:function(t){var n=this,e=this._settings;P(t,e).forEach(function(t){z(t,n),G(t,e,n)})}},p.load=function(t,n){n=o(n);G(t,n)},p.resetStatus=function(t){y(t)},b){var rt=p,T=window.lazyLoadOptions;if(T)if(T.length)for(var ot,lt=0;ot=T[lt];lt+=1)t(rt,ot);else t(rt,T)}return p});
!function(dt){function n(t){if(!yt(t))return sr;A(t.objectMaxDepth)&&(sr.objectMaxDepth=w(t.objectMaxDepth)?t.objectMaxDepth:NaN),A(t.urlErrorParamsEnabled)&&S(t.urlErrorParamsEnabled)&&(sr.urlErrorParamsEnabled=t.urlErrorParamsEnabled)}function w(t){return g(t)&&0<t}function M(i,o){return o=o||Error,function(){var t=arguments[0];for(e="["+(i?i+":":"")+t+"] http://errors.angularjs.org/1.8.2/"+(i?i+"/":"")+t,t=1;t<arguments.length;t++){var e=e+(1==t?"?":"&")+"p"+(t-1)+"=",n=encodeURIComponent,r=arguments[t];e+=n(r="function"==typeof r?r.toString().replace(/ \{[\s\S]*$/,""):void 0===r?"undefined":"string"!=typeof r?JSON.stringify(r):r)}return new o(e)}}function N(t){var e;return null!=t&&!f(t)&&(wt(t)||bt(t)||At&&t instanceof At||g(e="length"in Object(t)&&t.length)&&(0<=e&&e-1 in t||"function"==typeof t.item))}function mt(t,e,n){if(t)if(xt(t))for(i in t)"prototype"!==i&&"length"!==i&&"name"!==i&&t.hasOwnProperty(i)&&e.call(n,t[i],i,t);else if(wt(t)||N(t))for(var r="object"!=typeof t,i=0,o=t.length;i<o;i++)(r||i in t)&&e.call(n,t[i],i,t);else if(t.forEach&&t.forEach!==mt)t.forEach(e,n,t);else if(c(t))for(i in t)e.call(n,t[i],i,t);else if("function"==typeof t.hasOwnProperty)for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t);else for(i in t)ur.call(t,i)&&e.call(n,t[i],i,t);return t}function s(t,e,n){for(var r=Object.keys(t).sort(),i=0;i<r.length;i++)e.call(n,t[r[i]],r[i])}function C(n){return function(t,e){n(e,t)}}function p(t,e,n){for(var r=t.$$hashKey,i=0,o=e.length;i<o;++i){var s=e[i];if(yt(s)||xt(s))for(var a=Object.keys(s),u=0,c=a.length;u<c;u++){var l=a[u],f=s[l];n&&yt(f)?x(f)?t[l]=new Date(f.valueOf()):d(f)?t[l]=new RegExp(f):f.nodeName?t[l]=f.cloneNode(!0):j(f)?t[l]=f.clone():"__proto__"!==l&&(yt(t[l])||(t[l]=wt(f)?[]:{}),p(t[l],[f],!0)):t[l]=f}}return r?t.$$hashKey=r:delete t.$$hashKey,t}function gt(t){return p(t,lr.call(arguments,1),!1)}function r(t){return p(t,lr.call(arguments,1),!0)}function m(t){return parseInt(t,10)}function Vt(t,e){return gt(Object.create(t),e)}function E(){}function Nt(t){return t}function k(t){return function(){return t}}function l(t){return xt(t.toString)&&t.toString!==v}function vt(t){return void 0===t}function A(t){return void 0!==t}function yt(t){return null!==t&&"object"==typeof t}function c(t){return null!==t&&"object"==typeof t&&!pr(t)}function bt(t){return"string"==typeof t}function g(t){return"number"==typeof t}function x(t){return"[object Date]"===v.call(t)}function wt(t){return Array.isArray(t)||t instanceof Array}function jt(t){switch(v.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return 1;default:return t instanceof Error}}function xt(t){return"function"==typeof t}function d(t){return"[object RegExp]"===v.call(t)}function f(t){return t&&t.window===t}function It(t){return t&&t.$evalAsync&&t.$watch}function S(t){return"boolean"==typeof t}function j(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function Ct(t){return Ot(t.nodeName||t[0]&&t[0].nodeName)}function Pt(t,e){e=t.indexOf(e);return 0<=e&&t.splice(e,1),e}function I(t,n,e){function i(t,e,n){if(--n<0)return"...";var r=e.$$hashKey;if(wt(t))for(var i=0,o=t.length;i<o;i++)e.push(s(t[i],n));else if(c(t))for(i in t)e[i]=s(t[i],n);else if(t&&"function"==typeof t.hasOwnProperty)for(i in t)t.hasOwnProperty(i)&&(e[i]=s(t[i],n));else for(i in t)ur.call(t,i)&&(e[i]=s(t[i],n));return r?e.$$hashKey=r:delete e.$$hashKey,e}function s(t,e){if(!yt(t))return t;if(-1!==(n=o.indexOf(t)))return a[n];if(f(t)||It(t))throw $r("cpws");var n=!1,r=function(t){switch(v.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(s(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":var e;return t.slice?t.slice(0):(e=new ArrayBuffer(t.byteLength),new Uint8Array(e).set(new Uint8Array(t)),e);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":return(e=new RegExp(t.source,t.toString().match(/[^/]*$/)[0])).lastIndex=t.lastIndex,e;case"[object Blob]":return new t.constructor([t],{type:t.type})}if(xt(t.cloneNode))return t.cloneNode(!0)}(t);return void 0===r&&(r=wt(t)?[]:Object.create(pr(t)),n=!0),o.push(t),a.push(r),n?i(t,r,e):r}var r,o=[],a=[];if(e=w(e)?e:NaN,n){if((r=n)&&g(r.length)&&gr.test(v.call(r))||"[object ArrayBuffer]"===v.call(n))throw $r("cpta");if(t===n)throw $r("cpi");return wt(n)?n.length=0:mt(n,function(t,e){"$$hashKey"!==e&&delete n[e]}),o.push(t),a.push(n),i(t,n,e)}return s(t,e)}function Rt(t,e){return t===e||t!=t&&e!=e}function St(t,e){if(t===e)return!0;if(null!==t&&null!==e){if(t!=t&&e!=e)return!0;var n,r=typeof t;if(r===typeof e&&"object"===r){if(!wt(t)){if(x(t))return!!x(e)&&Rt(t.getTime(),e.getTime());if(d(t))return!!d(e)&&t.toString()===e.toString();if(It(t)||It(e)||f(t)||f(e)||wt(e)||x(e)||d(e))return!1;for(n in r=Et(),t)if("$"!==n.charAt(0)&&!xt(t[n])){if(!St(t[n],e[n]))return!1;r[n]=!0}for(n in e)if(!(n in r)&&"$"!==n.charAt(0)&&A(e[n])&&!xt(e[n]))return!1;return!0}if(!wt(e))return!1;if((r=t.length)===e.length){for(n=0;n<r;n++)if(!St(t[n],e[n]))return!1;return!0}}}return!1}function P(t,e,n){return t.concat(lr.call(e,n))}function Ut(t,e){var n=2<arguments.length?lr.call(arguments,2):[];return!xt(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,P(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function R(t,e){var n=e;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?n=void 0:f(e)?n="$WINDOW":e&&dt.document===e?n="$DOCUMENT":It(e)&&(n="$SCOPE"),n}function i(t,e){if(!vt(t))return g(e)||(e=e?2:null),JSON.stringify(t,R,e)}function U(t){return bt(t)?JSON.parse(t):t}function D(t,e){t=t.replace(wr,"");t=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return V(t)?e:t}function L(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}function _(t,e,n){n=n?-1:1;var r=t.getTimezoneOffset();return L(t,n*((e=D(e,r))-r))}function Dt(t){t=At(t).clone().empty();var e=At("<div></div>").append(t).html();try{return t[0].nodeType===kr?Ot(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(t,e){return"<"+Ot(e)})}catch(t){return Ot(e)}}function F(t){try{return decodeURIComponent(t)}catch(t){}}function q(t){var i={};return mt((t||"").split("&"),function(t){var e,n,r;t&&(n=t=t.replace(/\+/g,"%20"),-1!==(e=t.indexOf("="))&&(n=t.substring(0,e),r=t.substring(e+1)),A(n=F(n)))&&(r=!A(r)||F(r),ur.call(i,n)?wt(i[n])?i[n].push(r):i[n]=[i[n],r]:i[n]=r)}),i}function H(t){return o(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function o(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function B(n,t){var r,i,e={};mt(xr,function(t){t+="app",!r&&n.hasAttribute&&n.hasAttribute(t)&&(i=(r=n).getAttribute(t))}),mt(xr,function(t){var e;t+="app",!r&&(e=n.querySelector("["+t.replace(":","\\:")+"]"))&&(i=(r=e).getAttribute(t))}),r&&(Cr?(e.strictDi=null!==function(t,e){for(var n,r=xr.length,i=0;i<r;++i)if(n=xr[i]+e,bt(n=t.getAttribute(n)))return n;return null}(r,"strict-di"),t(r,i?[i]:[],e)):dt.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match."))}function z(e,n,r){r=gt({strictDi:!1},r=yt(r)?r:{});function i(){var t;if((e=At(e)).injector())throw t=e[0]===dt.document?"document":Dt(e),$r("btstrpd",t.replace(/</,"&lt;").replace(/>/,"&gt;"));return(n=n||[]).unshift(["$provide",function(t){t.value("$rootElement",e)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),n.unshift("ng"),(t=te(n,r.strictDi)).invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,r){t.$apply(function(){e.data("$injector",r),n(e)(t)})}]),t}var t=/^NG_ENABLE_DEBUG_INFO!/,o=/^NG_DEFER_BOOTSTRAP!/;if(dt&&t.test(dt.name)&&(r.debugInfoEnabled=!0,dt.name=dt.name.replace(t,"")),dt&&!o.test(dt.name))return i();dt.name=dt.name.replace(o,""),b.resumeBootstrap=function(t){return mt(t,function(t){n.push(t)}),i()},xt(b.resumeDeferredBootstrap)&&b.resumeDeferredBootstrap()}function W(){dt.name="NG_ENABLE_DEBUG_INFO!"+dt.name,dt.location.reload()}function G(t){if(t=b.element(t).injector())return t.get("$$testability");throw $r("test")}function Lt(t,n){return n=n||"_",t.replace(Sr,function(t,e){return(e?n:"")+t.toLowerCase()})}function K(){u.legacyXHTMLReplacement=!0}function _t(t,e,n){if(!t)throw $r("areq",e||"?",n||"required")}function J(t,e,n){_t(xt(t=n&&wt(t)?t[t.length-1]:t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t))}function Z(t,e){if("hasOwnProperty"===t)throw $r("badname",e)}function Y(t){for(var e,n=t[0],r=t[t.length-1],i=1;n!==r&&(n=n.nextSibling);i++)!e&&t[i]===n||(e=e||At(lr.call(t,0,i))).push(n);return e||t}function Et(){return Object.create(null)}function X(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=!l(t)||wt(t)||x(t)?i(t):t.toString()}return t}function O(t,e){if(wt(t)){e=e||[];for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}else if(yt(t))for(n in e=e||{},t)"$"===n.charAt(0)&&"$"===n.charAt(1)||(e[n]=t[n]);return e||t}function Q(t,e){return e.toUpperCase()}function tt(t){return t.replace(Tr,Q)}function et(t){return 1===(t=t.nodeType)||!t||9===t}function nt(t,e){var n,r,i,o,s=e.createDocumentFragment(),a=[];if(Pr.test(t)){if(n=s.appendChild(e.createElement("div")),r=(Rr.exec(t)||["",""])[1].toLowerCase(),i=u.legacyXHTMLReplacement?t.replace(Ur,"<$1></$2>"):t,mr<10)for(r=Lr[r]||Lr._default,n.innerHTML=r[1]+i+r[2],o=r[0];o--;)n=n.firstChild;else{for(o=(r=Dr[r]||[]).length;-1<--o;)n.appendChild(dt.document.createElement(r[o])),n=n.firstChild;n.innerHTML=i}a=P(a,n.childNodes),(n=s.firstChild).textContent=""}else a.push(e.createTextNode(t));return s.textContent="",s.innerHTML="",mt(a,function(t){s.appendChild(t)}),s}function u(t){if(t instanceof u)return t;var e,n;if(bt(t)&&(t=Mt(t),n=!0),!(this instanceof u)){if(n&&"<"!==t.charAt(0))throw jr("nosel");return new u(t)}n?(n=dt.document,pt(this,t=(e=Ir.exec(t))?[n.createElement(e[1])]:(e=nt(t,n))?e.childNodes:[])):xt(t)?zt(t):pt(this,t)}function Ft(t){return t.cloneNode(!0)}function rt(t,e){!e&&et(t)&&At.cleanData([t]),t.querySelectorAll&&At.cleanData(t.querySelectorAll("*"))}function it(t){for(var e in t)return;return 1}function ot(t){var e=t.ng339,n=e&&Or[e],r=n&&n.events;(n=n&&n.data)&&!it(n)||r&&!it(r)||(delete Or[e],t.ng339=void 0)}function st(n,t,r,e){if(A(e))throw jr("offargs");var i=(e=ut(n))&&e.events,o=e&&e.handle;if(o){if(t){var s=function(t){var e=i[t];A(r)&&Pt(e||[],r),A(r)&&e&&0<e.length||(n.removeEventListener(t,o),delete i[t])};mt(t.split(" "),function(t){s(t),Nr[t]&&s(Nr[t])})}else for(t in i)"$destroy"!==t&&n.removeEventListener(t,o),delete i[t];ot(n)}}function at(t,e){var n=t.ng339;(n=n&&Or[n])&&(e?delete n.data[e]:n.data={},ot(t))}function ut(t,e){var n=(n=t.ng339)&&Or[n];return e&&!n&&(t.ng339=n=++Mr,n=Or[n]={events:{},data:{},handle:void 0}),n}function ct(t,e,n){if(et(t)){var r,i=A(n),o=!i&&e&&!yt(e),s=!e;if(t=(t=ut(t,!o))&&t.data,i)t[tt(e)]=n;else{if(s)return t;if(o)return t&&t[tt(e)];for(r in e)t[tt(r)]=e[r]}}}function lt(t,e){return!!t.getAttribute&&-1<(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")}function ft(t,e){var n,r;e&&t.setAttribute&&(n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),r=n,mt(e.split(" "),function(t){t=Mt(t),r=r.replace(" "+t+" "," ")}),r!==n)&&t.setAttribute("class",Mt(r))}function ht(t,e){var n,r;e&&t.setAttribute&&(n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),r=n,mt(e.split(" "),function(t){t=Mt(t),-1===r.indexOf(" "+t+" ")&&(r+=t+" ")}),r!==n)&&t.setAttribute("class",Mt(r))}function pt(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var r=0;r<n;r++)t[t.length++]=e[r]}else t[t.length++]=e}}function $t(t,e){return qt(t,"$"+(e||"ngController")+"Controller")}function qt(t,e,n){for(9===t.nodeType&&(t=t.documentElement),e=wt(e)?e:[e];t;){for(var r=0,i=e.length;r<i;r++)if(A(n=At.data(t,e[r])))return n;t=t.parentNode||11===t.nodeType&&t.host}}function Ht(t){for(rt(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Bt(t,e){e||rt(t);e=t.parentNode;e&&e.removeChild(t)}function zt(t){function e(){dt.document.removeEventListener("DOMContentLoaded",e),dt.removeEventListener("load",e),t()}"complete"===dt.document.readyState?dt.setTimeout(t):(dt.document.addEventListener("DOMContentLoaded",e),dt.addEventListener("load",e))}function Wt(t,e){e=Br[e.toLowerCase()];return e&&zr[Ct(t)]&&e}function Gt(a,u){function t(t,e){t.isDefaultPrevented=function(){return t.defaultPrevented};var n=u[e||t.type],r=n?n.length:0;if(r){vt(t.immediatePropagationStopped)&&(i=t.stopImmediatePropagation,t.stopImmediatePropagation=function(){t.immediatePropagationStopped=!0,t.stopPropagation&&t.stopPropagation(),i&&i.call(t)}),t.isImmediatePropagationStopped=function(){return!0===t.immediatePropagationStopped};var i,o=n.specialHandlerWrapper||Kt;1<r&&(n=O(n));for(var s=0;s<r;s++)t.isImmediatePropagationStopped()||o(a,t,n[s])}}return t.elem=a,t}function Kt(t,e,n){n.call(t,e)}function Jt(t,e,n){var r=e.relatedTarget;r&&(r===t||qr.call(t,r))||n.call(t,e)}function Zt(){this.$get=function(){return gt(u,{hasClass:function(t,e){return lt(t=t.attr?t[0]:t,e)},addClass:function(t,e){return ht(t=t.attr?t[0]:t,e)},removeClass:function(t,e){return ft(t=t.attr?t[0]:t,e)}})}}function Yt(t,e){var n=t&&t.$$hashKey;return n?"function"==typeof n?t.$$hashKey():n:"function"===(n=typeof t)||"object"===n&&null!==t?t.$$hashKey=n+":"+(e||function(){return++dr})():n+":"+t}function Xt(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function Qt(t){return(t=Function.prototype.toString.call(t).replace(yi,"")).match(di)||t.match(mi)}function te(t,u){function e(n){return function(t,e){if(!yt(t))return n(t,e);mt(t,C(n))}}function o(t,e){if(Z(t,"service"),(e=xt(e)||wt(e)?f.instantiate(e):e).$get)return l[t+"Provider"]=e;throw bi("pget",t)}function n(t,e,n){return o(t,{$get:!1!==n?(r=t,i=e,function(){var t=$.invoke(i,this);if(vt(t))throw bi("undef",r);return t}):e});var r,i}function i(t){_t(vt(t)||wt(t),"modulesToLoad","not an array");var n,r=[];return mt(t,function(e){function t(t){for(var e=0,n=t.length;e<n;e++){var r=t[e],i=f.get(r[0]);i[r[1]].apply(i,r[2])}}if(!a.get(e)){a.set(e,!0);try{bt(e)?(n=rr(e),$.modules[e]=n,r=r.concat(i(n.requires)).concat(n._runBlocks),t(n._invokeQueue),t(n._configBlocks)):xt(e)||wt(e)?r.push(f.invoke(e)):J(e,"module")}catch(t){throw wt(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1===t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),bi("modulerr",e,t.stack||t.message||t)}}}),r}function r(n,r){function a(e,t){if(n.hasOwnProperty(e)){if(n[e]===s)throw bi("cdep",e+" <- "+c.join(" <- "));return n[e]}try{return c.unshift(e),n[e]=s,n[e]=r(e,t),n[e]}catch(t){throw n[e]===s&&delete n[e],t}finally{c.shift()}}function o(t,e,n){for(var r=[],i=0,o=(t=te.$$annotate(t,u,n)).length;i<o;i++){var s=t[i];if("string"!=typeof s)throw bi("itkn",s);r.push(e&&e.hasOwnProperty(s)?e[s]:a(s,n))}return r}return{invoke:function(t,e,n,r){var i;return"string"==typeof n&&(r=n,n=null),n=o(t,n,r),r=t=wt(t)?t[t.length-1]:t,(r=!mr&&"function"==typeof r&&(i=S(i=r.$$ngIsClass)?i:r.$$ngIsClass=/^class\b/.test(Function.prototype.toString.call(r))))?(n.unshift(null),new(Function.prototype.bind.apply(t,n))):t.apply(e,n)},instantiate:function(t,e,n){var r=wt(t)?t[t.length-1]:t;return(t=o(t,e,n)).unshift(null),new(Function.prototype.bind.apply(r,t))},get:a,annotate:te.$$annotate,has:function(t){return l.hasOwnProperty(t+"Provider")||n.hasOwnProperty(t)}}}u=!0===u;var s={},c=[],a=new pi,l={$provide:{provider:e(o),factory:e(n),service:e(function(t,e){return n(t,["$injector",function(t){return t.instantiate(e)}])}),value:e(function(t,e){return n(t,k(e),!1)}),constant:e(function(t,e){Z(t,"constant"),l[t]=e,h[t]=e}),decorator:function(t,e){var n=f.get(t+"Provider"),r=n.$get;n.$get=function(){var t=$.invoke(r,n);return $.invoke(e,null,{$delegate:t})}}}},f=l.$injector=r(l,function(t,e){throw b.isString(e)&&c.push(e),bi("unpr",c.join(" <- "))}),h={},p=r(h,function(t,e){e=f.get(t+"Provider",e);return $.invoke(e.$get,e,void 0,t)}),$=p,t=(l.$injectorProvider={$get:k(p)},$.modules=f.modules=Et(),i(t));return($=p.get("$injector")).strictDi=u,mt(t,function(t){t&&$.invoke(t)}),$.loadNewModules=function(t){mt(i(t),function(t){t&&$.invoke(t)})},$}function ee(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(n,i,r){function o(t){var e;t?(t.scrollIntoView(),xt(e=s.yOffset)?e=e():j(e)?(e=e[0],e="fixed"!==n.getComputedStyle(e).position?0:e.getBoundingClientRect().bottom):g(e)||(e=0),e&&(t=t.getBoundingClientRect().top,n.scrollBy(0,t-e))):n.scrollTo(0,0)}function s(t){var e,n,r;(t=bt(t)?t:g(t)?t.toString():i.hash())?(e=a.getElementById(t))||(n=a.getElementsByName(t),r=null,Array.prototype.some.call(n,function(t){if("a"===Ct(t))return r=t,!0}),e=r)?o(e):"top"===t&&o(null):o(null)}var a=n.document;return t&&r.$watch(function(){return i.hash()},function(t,e){var n;t===e&&""===t||(e=function(){r.$evalAsync(s)},"complete"===(n=n||dt).document.readyState?n.setTimeout(e):At(n).on("load",e))}),s}]}function ne(t,e){return t||e?t?e?(t=wt(t)?t.join(" "):t)+" "+(e=wt(e)?e.join(" "):e):t:e:""}function re(t){return yt(t)?t:{}}function ie(o,t,e,s,n){function r(){y=null,i()}function a(){St(d=vt(d=b())?null:d,C)&&(d=C),m=C=d}function i(){var t=m;a(),g===u.url()&&t===d||(g=u.url(),m=d,mt(w,function(t){t(u.url(),d)}))}var u=this,c=o.location,l=o.history,f=o.setTimeout,h=o.clearTimeout,p={},$=n(e);u.isMock=!1,u.$$completeOutstandingRequest=$.completeTask,u.$$incOutstandingRequestCount=$.incTaskCount,u.notifyWhenNoOutstandingRequests=$.notifyWhenNoPendingTasks;var d,m,g=c.href,v=t.find("base"),y=null,b=s.history?function(){try{return l.state}catch(t){}}:E,w=(a(),u.url=function(t,e,n){var r,i;return vt(n)&&(n=null),c!==o.location&&(c=o.location),l!==o.history&&(l=o.history),t?(r=m===n,t=T(t).href,(g!==t||s.history&&!r)&&(i=g&&je(g)===je(t),g=t,m=n,!s.history||i&&r?(i||(y=t),e?c.replace(t):i?(e=c,n=-1===(r=(n=t).indexOf("#"))?"":n.substr(r),e.hash=n):c.href=t,c.href!==t&&(y=t)):(l[e?"replaceState":"pushState"](n,"",t),a()),y=y&&t),u):(y||c.href).replace(/#$/,"")},u.state=function(){return d},[]),x=!1,C=null;u.onUrlChange=function(t){return x||(s.history&&At(o).on("popstate",r),At(o).on("hashchange",r),x=!0),w.push(t),t},u.$$applicationDestroyed=function(){At(o).off("hashchange popstate",r)},u.$$checkUrlChange=i,u.baseHref=function(){var t=v.attr("href");return t?t.replace(/^(https?:)?\/\/[^/]*/,""):""},u.defer=function(t,e,n){var r;return e=e||0,n=n||$.DEFAULT_TASK_TYPE,$.incTaskCount(n),r=f(function(){delete p[r],$.completeTask(t,n)},e),p[r]=n,r},u.defer.cancel=function(t){var e;return!!p.hasOwnProperty(t)&&(e=p[t],delete p[t],h(t),$.completeTask(E,e),!0)}}function oe(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function(t,e,n,r,i){return new ie(t,r,e,n,i)}]}function se(){this.$get=function(){function t(t,e){function n(t){t!==c&&(l?l===t&&(l=t.n):l=t,r(t.n,t.p),r(t,c),(c=t).n=null)}function r(t,e){t!==e&&(t&&(t.p=e),e)&&(e.n=t)}if(t in f)throw M("$cacheFactory")("iid",t);var i=0,o=gt({},e,{id:t}),s=Et(),a=e&&e.capacity||Number.MAX_VALUE,u=Et(),c=null,l=null;return f[t]={put:function(t,e){if(!vt(e))return a<Number.MAX_VALUE&&n(u[t]||(u[t]={key:t})),t in s||i++,s[t]=e,a<i&&this.remove(l.key),e},get:function(t){if(a<Number.MAX_VALUE){var e=u[t];if(!e)return;n(e)}return s[t]},remove:function(t){if(a<Number.MAX_VALUE){var e=u[t];if(!e)return;e===c&&(c=e.p),e===l&&(l=e.n),r(e.n,e.p),delete u[t]}t in s&&(delete s[t],i--)},removeAll:function(){s=Et(),i=0,u=Et(),c=l=null},destroy:function(){u=o=s=null,delete f[t]},info:function(){return gt({},o,{size:i})}}}var f={};return t.info=function(){var n={};return mt(f,function(t,e){n[e]=t.info()}),n},t.get=function(t){return f[t]},t}}function ae(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function ue(i,e){function p(t,r,i){var o=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/,s=Et();return mt(t,function(t,e){if((t=t.trim())in a)s[e]=a[t];else{var n=t.match(o);if(!n)throw Tt("iscp",r,e,t,i?"controller bindings definition":"isolate scope definition");s[e]={mode:n[1][0],collection:"*"===n[2],optional:"?"===n[3],attrName:n[4]||e},n[4]&&(a[t]=s[e])}}),s}var ct={},lt=/^\s*directive:\s*([\w-]+)\s+(.*)$/,ft=/(([\w-]+)(?::([^;]+))?;?)/,ht=function(t){var e,n={};for(t=t.split(","),e=0;e<t.length;e++)n[t[e]]=!0;return n}("ngSrc,ngSrcset,src,srcset"),f=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,pt=/^(on[a-z]+|formaction)$/,a=Et(),l=(this.directive=function t(l,e){if(_t(l,"name"),Z(l,"directive"),bt(l)){var n=l,r=n.charAt(0);if(!r||r!==Ot(r))throw Tt("baddir",n);if(n!==n.trim())throw Tt("baddir",n);_t(e,"directiveFactory"),ct.hasOwnProperty(l)||(ct[l]=[],i.factory(l+"Directive",["$injector","$exceptionHandler",function(a,u){var c=[];return mt(ct[l],function(t,e){try{var n=a.invoke(t),r=(xt(n)?n={compile:k(n)}:!n.compile&&n.link&&(n.compile=k(n.link)),n.priority=n.priority||0,n.index=e,n.name=n.name||l,n.require=(!wt(s=(o=n).require||o.controller&&o.name)&&yt(s)&&mt(s,function(t,e){var n=t.match(f);t.substring(n[0].length)||(s[e]=n[0]+e)}),s),n),i=n.restrict;if(i&&(!bt(i)||!/[EACM]/.test(i)))throw Tt("badrestrict",i,l);r.restrict=i||"EA",n.$$moduleName=t.$$moduleName,c.push(n)}catch(t){u(t)}var o,s}),c}])),ct[l].push(e)}else mt(l,C(t));return this},this.component=function t(e,i){function n(r){function t(n){return xt(n)||wt(n)?function(t,e){return r.invoke(n,this,{$element:t,$attrs:e})}:n}var e=i.template||i.templateUrl?i.template:"",n={controller:o,controllerAs:function(t,e){if(e&&bt(e))return e;if(bt(t)){e=Ai.exec(t);if(e)return e[3]}}(i.controller)||i.controllerAs||"$ctrl",template:t(e),templateUrl:t(i.templateUrl),transclude:i.transclude,scope:{},bindToController:i.bindings||{},restrict:"E",require:i.require};return mt(i,function(t,e){"$"===e.charAt(0)&&(n[e]=t)}),n}var o;return bt(e)?(o=i.controller||function(){},mt(i,function(t,e){"$"===e.charAt(0)&&(n[e]=t,xt(o))&&(o[e]=t)}),n.$inject=["$injector"],this.directive(e,n)):(mt(e,C(Ut(this,t))),this)},this.aHrefSanitizationTrustedUrlList=function(t){return A(t)?(e.aHrefSanitizationTrustedUrlList(t),this):e.aHrefSanitizationTrustedUrlList()},Object.defineProperty(this,"aHrefSanitizationWhitelist",{get:function(){return this.aHrefSanitizationTrustedUrlList},set:function(t){this.aHrefSanitizationTrustedUrlList=t}}),this.imgSrcSanitizationTrustedUrlList=function(t){return A(t)?(e.imgSrcSanitizationTrustedUrlList(t),this):e.imgSrcSanitizationTrustedUrlList()},Object.defineProperty(this,"imgSrcSanitizationWhitelist",{get:function(){return this.imgSrcSanitizationTrustedUrlList},set:function(t){this.imgSrcSanitizationTrustedUrlList=t}}),!0),h=!(this.debugInfoEnabled=function(t){return A(t)?(l=t,this):l}),$=(this.strictComponentBindingsEnabled=function(t){return A(t)?(h=t,this):h},10),d=(this.onChangesTtl=function(t){return arguments.length?($=t,this):$},!0),m=(this.commentDirectivesEnabled=function(t){return arguments.length?(d=t,this):d},!0),$t=(this.cssClassDirectivesEnabled=function(t){return arguments.length?(m=t,this):m},Et());function t(e,t){mt(t,function(t){$t[t.toLowerCase()]=e})}this.addPropertySecurityContext=function(t,e,n){var r=t.toLowerCase()+"|"+e.toLowerCase();if(r in $t&&$t[r]!==n)throw Tt("ctxoverride",t,e,$t[r],n);return $t[r]=n,this},t(y.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),t(y.CSS,["*|style"]),t(y.URL,"area|href area|ping a|href a|ping blockquote|cite body|background del|cite input|src ins|cite q|cite".split(" ")),t(y.MEDIA_URL,"audio|src img|src img|srcset source|src source|srcset track|src video|src video|poster".split(" ")),t(y.RESOURCE_URL,"*|formAction applet|code applet|codebase base|href embed|src frame|src form|action head|profile html|manifest iframe|src link|href media|src object|codebase object|data script|src".split(" ")),this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(O,M,L,_,T,at,V,N,r){function s(){try{if(!--t)throw o=void 0,Tt("infchng",$);V.$apply(function(){for(var t=0,e=o.length;t<e;++t)try{o[t]()}catch(t){L(t)}o=void 0})}finally{t++}}function a(t,e){if(!t)return t;if(!bt(t))throw Tt("srcset",e,t.toString());for(var n="",r=Mt(t),i=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,i=/\s/.test(r)?i:/(,)/,r=r.split(i),i=Math.floor(r.length/2),o=0;o<i;o++)var s=2*o,n=(n=n+N.getTrustedMediaUrl(Mt(r[s])))+(" "+Mt(r[1+s]));return r=Mt(r[2*o]).split(/\s/),n+=N.getTrustedMediaUrl(Mt(r[0])),2===r.length&&(n+=" "+Mt(r[1])),n}function F(t,e){if(e)for(var n,r=Object.keys(e),i=0,o=r.length;i<o;i++)this[n=r[i]]=e[n];else this.$attr={};this.$$element=t}function q(t,e){try{t.addClass(e)}catch(t){}}function H(s,t,e,n,a){var u=B(s=s instanceof At?s:At(s),t,s,e,n,a),c=(H.$$addScopeClass(s),null);return function(t,e,n){if(!s)throw Tt("multilink");_t(t,"scope"),a&&a.needsNewScope&&(t=t.$parent.$new());var r=(n=n||{}).parentBoundTranscludeFn,i=n.transcludeControllers;if(n=n.futureParentElement,r&&r.$$boundTransclude&&(r=r.$$boundTransclude),n="html"!==(c=c||((n=n&&n[0])&&"foreignobject"!==Ct(n)&&v.call(n).match(/SVG/)?"svg":"html"))?At(et(c,At("<div></div>").append(s).html())):e?Hr.clone.call(s):s,i)for(var o in i)n.data("$"+o+"Controller",i[o].instance);return H.$$addScopeInfo(n,t),e&&e(n,t),u&&u(t,n,n,r),e||(s=u=null),n}}function B(t,l,e,n,r,i){for(var o,s,a,f,h=[],u=wt(t)||t instanceof At,c=0;c<t.length;c++){if(o=new F,11===mr){p=void 0;$=void 0;d=void 0;g=void 0;v=void 0;m=void 0;var p=t;var $=c;var d=u;var m,g=p[$],v=g.parentNode;if(g.nodeType===kr)for(;(m=v?g.nextSibling:p[$+1])&&m.nodeType===kr;)g.nodeValue+=m.nodeValue,m.parentNode&&m.parentNode.removeChild(m),d&&m===p[$+1]&&p.splice($+1,1)}(i=(s=W(t[c],[],o,0===c?n:void 0,r)).length?Z(s,t[c],o,l,e,null,[],[],i):null)&&i.scope&&H.$$addScopeClass(o.$$element),o=i&&i.terminal||!(s=t[c].childNodes)||!s.length?null:B(s,i?(i.transcludeOnThisElement||!i.templateOnThisElement)&&i.transclude:l),(i||o)&&(h.push(c,i,o),a=!0,f=f||i),i=null}return a?function(t,e,n,r){var i,o,s,a,u,c;if(f)for(c=Array(e.length),a=0;a<h.length;a+=3)c[i=h[a]]=e[i];else c=e;for(a=0,u=h.length;a<u;)o=c[h[a++]],e=h[a++],i=h[a++],e?(e.scope?(s=t.$new(),H.$$addScopeInfo(At(o),s)):s=t,e(i,s,o,n,e.transcludeOnThisElement?z(t,e.transclude,r):!e.templateOnThisElement&&r?r:!r&&l?z(t,l):null)):i&&i(t,o.childNodes,void 0,r)}:null}function z(o,s,a){function t(t,e,n,r,i){return t||((t=o.$new(!1,i)).$$transcluded=!0),s(t,e,{parentBoundTranscludeFn:a,transcludeControllers:n,futureParentElement:r})}var e,n=t.$$slots=Et();for(e in s.$$slots)n[e]=s.$$slots[e]?z(o,s.$$slots[e],a):null;return t}function W(t,e,n,r,i){var o,s,a=n.$attr;switch(t.nodeType){case 1:j(e,kt(o=Ct(t)),"E",r,i);for(var u=t.attributes,c=0,l=u&&u.length;c<l;c++){var f,h,p,$=!1,d=!1,m=!1,g=!1,v=!1,y=(h=u[c]).name,b=h.value;(f=(p=kt(y.toLowerCase())).match(D))?(m="Attr"===f[1],g="Prop"===f[1],v="On"===f[1],y=y.replace(Si,"").toLowerCase().substr(4+f[1].length).replace(/_(.)/g,function(t,e){return e.toUpperCase()})):(f=p.match(ut))&&function(t){if(ct.hasOwnProperty(t))for(var e=O.get(t+"Directive"),n=0,r=e.length;n<r;n++)if((t=e[n]).multiElement)return 1;return}(f[1])&&(d=($=y).substr(0,y.length-5)+"end",y=y.substr(0,y.length-6)),g||v?(n[p]=b,a[p]=h.name,g?function(t,e,n,o){if(pt.test(o))throw Tt("nodomevents");var r=function(t,e){e=e.toLowerCase();return $t[t+"|"+e]||$t["*|"+e]}(t=Ct(t),o),s=Nt;"srcset"!==o||"img"!==t&&"source"!==t?r&&(s=N.getTrusted.bind(N,r)):s=P,e.push({priority:100,compile:function(t,e){var r=T(e[n]),i=T(e[n],function(t){return N.valueOf(t)});return{pre:function(e,n){function t(){var t=r(e);n[0][o]=s(t)}t(),e.$watch(i,t)}}}})}(t,e,p,y):e.push(Zn(T,V,L,p,y,!1))):(a[p=kt(y.toLowerCase())]=y,!m&&n.hasOwnProperty(p)||(n[p]=b,Wt(t,p)&&(n[p]=!0)),function(t,e,i,o,n){var r=Ct(t),s=function(t,e){return"srcdoc"===e?N.HTML:"src"===e||"ngSrc"===e?-1===["img","video","audio","source","track"].indexOf(t)?N.RESOURCE_URL:N.MEDIA_URL:"xlinkHref"===e?"image"===t?N.MEDIA_URL:"a"===t?N.URL:N.RESOURCE_URL:"form"===t&&"action"===e||"base"===t&&"href"===e||"link"===t&&"href"===e?N.RESOURCE_URL:"a"!==t||"href"!==e&&"ngHref"!==e?void 0:N.URL}(r,o),a=ht[o]||n,u=M(i,!n,s,a);if(u){if("multiple"===o&&"select"===r)throw Tt("selmulti",Dt(t));if(pt.test(o))throw Tt("nodomevents");e.push({priority:100,compile:function(){return{pre:function(t,e,n){e=n.$$observers||(n.$$observers=Et());var r=n[o];r!==i&&(u=r&&M(r,!0,s,a),i=r),u&&(n[o]=u(t),(e[o]||(e[o]=[])).$$inter=!0,(n.$$observers&&n.$$observers[o].$$scope||t).$watch(u,function(t,e){"class"===o&&t!==e?n.$updateClass(t,e):n.$set(o,t)}))}}}})}}(t,e,b,p,m),j(e,p,"A",r,i,$,d))}if("input"===o&&"hidden"===t.getAttribute("type")&&t.setAttribute("autocomplete","off"),U&&(bt(a=yt(a=t.className)?a.animVal:a)&&""!==a))for(;t=ft.exec(a);)j(e,p=kt(t[2]),"C",r,i)&&(n[p]=Mt(t[3])),a=a.substr(t.index+t[0].length);break;case kr:o=e,w=t.nodeValue,(s=M(w,!0))&&o.push({priority:0,compile:function(t){var r=!!(t=t.parent()).length;return r&&H.$$addBindingClass(t),function(t,e){var n=e.parent();r||H.$$addBindingClass(n),H.$$addBindingInfo(n,s.expressions),t.$watch(s,function(t){e[0].nodeValue=t})}}});break;case 8:if(R){var w=t,x=e,C=n,S=r,E=i;try{var k,A=lt.exec(w.nodeValue);A&&(k=kt(A[1]),j(x,k,"M",S,E))&&(C[k]=Mt(A[2]))}catch(t){}}}return e.sort(I),e}function G(t,e,n){var r=[],i=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw Tt("uterdir",e,n)}while(1===t.nodeType&&(t.hasAttribute(e)&&i++,t.hasAttribute(n))&&i--,r.push(t),t=t.nextSibling,0<i)}else r.push(t);return At(r)}function K(o,s,a){return function(t,e,n,r,i){return e=G(e[0],s,a),o(t,e,n,r,i)}}function J(t,e,n,r,i,o){var s;return t?H(e,n,r,i,o):function(){return s||(s=H(e,n,r,i,o),e=n=o=null),s.apply(this,arguments)}}function Z(t,d,m,e,n,r,g,v,i){function R(t,e,n,r){t&&((t=n?K(t,n,r):t).require=k.require,t.directiveName=s,w!==k&&!k.$$isolateScope||(t=rt(t,{isolateScope:!0})),g.push(t)),e&&((e=n?K(e,n,r):e).require=k.require,e.directiveName=s,w!==k&&!k.$$isolateScope||(e=rt(e,{isolateScope:!0})),v.push(e))}function o(t,e,n,r,s){var i,o,a,u,c,l;for(i in d===n?l=(r=m).$$element:r=new F(l=At(n),m),a=e,w?o=e.$new(!0):y&&(a=e.$parent),s&&((c=function(t,e,n,r){var i;if(It(t)||(r=n,n=e,e=t,t=void 0),C&&(i=u),n=n||(C?l.parent():l),!r)return s(t,e,i,n,$);var o=s.$$slots[r];if(o)return o(t,e,i,n,$);if(vt(o))throw Tt("noslot",r,Dt(l))}).$$boundTransclude=s,c.isSlotFilled=function(t){return!!s.$$slots[t]}),b&&(u=function(t,e,n,r,i,o,s){var a,u=Et();for(a in r){var c=r[a],l={$scope:c===s||c.$$isolateScope?i:o,$element:t,$attrs:e,$transclude:n},f=c.controller;"@"===f&&(f=e[c.name]),l=at(f,l,!0,c.controllerAs),u[c.name]=l,t.data("$"+c.name+"Controller",l.instance)}return u}(l,r,c,b,o,e,w)),w&&(H.$$addScopeInfo(l,o,!0,!(x&&(x===w||x===w.$$originalDirective))),H.$$addScopeClass(l,!0),o.$$isolateBindings=w.$$isolateBindings,(f=ot(e,r,o,o.$$isolateBindings,w)).removeWatches)&&o.$on("$destroy",f.removeWatches),u){var f=b[i],h=u[i],p=f.$$bindings.bindToController;h.instance=h(),l.data("$"+f.name+"Controller",h.instance),h.bindingInfo=ot(a,r,h.instance,p,f)}for(mt(b,function(t,e){var n=t.require;t.bindToController&&!wt(n)&&yt(n)&&gt(u[e].instance,Y(e,n,l,u))}),mt(u,function(t){var e=t.instance;if(xt(e.$onChanges))try{e.$onChanges(t.bindingInfo.initialChanges)}catch(t){L(t)}if(xt(e.$onInit))try{e.$onInit()}catch(t){L(t)}xt(e.$doCheck)&&(a.$watch(function(){e.$doCheck()}),e.$doCheck()),xt(e.$onDestroy)&&a.$on("$destroy",function(){e.$onDestroy()})}),i=0,f=g.length;i<f;i++)it(h=g[i],h.isolateScope?o:e,l,r,h.require&&Y(h.directiveName,h.require,l,u),c);var $=e;for(w&&(w.template||null===w.templateUrl)&&($=o),t&&t($,n.childNodes,void 0,s),i=v.length-1;0<=i;i--)it(h=v[i],h.isolateScope?o:e,l,r,h.require&&Y(h.directiveName,h.require,l,u),c);mt(u,function(t){xt((t=t.instance).$postLink)&&t.$postLink()})}i=i||{};for(var s,a=-Number.MAX_VALUE,y=i.newScopeDirective,b=i.controllerDirectives,w=i.newIsolateScopeDirective,x=i.templateDirective,u=i.nonTlbTranscludeDirective,c=!1,l=!1,C=i.hasElementTranscludeDirective,f=m.$$element=At(d),h=e,p=!1,$=!1,S=0,E=t.length;S<E;S++){var k,A=(k=t[S]).$$start,O=k.$$end;if(A&&(f=G(d,A,O)),V=void 0,k.priority<a)break;if((j=k.scope)&&(k.templateUrl||(yt(j)?(tt("new/isolated scope",w||y,k,f),w=k):tt("new/isolated scope",w,k,f)),y=y||k),s=k.name,!p&&(k.replace&&(k.templateUrl||k.template)||k.transclude&&!k.$$tlb)){for(j=S+1;p=t[j++];)if(p.transclude&&!p.$$tlb||p.replace&&(p.templateUrl||p.template)){$=!0;break}p=!0}if(!k.templateUrl&&k.controller&&(b=b||Et(),tt("'"+s+"' controller",b[s],k,f),b[s]=k),j=k.transclude)if(c=!0,k.$$tlb||(tt("transclusion",u,k,f),u=k),"element"===j)C=!0,a=k.priority,V=f,f=m.$$element=At(H.$$createComment(s,m[s])),d=f[0],nt(n,lr.call(V,0),d),h=J($,V,e,a,r&&r.name,{nonTlbTranscludeDirective:u});else{var M=Et();if(yt(j)){var T,V=dt.document.createDocumentFragment(),U=Et(),N=Et();for(T in mt(j,function(t,e){var n="?"===t.charAt(0);t=n?t.substring(1):t,U[t]=e,M[e]=null,N[e]=n}),mt(f.contents(),function(t){var e=U[kt(Ct(t))];(e?(N[e]=!0,M[e]=M[e]||dt.document.createDocumentFragment(),M[e]):V).appendChild(t)}),mt(N,function(t,e){if(!t)throw Tt("reqslot",e)}),M)M[T]&&(h=At(M[T].childNodes),M[T]=J($,h,e));V=At(V.childNodes)}else V=At(Ft(d)).contents();f.empty(),(h=J($,V,e,void 0,void 0,{needsNewScope:k.$$isolateScope||k.$$newScope})).$$slots=M}if(k.template)if(l=!0,tt("template",x,k,f),j=xt((x=k).template)?k.template(f,m):k.template,j=st(j),k.replace){if(r=k,V=Pr.test(j)?fe(et(k.templateNamespace,Mt(j))):[],d=V[0],1!==V.length||1!==d.nodeType)throw Tt("tplrt",s,"");nt(n,f,d);var j=W(d,[],E={$attr:{}}),D=t.splice(S+1,t.length-(S+1));(w||y)&&X(j,w,y),t=t.concat(j).concat(D),Q(m,E),E=t.length}else f.html(j);if(k.templateUrl)l=!0,tt("template",x,k,f),(x=k).replace&&(r=k),o=function(a,u,c,l,f,h,p,$){var d,m,g=[],v=u[0],y=a.shift(),b=Vt(y,{templateUrl:null,transclude:null,replace:null,$$originalDirective:y}),w=xt(y.templateUrl)?y.templateUrl(u,c):y.templateUrl,x=y.templateNamespace;return u.empty(),_(w).then(function(t){var n;if(t=st(t),y.replace){if(t=Pr.test(t)?fe(et(x,Mt(t))):[],n=t[0],1!==t.length||1!==n.nodeType)throw Tt("tplrt",y.name,w);t={$attr:{}},nt(l,u,n);var e=W(n,[],t);yt(y.scope)&&X(e,!0),a=e.concat(a),Q(c,t)}else n=v,u.html(t);for(a.unshift(b),d=Z(a,n,c,f,u,y,h,p,$),mt(l,function(t,e){t===n&&(l[e]=u[0])}),m=B(u[0].childNodes,f);g.length;){t=g.shift();var r,i=g.shift(),o=g.shift(),s=g.shift(),e=u[0];t.$$destroyed||(i!==v&&(r=i.className,$.hasElementTranscludeDirective&&y.replace||(e=Ft(n)),nt(o,At(i),e),q(At(e),r)),i=d.transcludeOnThisElement?z(t,d.transclude,s):s,d(m,t,e,l,i))}g=null}).catch(function(t){jt(t)&&L(t)}),function(t,e,n,r,i){t=i,e.$$destroyed||(g?g.push(e,n,r,t):(d.transcludeOnThisElement&&(t=z(e,d.transclude,i)),d(m,e,n,r,t)))}}(t.splice(S,t.length-S),f,m,n,c&&h,g,v,{controllerDirectives:b,newScopeDirective:y!==k&&y,newIsolateScopeDirective:w,templateDirective:x,nonTlbTranscludeDirective:u}),E=t.length;else if(k.compile)try{var I=k.compile(f,m,h),P=k.$$originalDirective||k;xt(I)?R(null,Ut(P,I),A,O):I&&R(Ut(P,I.pre),Ut(P,I.post),A,O)}catch(t){L(t,Dt(f))}k.terminal&&(o.terminal=!0,a=Math.max(a,k.priority))}return o.scope=y&&!0===y.scope,o.transcludeOnThisElement=c,o.templateOnThisElement=l,o.transclude=h,i.hasElementTranscludeDirective=C,o}function Y(n,t,r,i){if(bt(t)){var e,o,s=t.match(f),a=(t=t.substring(s[0].length),s[1]||s[3]),s="?"===s[2];if("^^"===a?r=r.parent():o=(o=i&&i[t])&&o.instance,o||(e="$"+t+"Controller",o="^^"===a&&r[0]&&9===r[0].nodeType?null:a?r.inheritedData(e):r.data(e)),!o&&!s)throw Tt("ctreq",t,n)}else if(wt(t))for(o=[],a=0,s=t.length;a<s;a++)o[a]=Y(n,t[a],r,i);else yt(t)&&(o={},mt(t,function(t,e){o[e]=Y(n,t,r,i)}));return o||null}function X(t,e,n){for(var r=0,i=t.length;r<i;r++)t[r]=Vt(t[r],{$$isolateScope:e,$$newScope:n})}function j(t,e,n,r,i,o,s){if(e!==i){var a=null;if(ct.hasOwnProperty(e))for(var u=0,c=(i=O.get(e+"Directive")).length;u<c;u++)if(e=i[u],(vt(r)||r>e.priority)&&-1!==e.restrict.indexOf(n)){if(!(e=o?Vt(e,{$$start:o,$$end:s}):e).$$bindings){var l=a=e,f=e.name,h={isolateScope:null,bindToController:null};if(yt(l.scope)&&(!0===l.bindToController?(h.bindToController=p(l.scope,f,!0),h.isolateScope={}):h.isolateScope=p(l.scope,f,!1)),yt(l.bindToController)&&(h.bindToController=p(l.bindToController,f,!0)),h.bindToController&&!l.controller)throw Tt("noctrl",f);yt((a=a.$$bindings=h).isolateScope)&&(e.$$isolateBindings=a.isolateScope)}t.push(e),a=e}return a}}function Q(n,r){var i=r.$attr,o=n.$attr;mt(n,function(t,e){"$"!==e.charAt(0)&&(r[e]&&r[e]!==t&&(t=t.length?t+("style"===e?";":" ")+r[e]:r[e]),n.$set(e,t,!0,i[e]))}),mt(r,function(t,e){n.hasOwnProperty(e)||"$"===e.charAt(0)||(n[e]=t,"class"!==e&&"style"!==e&&(o[e]=i[e]))})}function I(t,e){var n=e.priority-t.priority;return 0!=n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function tt(t,e,n,r){function i(t){return t?" (module: "+t+")":""}if(e)throw Tt("multidir",e.name,i(e.$$moduleName),n.name,i(n.$$moduleName),t,Dt(r))}function et(t,e){switch(t=Ot(t||"html")){case"svg":case"math":var n=dt.document.createElement("div");return n.innerHTML="<"+t+">"+e+"</"+t+">",n.childNodes[0].childNodes;default:return e}}function P(t){return a(N.valueOf(t),"ng-prop-srcset")}function nt(t,e,n){var r,i=e[0],o=e.length,s=i.parentNode;if(t)for(r=0,a=t.length;r<a;r++)if(t[r]===i){t[r++]=n;for(var a=r+o-1,u=t.length;r<u;r++,a++)a<u?t[r]=t[a]:delete t[r];t.length-=o-1,t.context===i&&(t.context=n);break}for(s&&s.replaceChild(n,i),t=dt.document.createDocumentFragment(),r=0;r<o;r++)t.appendChild(e[r]);for(At.hasData(i)&&(At.data(n,At.data(i)),At(i).off("$destroy")),At.cleanData(t.querySelectorAll("*")),r=1;r<o;r++)delete e[r];e[0]=n,e.length=1}function rt(t,e){return gt(function(){return t.apply(null,arguments)},t,e)}function it(t,e,n,r,i,o){try{t(e,n,r,i,o)}catch(t){L(t,Dt(n))}}function g(t,e){if(h)throw Tt("missingattr",t,e)}function ot(l,f,h,t,p){function $(t,e,n){xt(h.$onChanges)&&!Rt(e,n)&&(o||(l.$$postDigest(s),o=[]),i||(i={},o.push(r)),i[t]&&(n=i[t].previousValue),i[t]=new ce(n,e))}function r(){h.$onChanges(i),i=void 0}var i,d=[],m={};return mt(t,function(t,n){var e,r,i,o,s,a,u=t.attrName,c=t.optional;switch(t.mode){case"@":c||ur.call(f,u)||(g(u,p.name),h[n]=f[u]=void 0),c=f.$observe(u,function(t){(bt(t)||S(t))&&($(n,t,h[n]),h[n]=t)}),f.$$observers[u].$$scope=l,bt(e=f[u])?h[n]=M(e)(l):S(e)&&(h[n]=e),m[n]=new ce(Ci,h[n]),d.push(c);break;case"=":if(!ur.call(f,u)){if(c)break;g(u,p.name),f[u]=void 0}c&&!f[u]||(o=T(f[u]),i=o.literal?St:Rt,r=o.assign||function(){throw e=h[n]=o(l),Tt("nonassign",f[u],u,p.name)},e=h[n]=o(l),(c=function(t){return i(t,h[n])||(i(t,e)?r(l,t=h[n]):h[n]=t),e=t}).$stateful=!0,c=t.collection?l.$watchCollection(f[u],c):l.$watch(T(f[u],c),null,o.literal),d.push(c));break;case"<":if(!ur.call(f,u)){if(c)break;g(u,p.name),f[u]=void 0}c&&!f[u]||(s=(o=T(f[u])).literal,a=h[n]=o(l),m[n]=new ce(Ci,h[n]),c=l[t.collection?"$watchCollection":"$watch"](o,function(t,e){if(e===t){if(e===a||s&&St(e,a))return;e=a}$(n,t,e),h[n]=t}),d.push(c));break;case"&":c||ur.call(f,u)||g(u,p.name),(o=f.hasOwnProperty(u)?T(f[u]):E)===E&&c||(h[n]=function(t){return o(l,t)})}}),{initialChanges:m,removeWatches:d.length&&function(){for(var t=0,e=d.length;t<e;++t)d[t]()}}}var o,c=/^\w/,u=dt.document.createElement("div"),R=d,U=m,t=$,e=(F.prototype={$normalize:kt,$addClass:function(t){t&&0<t.length&&r.addClass(this.$$element,t)},$removeClass:function(t){t&&0<t.length&&r.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=le(t,e);n&&n.length&&r.addClass(this.$$element,n),(n=le(e,t))&&n.length&&r.removeClass(this.$$element,n)},$set:function(t,e,n,r){var i=Wt(this.$$element[0],t),o=Wr[t],s=t;i?(this.$$element.prop(t,e),r=i):o&&(this[o]=e,s=o),this[t]=e,r?this.$attr[t]=r:(r=this.$attr[t])||(this.$attr[t]=r=Lt(t,"-")),"img"===Ct(this.$$element)&&"srcset"===t&&(this[t]=e=a(e,"$set('srcset', value)")),!1!==n&&(null===e||vt(e)?this.$$element.removeAttr(r):c.test(r)?i&&!1===e?this.$$element.removeAttr(r):this.$$element.attr(r,e):(o=this.$$element[0],n=r,i=e,u.innerHTML="<span "+n+">",r=(n=u.firstChild.attributes)[0],n.removeNamedItem(r.name),r.value=i,o.attributes.setNamedItem(r))),(t=this.$$observers)&&mt(t[s],function(t){try{t(e)}catch(t){L(t)}})},$observe:function(t,e){var n=this,r=n.$$observers||(n.$$observers=Et()),i=r[t]||(r[t]=[]);return i.push(e),V.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(t)||vt(n[t])||e(n[t])}),function(){Pt(i,e)}}},M.startSymbol()),n=M.endSymbol(),st="{{"===e&&"}}"===n?Nt:function(t){return t.replace(/\{\{/g,e).replace(/}}/g,n)},D=/^ng(Attr|Prop|On)([A-Z].*)$/,ut=/^(.+)Start$/;return H.$$addBindingInfo=l?function(t,e){var n=t.data("$binding")||[];wt(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:E,H.$$addBindingClass=l?function(t){q(t,"ng-binding")}:E,H.$$addScopeInfo=l?function(t,e,n,r){t.data(n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope",e)}:E,H.$$addScopeClass=l?function(t,e){q(t,e?"ng-isolate-scope":"ng-scope")}:E,H.$$createComment=function(t,e){var n="";return l&&(n=" "+(t||"")+": ",e)&&(n+=e+" "),dt.document.createComment(n)},H}]}function ce(t,e){this.previousValue=t,this.currentValue=e}function kt(t){return t.replace(Si,"").replace(Ei,function(t,e,n){return n?e.toUpperCase():e})}function le(t,e){var n="",r=t.split(/\s+/),i=e.split(/\s+/),o=0;t:for(;o<r.length;o++){for(var s=r[o],a=0;a<i.length;a++)if(s===i[a])continue t;n+=(0<n.length?" ":"")+s}return n}function fe(t){var e=(t=At(t)).length;if(!(e<=1))for(;e--;){var n=t[e];(8===n.nodeType||n.nodeType===kr&&""===n.nodeValue.trim())&&fr.call(t,e,1)}return t}function he(){var c={};this.has=function(t){return c.hasOwnProperty(t)},this.register=function(t,e){Z(t,"controller"),yt(t)?gt(c,t):c[t]=e},this.$get=["$injector",function(a){function u(t,e,n,r){if(!t||!yt(t.$scope))throw M("$controller")("noscp",r,e);t.$scope[e]=n}return function(e,n,t,r){var i,o,s;if(t=!0===t,r&&bt(r)&&(s=r),bt(e)){if(!(r=e.match(Ai)))throw ki("ctrlfmt",e);if(o=r[1],s=s||r[3],!(e=c.hasOwnProperty(o)?c[o]:function(t,e,n){if(!e)return t;for(var r,i=t,o=(e=e.split(".")).length,s=0;s<o;s++)r=e[s],t=t&&(i=t)[r];return!n&&xt(t)?Ut(i,t):t}(n.$scope,o,!0)))throw ki("ctrlreg",o);J(e,o,!0)}return t?(t=(wt(e)?e[e.length-1]:e).prototype,i=Object.create(t||null),s&&u(n,s,i,o||e.name),gt(function(){var t=a.invoke(e,i,n,o);return t!==i&&(yt(t)||xt(t))&&(i=t,s)&&u(n,s,i,o||e.name),i},{instance:i,identifier:s})):(i=a.instantiate(e,n,o),s&&u(n,s,i,o||e.name),i)}}]}function pe(){this.$get=["$window",function(t){return At(t.document)}]}function $e(){this.$get=["$document","$rootScope",function(t,e){function n(){i=r.hidden}var r=t[0],i=r&&r.hidden;return t.on("visibilitychange",n),e.$on("$destroy",function(){t.off("visibilitychange",n)}),function(){return i}}]}function de(){this.$get=["$log",function(n){return function(t,e){n.error.apply(n,arguments)}}]}function me(t){return yt(t)?x(t)?t.toISOString():i(t):t}function ge(){this.$get=function(){return function(t){var n;return t?(n=[],s(t,function(t,e){null===t||vt(t)||xt(t)||(wt(t)?mt(t,function(t){n.push(o(e)+"="+o(me(t)))}):n.push(o(e)+"="+o(me(t))))}),n.join("&")):""}}}function ve(){this.$get=function(){return function(t){var e;return t?(e=[],function n(t,r,i){wt(t)?mt(t,function(t,e){n(t,r+"["+(yt(t)?e:"")+"]")}):yt(t)&&!x(t)?s(t,function(t,e){n(t,r+(i?"":"[")+e+(i?"":"]"))}):(xt(t)&&(t=t()),e.push(o(r)+"="+(null==t?"":o(me(t)))))}(t,"",!0),e.join("&")):""}}}function ye(e,n){if(bt(e)){var t=e.replace(Ni,"").trim();if(t){var n=n("Content-Type"),r=(r=n=n&&0===n.indexOf(Oi))||(r=t.match(Ti))&&Vi[r[0]].test(t);if(r)try{e=U(t)}catch(t){if(n)throw ji("baddata",e,t)}}}return e}function be(t){var n,r=Et();return bt(t)?mt(t.split("\n"),function(t){n=t.indexOf(":");var e=Ot(Mt(t.substr(0,n)));t=Mt(t.substr(n+1)),e&&(r[e]=r[e]?r[e]+", "+t:t)}):yt(t)&&mt(t,function(t,e){e=Ot(e),t=Mt(t);e&&(r[e]=r[e]?r[e]+", "+t:t)}),r}function we(e){var n;return function(t){return n=n||be(e),t?t=void 0===(t=n[Ot(t)])?null:t:n}}function xe(e,n,r,t){return xt(t)?t(e,n,r):(mt(t,function(t){e=t(e,n,r)}),e)}function Ce(){var C=this.defaults={transformResponse:[ye],transformRequest:[function(t){return yt(t)&&"[object File]"!==v.call(t)&&"[object Blob]"!==v.call(t)&&"[object FormData]"!==v.call(t)?i(t):t}],headers:{common:{Accept:"application/json, text/plain, */*"},post:O(Mi),put:O(Mi),patch:O(Mi)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},S=!1,n=(this.useApplyAsync=function(t){return A(t)?(S=!!t,this):S},this.interceptors=[]),r=this.xsrfTrustedOrigins=[];Object.defineProperty(this,"xsrfWhitelistedOrigins",{get:function(){return this.xsrfTrustedOrigins},set:function(t){this.xsrfTrustedOrigins=t}}),this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(o,d,m,t,g,v,s,y){function b(t){function e(t,e){for(var n=0,r=e.length;n<r;){var i=e[n++],o=e[n++];t=t.then(i,o)}return e.length=0,t}function $(t){var e=gt({},t);return e.data=xe(t.data,t.headers,t.status,n.transformResponse),200<=(t=t.status)&&t<300?e:v.reject(e)}if(!yt(t))throw M("$http")("badreq",t);var n,r,i;if(bt(y.valueOf(t.url)))return(n=gt({method:"get",transformRequest:C.transformRequest,transformResponse:C.transformResponse,paramSerializer:C.paramSerializer,jsonpCallbackParam:C.jsonpCallbackParam},t)).headers=function(t){var e,n,r,i,o,s,a,u=C.headers,c=gt({},t.headers);t:for(e in u=gt({},u.common,u[Ot(t.method)])){for(r in n=Ot(e),c)if(Ot(r)===n)continue t;c[e]=u[e]}return i=c,o=O(t),a={},mt(i,function(t,e){xt(t)?null!=(s=t(o))&&(a[e]=s):a[e]=t}),a}(t),n.method=cr(n.method),n.paramSerializer=bt(n.paramSerializer)?s.get(n.paramSerializer):n.paramSerializer,o.$$incOutstandingRequestCount("$http"),r=[],i=[],t=v.resolve(n),mt(a,function(t){(t.request||t.requestError)&&r.unshift(t.request,t.requestError),(t.response||t.responseError)&&i.push(t.response,t.responseError)}),t=e(t,r),(t=e(t=t.then(function(t){var o,s,e,a,n,r,u,i=t.headers,c=xe(t.data,we(i),void 0,t.transformRequest);return vt(c)&&mt(i,function(t,e){"content-type"===Ot(e)&&delete i[e]}),vt(t.withCredentials)&&!vt(C.withCredentials)&&(t.withCredentials=C.withCredentials),o=t,t=c,a=v.defer(),c=a.promise,n=o.headers,r="jsonp"===Ot(o.method),u=o.url,r?u=y.getTrustedResourceUrl(u):bt(u)||(u=y.valueOf(u)),u=function(t,e){return 0<e.length&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t}(u,o.paramSerializer(o.params)),r&&(u=function(n,r){var t=n.split("?");if(2<t.length)throw ji("badjsonp",n);return mt(t=q(t[1]),function(t,e){if("JSON_CALLBACK"===t)throw ji("badjsonp",n);if(e===r)throw ji("badjsonp",r,n)}),n+=(-1===n.indexOf("?")?"?":"&")+r+"=JSON_CALLBACK"}(u,o.jsonpCallbackParam)),b.pendingRequests.push(o),c.then(p,p),(s=!o.cache&&!C.cache||!1===o.cache||"GET"!==o.method&&"JSONP"!==o.method?s:yt(o.cache)?o.cache:yt(C.cache)?C.cache:w)&&(A(e=s.get(u))?e&&xt(e.then)?e.then(h,h):wt(e)?f(e[1],e[0],O(e[2]),e[3],e[4]):f(e,200,{},"OK","complete"):s.put(u,c)),vt(e)&&((e=x(o.url)?m()[o.xsrfCookieName||C.xsrfCookieName]:void 0)&&(n[o.xsrfHeaderName||C.xsrfHeaderName]=e),d(o.method,u,t,function(t,e,n,r,i){function o(){f(e,t,n,r,i)}s&&(200<=t&&t<300?s.put(u,[t,e,be(n),r,i]):s.remove(u)),S?g.$applyAsync(o):(o(),g.$$phase||g.$apply())},n,o.timeout,o.withCredentials,o.responseType,l(o.eventHandlers),l(o.uploadEventHandlers))),c.then($,$);function l(t){var e;if(t)return e={},mt(t,function(n,t){e[t]=function(t){function e(){n(t)}S?g.$applyAsync(e):g.$$phase?e():g.$apply(e)}}),e}function f(t,e,n,r,i){(200<=(e=-1<=e?e:0)&&e<300?a.resolve:a.reject)({data:t,status:e,headers:we(n),config:o,statusText:r,xhrStatus:i})}function h(t){f(t.data,t.status,O(t.headers()),t.statusText,t.xhrStatus)}function p(){var t=b.pendingRequests.indexOf(o);-1!==t&&b.pendingRequests.splice(t,1)}}),i)).finally(function(){o.$$completeOutstandingRequest(E,"$http")});throw M("$http")("badreq",t.url)}var e,w=t("$http"),a=(C.paramSerializer=bt(C.paramSerializer)?s.get(C.paramSerializer):C.paramSerializer,[]),x=(mt(n,function(t){a.unshift(bt(t)?s.get(t):s.invoke(t))}),e=[Yi].concat(r.map(T)),function(t){return t=T(t),e.some($n.bind(null,t))});return b.pendingRequests=[],function(){mt(arguments,function(n){b[n]=function(t,e){return b(gt({},e||{},{method:n,url:t}))}})}("get","delete","head","jsonp"),function(){mt(arguments,function(r){b[r]=function(t,e,n){return b(gt({},n||{},{method:r,url:t,data:e}))}})}("post","put","patch"),b.defaults=C,b}]}function Se(){this.$get=function(){return function(){return new dt.XMLHttpRequest}}}function Ee(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(t,e,n,r){return C=r,S=(x=t).defer,E=e,k=n[0],function(t,r,e,i,n,o,s,a,u,c){function l(t){d="timeout"===t,p&&p(),$&&$.abort()}function f(t,e,n,r,i,o){A(w)&&S.cancel(w),p=$=null,t(e,n,r,i,o)}if(r=r||x.url(),"jsonp"===Ot(t))var h=E.createCallback(r),p=(g=h,v=function(t,e){var n=200===t&&E.getResponse(h);f(i,t,n,"",e,"complete"),E.removeCallback(h)},m=(m=r).replace("JSON_CALLBACK",g),(b=k.createElement("script")).type="text/javascript",b.src=m,b.async=!0,b.addEventListener("load",y=function(t){b.removeEventListener("load",y),b.removeEventListener("error",y),k.body.removeChild(b),b=null;var e=-1,n="unknown";t&&(n=(t="load"!==t.type||E.wasCalled(g)?t:{type:"error"}).type,e="error"===t.type?404:200),v&&v(e,n)}),b.addEventListener("error",y),k.body.appendChild(b),y);else{var $=C(t,r),d=!1;if($.open(t,r,!0),mt(n,function(t,e){A(t)&&$.setRequestHeader(e,t)}),$.onload=function(){var t=$.statusText||"",e="response"in $?$.response:$.responseText,n=1223===$.status?204:$.status;0===n&&(n=e?200:"file"===T(r).protocol?404:0),f(i,n,e,$.getAllResponseHeaders(),t,"complete")},$.onerror=function(){f(i,-1,null,null,"","error")},$.ontimeout=function(){f(i,-1,null,null,"","timeout")},$.onabort=function(){f(i,-1,null,null,"",d?"timeout":"abort")},mt(u,function(t,e){$.addEventListener(e,t)}),mt(c,function(t,e){$.upload.addEventListener(e,t)}),s&&($.withCredentials=!0),a)try{$.responseType=a}catch(t){if("json"!==a)throw t}$.send(vt(e)?null:e)}var m,g,v,y,b,w;0<o?w=S(function(){l("timeout")},o):o&&xt(o.then)&&o.then(function(){l(A(o.$$timeoutId)?"timeout":"abort")})};var x,C,S,E,k}]}function ke(){var C="{{",S="}}";this.startSymbol=function(t){return t?(C=t,this):C},this.endSymbol=function(t){return t?(S=t,this):S},this.$get=["$parse","$exceptionHandler","$sce",function(m,g,v){function t(t){return"\\\\\\"+t}function y(t){return t.replace(n,C).replace(r,S)}function b(t,e,n,r){var i=t.$watch(function(t){return i(),r(t)},e,n);return i}function e(i,t,r,o){var s=r===v.URL||r===v.MEDIA_URL;if(!i.length||-1===i.indexOf(C))return t?void 0:(t=y(i),(t=k(t=s?v.getTrusted(r,t):t)).exp=i,t.expressions=[],t.$$watchDelegate=b,t);o=!!o;for(var e,n,a=0,u=[],c=i.length,l=[],f=[];a<c;){if(-1===(e=i.indexOf(C,a))||-1===(n=i.indexOf(S,e+w))){a!==c&&l.push(y(i.substring(a)));break}a!==e&&l.push(y(i.substring(a,e))),a=i.substring(e+w,n),u.push(a),a=n+x,f.push(l.length),l.push("")}var h,p=1===l.length&&1===f.length,$=s&&p?void 0:function(t){try{return t=r&&!s?v.getTrusted(r,t):v.valueOf(t),o&&!A(t)?t:X(t)}catch(t){g(Ii.interr(i,t))}},d=u.map(function(t){return m(t,$)});return!t||u.length?(h=function(t){for(var e=0,n=u.length;e<n;e++){if(o&&vt(t[e]))return;l[f[e]]=t[e]}return s?v.getTrusted(r,p?l[0]:l.join("")):(r&&1<l.length&&Ii.throwNoconcat(i),l.join(""))},gt(function(t){var e=0,n=u.length,r=Array(n);try{for(;e<n;e++)r[e]=d[e](t);return h(r)}catch(t){g(Ii.interr(i,t))}},{exp:i,expressions:u,$$watchDelegate:function(r,i){var o;return r.$watchGroup(d,function(t,e){var n=h(t);i.call(this,n,t!==e?o:n,r),o=n})}})):void 0}var w=C.length,x=S.length,n=new RegExp(C.replace(/./g,t),"g"),r=new RegExp(S.replace(/./g,t),"g");return e.startSymbol=function(){return C},e.endSymbol=function(){return S},e}]}function Ae(){this.$get=["$$intervalFactory","$window",function(t,r){function i(t){r.clearInterval(t),delete o[t]}var o={},t=t(function(t,e,n){return t=r.setInterval(t,e),o[t]=n,t},i);return t.cancel=function(t){if(!t)return!1;if(!t.hasOwnProperty("$$intervalId"))throw Pi("badprom");if(!o.hasOwnProperty(t.$$intervalId))return!1;t=t.$$intervalId;var e=o[t],n=e.promise;return n.$$state&&(n.$$state.pur=!0),e.reject("canceled"),i(t),!0},t}]}function Oe(){this.$get=["$browser","$q","$$q","$rootScope",function(p,$,d,m){return function(f,h){return function(t,e,n,r){function i(){o?t.apply(null,s):t(a)}var o=4<arguments.length,s=o?lr.call(arguments,4):[],a=0,u=A(r)&&!r,c=(u?d:$).defer(),l=c.promise;return n=A(n)?n:0,l.$$intervalId=f(function(){u?p.defer(i):m.$evalAsync(i),c.notify(a++),0<n&&n<=a&&(c.resolve(a),h(l.$$intervalId)),u||m.$apply()},e,c,u),l}}}]}function Me(t,e){t=T(t);e.$$protocol=t.protocol,e.$$host=t.hostname,e.$$port=m(t.port)||Ui[t.protocol]||null}function Te(t,e,n){if(Li.test(t))throw Di("badpath",t);var r="/"!==t.charAt(0);t=T(t=r?"/"+t:t);for(var i=(r=(r&&"/"===t.pathname.charAt(0)?t.pathname.substring(1):t.pathname).split("/")).length;i--;)r[i]=decodeURIComponent(r[i]),n&&(r[i]=r[i].replace(/\//g,"%2F"));n=r.join("/"),e.$$path=n,e.$$search=q(t.search),e.$$hash=decodeURIComponent(t.hash),e.$$path&&"/"!==e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function Ve(t,e){return t.slice(0,e.length)===e}function Ne(t,e){if(Ve(e,t))return e.substr(t.length)}function je(t){var e=t.indexOf("#");return-1===e?t:t.substr(0,e)}function Ie(r,i,o){this.$$html5=!0,o=o||"",Me(r,this),this.$$parse=function(t){var e=Ne(i,t);if(!bt(e))throw Di("ipthprfx",t,i);Te(e,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$normalizeUrl=function(t){return i+t.substr(1)},this.$$parseLinkUrl=function(t,e){var n;return e&&"#"===e[0]?(this.hash(e.slice(1)),!0):(A(e=Ne(r,t))?(n=e,n=o&&A(e=Ne(o,e))?i+(Ne("/",e)||e):r+n):A(e=Ne(i,t))?n=i+e:i===t+"/"&&(n=i),n&&this.$$parse(n),!!n)}}function Pe(i,o,s){Me(i,this),this.$$parse=function(t){vt(n=Ne(i,t)||Ne(o,t))||"#"!==n.charAt(0)?this.$$html5?e=n:(e="",vt(n)&&(i=t,this.replace())):vt(e=Ne(s,n))&&(e=n),Te(e,this,!1),t=this.$$path;var e,n=i,r=/^\/[A-Z]:(\/.*)/;Ve(e,n)&&(e=e.replace(n,"")),r.exec(e)||(t=(e=r.exec(t))?e[1]:t),this.$$path=t,this.$$compose()},this.$$normalizeUrl=function(t){return i+(t?s+t:"")},this.$$parseLinkUrl=function(t,e){return je(i)===je(t)&&(this.$$parse(t),!0)}}function Re(r,i,o){this.$$html5=!0,Pe.apply(this,arguments),this.$$parseLinkUrl=function(t,e){var n;return e&&"#"===e[0]?(this.hash(e.slice(1)),!0):(r===je(t)?n=t:(e=Ne(i,t))?n=r+o+e:i===t+"/"&&(n=i),n&&this.$$parse(n),!!n)},this.$$normalizeUrl=function(t){return r+o+t}}function Ue(t){return function(){return this[t]}}function De(e,n){return function(t){return vt(t)?this[e]:(this[e]=n(t),this.$$compose(),this)}}function Le(){var $="!",d={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return A(t)?($=t,this):$},this.html5Mode=function(t){return S(t)?(d.enabled=t,this):yt(t)?(S(t.enabled)&&(d.enabled=t.enabled),S(t.requireBase)&&(d.requireBase=t.requireBase),(S(t.rewriteLinks)||bt(t.rewriteLinks))&&(d.rewriteLinks=t.rewriteLinks),this):d},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(s,a,u,i,t){function c(t,e,n){var r=f.url(),i=f.$$state;try{a.url(t,e,n),f.$$state=a.state()}catch(t){throw f.url(r),f.$$state=i,t}}function l(t,e){s.$broadcast("$locationChangeSuccess",f.absUrl(),t,f.$$state,e)}var e,n=a.baseHref(),r=a.url();if(d.enabled){if(!n&&d.requireBase)throw Di("nobase");e=r.substring(0,r.indexOf("/",r.indexOf("//")+2))+(n||"/"),n=u.history?Ie:Re}else e=je(r),n=Pe;var f,o=e.substr(0,je(e).lastIndexOf("/")+1),h=((f=new n(e,o,"#"+$)).$$parseLinkUrl(r,r),f.$$state=a.state(),/^\s*(javascript|mailto):/i),p=(i.on("click",function(t){if((e=d.rewriteLinks)&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!==t.which&&2!==t.button){for(var e,n,r=At(t.target);"a"!==Ct(r[0]);)if(r[0]===i[0]||!(r=r.parent())[0])return;bt(e)&&vt(r.attr(e))||(e=r.prop("href"),n=r.attr("href")||r.attr("xlink:href"),yt(e)&&"[object SVGAnimatedString]"===e.toString()&&(e=T(e.animVal).href),h.test(e))||!e||r.attr("target")||t.isDefaultPrevented()||!f.$$parseLinkUrl(e,n)||(t.preventDefault(),f.absUrl()!==a.url()&&s.$apply())}}),f.absUrl()!==r&&a.url(f.absUrl(),!0),!0);return a.onUrlChange(function(r,i){Ve(r,o)?(s.$evalAsync(function(){var t,e=f.absUrl(),n=f.$$state;f.$$parse(r),f.$$state=i,t=s.$broadcast("$locationChangeStart",r,e,i,n).defaultPrevented,f.absUrl()===r&&(t?(f.$$parse(e),f.$$state=n,c(e,!1,n)):(p=!1,l(e,n)))}),s.$$phase||s.$digest()):t.location.href=r}),s.$watch(function(){var n,r,i,o,t,e;(p||f.$$urlUpdatedByLocation)&&(f.$$urlUpdatedByLocation=!1,n=a.url(),e=f.absUrl(),r=a.state(),i=f.$$replace,o=!((t=n)===(e=e)||T(t).href===T(e).href)||f.$$html5&&u.history&&r!==f.$$state,p||o)&&(p=!1,s.$evalAsync(function(){var t=f.absUrl(),e=s.$broadcast("$locationChangeStart",t,n,f.$$state,r).defaultPrevented;f.absUrl()===t&&(e?(f.$$parse(n),f.$$state=r):(o&&c(t,i,r===f.$$state?null:f.$$state),l(n,r)))})),f.$$replace=!1}),f}]}function _e(){var r=!0,o=this;this.debugEnabled=function(t){return A(t)?(r=t,this):r},this.$get=["$window",function(e){function t(t){var n=e.console||{},r=n[t]||n.log||E;return function(){var e=[];return mt(arguments,function(t){e.push((jt(t=t)&&(t.stack&&i?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t))}),Function.prototype.apply.call(r,n,e)}}var n,i=mr||/\bEdge\//.test(e.navigator&&e.navigator.userAgent);return{log:t("log"),info:t("info"),warn:t("warn"),error:t("error"),debug:(n=t("debug"),function(){r&&n.apply(o,arguments)})}}]}function Fe(t){return t+""}function qe(t,e){return void 0!==t?t:e}function He(t,e){return void 0===t?e:void 0===e?t:t+e}function a(t,e,n){var r,i,o=t.isPure=function(t,e){switch(t.type){case h.MemberExpression:if(t.computed)return!1;break;case h.UnaryExpression:return 1;case h.BinaryExpression:return"+"!==t.operator&&1;case h.CallExpression:return!1}return void 0===e?Wi:e}(t,n);switch(t.type){case h.Program:r=!0,mt(t.body,function(t){a(t.expression,e,o),r=r&&t.expression.constant}),t.constant=r;break;case h.Literal:t.constant=!0,t.toWatch=[];break;case h.UnaryExpression:a(t.argument,e,o),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case h.BinaryExpression:a(t.left,e,o),a(t.right,e,o),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case h.LogicalExpression:a(t.left,e,o),a(t.right,e,o),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case h.ConditionalExpression:a(t.test,e,o),a(t.alternate,e,o),a(t.consequent,e,o),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case h.Identifier:t.constant=!1,t.toWatch=[t];break;case h.MemberExpression:a(t.object,e,o),t.computed&&a(t.property,e,o),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=t.constant?[]:[t];break;case h.CallExpression:r=n=!!t.filter&&!e(t.callee.name).$stateful,i=[],mt(t.arguments,function(t){a(t,e,o),r=r&&t.constant,i.push.apply(i,t.toWatch)}),t.constant=r,t.toWatch=n?i:[t];break;case h.AssignmentExpression:a(t.left,e,o),a(t.right,e,o),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case h.ArrayExpression:r=!0,i=[],mt(t.elements,function(t){a(t,e,o),r=r&&t.constant,i.push.apply(i,t.toWatch)}),t.constant=r,t.toWatch=i;break;case h.ObjectExpression:r=!0,i=[],mt(t.properties,function(t){a(t.value,e,o),r=r&&t.value.constant,i.push.apply(i,t.value.toWatch),t.computed&&(a(t.key,e,!1),r=r&&t.key.constant,i.push.apply(i,t.key.toWatch))}),t.constant=r,t.toWatch=i;break;case h.ThisExpression:case h.LocalsExpression:t.constant=!1,t.toWatch=[]}}function Be(t){var e;return 1===t.length&&(1!==(e=(t=t[0].expression).toWatch).length||e[0]!==t)?e:void 0}function ze(t){return t.type===h.Identifier||t.type===h.MemberExpression}function We(t){if(1===t.body.length&&ze(t.body[0].expression))return{type:h.AssignmentExpression,left:t.body[0].expression,right:{type:h.NGValueParameter},operator:"="}}function Ge(t){this.$filter=t}function Ke(t){this.$filter=t}function Je(t,e,n){this.ast=new h(t,n),this.astCompiler=new(n.csp?Ke:Ge)(e)}function Ze(t){return xt(t.valueOf)?t.valueOf():qi.call(t)}function Ye(){var a,u,c=Et(),l={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(t,e){l[t]=e},this.setIdentifierFns=function(t,e){return a=t,u=e,this},this.$get=["$filter",function(i){function t(t,e){var n,r;switch(typeof t){case"string":return r=t=t.trim(),(n=c[r])||(n=new Je(n=new zi(s),i,s).parse(t),c[r]=$(n)),o(n,e);case"function":return o(t,e);default:return o(E,e)}}function h(t,e,n){return null==t||null==e?t===e:!("object"==typeof t&&"object"==typeof(t=Ze(t))&&!n)&&(t===e||t!=t&&e!=e)}function e(t,e,n,o,r){var s,i,a=o.inputs;if(1===a.length)return i=h,a=a[0],t.$watch(function(t){var e=a(t);return h(e,i,a.isPure)||(s=o(t,void 0,void 0,[e]),i=e&&Ze(e)),s},e,n,r);for(var u=[],c=[],l=0,f=a.length;l<f;l++)u[l]=h,c[l]=null;return t.$watch(function(t){for(var e=!1,n=0,r=a.length;n<r;n++){var i=a[n](t);(e=e||!h(i,u[n],a[n].isPure))&&(u[n]=(c[n]=i)&&Ze(i))}return s=e?o(t,void 0,void 0,c):s},e,n,r)}function n(t,e,n,r,i){function o(){c(u)&&a()}function s(t,e,n,r){return u=h&&r?r[0]:l(t,e,n,r),c(u)&&t.$$postDigest(o),f(u)}var a,u,c=r.literal?p:A,l=r.$$intercepted||r,f=r.$$interceptor||Nt,h=r.inputs&&!l.inputs;return s.literal=r.literal,s.constant=r.constant,s.inputs=r.inputs,$(s),a=t.$watch(s,e,n,i)}function p(t){var e=!0;return mt(t,function(t){A(t)||(e=!1)}),e}function r(t,e,n,r){var i=t.$watch(function(t){return i(),r(t)},e,n);return i}function $(t){return t.constant?t.$$watchDelegate=r:t.oneTime?t.$$watchDelegate=n:t.inputs&&(t.$$watchDelegate=e),t}function o(i,o){var e,n,s,t;return o?(i.$$interceptor&&(e=i.$$interceptor,n=o,r.$stateful=e.$stateful||n.$stateful,r.$$pure=e.$$pure&&n.$$pure,o=r,i=i.$$intercepted),s=!1,(t=function(t,e,n,r){return t=s&&r?r[0]:i(t,e,n,r),o(t)}).$$intercepted=i,t.$$interceptor=o,t.literal=i.literal,t.oneTime=i.oneTime,t.constant=i.constant,o.$stateful||(s=!i.inputs,t.inputs=i.inputs||[i],o.$$pure)||(t.inputs=t.inputs.map(function(e){return e.isPure===Wi?function(t){return e(t)}:e})),$(t)):i;function r(t){return n(e(t))}}var s={csp:yr().noUnsafeEval,literals:I(l),isIdentifierStart:xt(a)&&a,isIdentifierContinue:xt(u)&&u};return t.$$getAst=function(t){return new Je(new zi(s),i,s).getAst(t).ast},t}]}function Xe(){var n=!0;this.$get=["$rootScope","$exceptionHandler",function(e,t){return tn(function(t){e.$evalAsync(t)},t,n)}],this.errorOnUnhandledRejections=function(t){return A(t)?(n=t,this):n}}function Qe(){var n=!0;this.$get=["$browser","$exceptionHandler",function(e,t){return tn(function(t){e.defer(t)},t,n)}],this.errorOnUnhandledRejections=function(t){return A(t)?(n=t,this):n}}function tn(s,a,u){function n(){return new t}function t(){var e=this.promise=new o;this.resolve=function(t){f(e,t)},this.reject=function(t){h(e,t)},this.notify=function(t){$(e,t)}}function o(){this.$$state={status:0}}function c(){for(;!g&&v.length;){var t,e=v.shift();e.pur||(e.pur=!0,t="Possibly unhandled rejection: "+("function"==typeof(t=e.value)?t.toString().replace(/ \{[\s\S]*$/,""):vt(t)?"undefined":"string"!=typeof t?function(t,e){var n=[];return w(e)&&(t=b.copy(t,null,e)),JSON.stringify(t,function(t,e){if(yt(e=R(t,e))){if(0<=n.indexOf(e))return"...";n.push(e)}return e})}(t,void 0):t),jt(e.value)?a(e.value,t):a(t))}}function l(o){!u||o.pending||2!==o.status||o.pur||(0===g&&0===v.length&&s(c),v.push(o)),!o.processScheduled&&o.pending&&(o.processScheduled=!0,++g,s(function(){var t,e,n=o.pending;o.processScheduled=!1,o.pending=void 0;try{for(var r=0,i=n.length;r<i;++r){o.pur=!0,e=n[r][0],t=n[r][o.status];try{xt(t)?f(e,t(o.value)):(1===o.status?f:h)(e,o.value)}catch(t){h(e,t),t&&!0===t.$$passToExceptionHandler&&a(t)}}}finally{--g,u&&0===g&&s(c)}}))}function f(t,e){t.$$state.status||(e===t?p(t,m("qcycle",e)):function e(n,t){function r(t){a||(a=!0,e(n,t))}function i(t){a||(a=!0,p(n,t))}function o(t){$(n,t)}var s,a=!1;try{(yt(t)||xt(t))&&(s=t.then),xt(s)?(n.$$state.status=-1,s.call(t,r,i,o)):(n.$$state.value=t,n.$$state.status=1,l(n.$$state))}catch(t){i(t)}}(t,e))}function h(t,e){t.$$state.status||p(t,e)}function p(t,e){t.$$state.value=e,t.$$state.status=2,l(t.$$state)}function $(t,i){var o=t.$$state.pending;t.$$state.status<=0&&o&&o.length&&s(function(){for(var t,e,n=0,r=o.length;n<r;n++){e=o[n][0],t=o[n][3];try{$(e,xt(t)?t(i):i)}catch(t){a(t)}}})}function i(t){var e=new o;return h(e,t),e}function r(t,e,n){var r=null;try{xt(n)&&(r=n())}catch(t){return i(t)}return r&&xt(r.then)?r.then(function(){return e(t)},i):e(t)}function d(t,e,n,r){var i=new o;return f(i,t),i.then(e,n,r)}function e(t){var e;if(xt(t))return e=new o,t(function(t){f(e,t)},function(t){h(e,t)}),e;throw m("norslvr",t)}var m=M("$q",TypeError),g=0,v=[],y=(gt(o.prototype,{then:function(t,e,n){var r;return vt(t)&&vt(e)&&vt(n)?this:(r=new o,this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,t,e,n]),0<this.$$state.status&&l(this.$$state),r)},catch:function(t){return this.then(null,t)},finally:function(e,t){return this.then(function(t){return r(t,y,e)},function(t){return r(t,i,e)},t)}}),d);return e.prototype=o.prototype,e.defer=n,e.reject=i,e.when=d,e.resolve=y,e.all=function(t){var n=new o,r=0,i=wt(t)?[]:{};return mt(t,function(t,e){r++,d(t).then(function(t){i[e]=t,--r||f(n,i)},function(t){h(n,t)})}),0===r&&f(n,i),n},e.race=function(t){var e=n();return mt(t,function(t){d(t).then(e.resolve,e.reject)}),e.promise},e}function en(){this.$get=["$window","$timeout",function(t,n){var r=t.requestAnimationFrame||t.webkitRequestAnimationFrame,i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,t=!!r,e=t?function(t){var e=r(t);return function(){i(e)}}:function(t){var e=n(t,16.66,!1);return function(){n.cancel(e)}};return e.supported=t,e}]}function nn(){var w=10,x=M("$rootScope"),C=null,S=null;this.digestTtl=function(t){return w=arguments.length?t:w},this.$get=["$exceptionHandler","$parse","$browser",function(f,p,h){function i(t){t.currentScope.$$destroyed=!0}function o(){this.$id=++dr,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,(this.$root=this).$$suspended=this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function $(t){if(g.$$phase)throw x("inprog",g.$$phase);g.$$phase=t}function u(t,e){for(;t.$$watchersCount+=e,t=t.$parent;);}function s(t,e,n){for(;t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n],t=t.$parent;);}function d(){}function m(){for(;n.length;)try{n.shift()()}catch(t){f(t)}S=null}o.prototype={constructor:o,$new:function(t,e){var n;function r(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++dr,this.$$ChildScope=null,this.$$suspended=!1}return e=e||this,t?(n=new o).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=(r.prototype=this,r)),n=new this.$$ChildScope),n.$parent=e,n.$$prevSibling=e.$$childTail,e.$$childHead?(e.$$childTail.$$nextSibling=n,e.$$childTail=n):e.$$childHead=e.$$childTail=n,!t&&e===this||n.$on("$destroy",i),n},$watch:function(t,e,n,r){var i,o,s,a=p(t);return e=xt(e)?e:E,a.$$watchDelegate?a.$$watchDelegate(this,e,n,a,t):(o=(i=this).$$watchers,s={fn:e,last:d,get:a,exp:r||t,eq:!!n},C=null,o||((o=i.$$watchers=[]).$$digestWatchIndex=-1),o.unshift(s),o.$$digestWatchIndex++,u(this,1),function(){var t=Pt(o,s);0<=t&&(u(i,-1),t<o.$$digestWatchIndex)&&o.$$digestWatchIndex--,C=null})},$watchGroup:function(e,r){function n(){u=!1;try{c?(c=!1,r(o,o,a)):r(o,i,a)}finally{for(var t=0;t<e.length;t++)i[t]=o[t]}}var t,i=Array(e.length),o=Array(e.length),s=[],a=this,u=!1,c=!0;return e.length?1===e.length?this.$watch(e[0],function(t,e,n){o[0]=t,i[0]=e,r(o,t===e?o:i,n)}):(mt(e,function(t,e){t=a.$watch(t,function(t){o[e]=t,u||(u=!0,a.$evalAsync(n))});s.push(t)}),function(){for(;s.length;)s.shift()()}):(t=!0,a.$evalAsync(function(){t&&r(o,o,a)}),function(){t=!1})},$watchCollection:function(t,e){function n(t){var e,n,r,i;if(!vt(o=t)){if(yt(o))if(N(o))for(s!==c&&(h=(s=c).length=0,u++),t=o.length,h!==t&&(u++,s.length=h=t),e=0;e<t;e++)i=s[e],r=o[e],(n=i!=i&&r!=r)||i===r||(u++,s[e]=r);else{for(e in s!==l&&(s=l={},h=0,u++),t=0,o)ur.call(o,e)&&(t++,r=o[e],i=s[e],e in s?(n=i!=i&&r!=r,n||i===r||(u++,s[e]=r)):(h++,s[e]=r,u++));if(t<h)for(e in u++,s)ur.call(o,e)||(h--,delete s[e])}else s!==o&&(s=o,u++);return u}}n.$$pure=p(t).literal,n.$stateful=!n.$$pure;var o,s,r,i=this,a=1<e.length,u=0,t=p(t,n),c=[],l={},f=!0,h=0;return this.$watch(t,function(){if(f?(f=!1,e(o,o,i)):e(o,r,i),a)if(yt(o))if(N(o)){r=Array(o.length);for(var t=0;t<o.length;t++)r[t]=o[t]}else for(t in r={},o)ur.call(o,t)&&(r[t]=o[t]);else r=o})},$digest:function(){var t,e,n,r,i,o,s,a,u=w,c=v.length?g:this,l=[];$("$digest"),h.$$checkUrlChange(),this===g&&null!==S&&(h.defer.cancel(S),m()),C=null;do{for(i=!1,o=c,r=0;r<v.length;r++){try{(0,(a=v[r]).fn)(a.scope,a.locals)}catch(t){f(t)}C=null}v.length=0;t:do{if(r=!o.$$suspended&&o.$$watchers)for(r.$$digestWatchIndex=r.length;r.$$digestWatchIndex--;)try{if(t=r[r.$$digestWatchIndex])if((e=(0,t.get)(o))===(n=t.last)||(t.eq?St(e,n):V(e)&&V(n))){if(t===C){i=!1;break t}}else i=!0,(C=t).last=t.eq?I(e,null):e,(0,t.fn)(e,n===d?e:n,o),u<5&&(l[s=4-u]||(l[s]=[]),l[s].push({msg:xt(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:e,oldVal:n}))}catch(t){f(t)}if(!(r=!o.$$suspended&&o.$$watchersCount&&o.$$childHead||o!==c&&o.$$nextSibling))for(;o!==c&&!(r=o.$$nextSibling);)o=o.$parent}while(o=r);if((i||v.length)&&!u--)throw g.$$phase=null,x("infdig",w,l)}while(i||v.length);for(g.$$phase=null;b<y.length;)try{y[b++]()}catch(t){f(t)}y.length=b=0,h.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var t,e=this.$parent;for(t in this.$broadcast("$destroy"),this.$$destroyed=!0,this===g&&h.$$applicationDestroyed(),u(this,-this.$$watchersCount),this.$$listenerCount)s(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=E,this.$on=this.$watch=this.$watchGroup=function(){return E},this.$$listeners={},this.$$nextSibling=null,!function t(e){9===mr&&(e.$$childHead&&t(e.$$childHead),e.$$nextSibling)&&t(e.$$nextSibling),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}(this)}},$eval:function(t,e){return p(t)(this,e)},$evalAsync:function(t,e){g.$$phase||v.length||h.defer(function(){v.length&&g.$digest()},null,"$evalAsync"),v.push({scope:this,fn:p(t),locals:e})},$$postDigest:function(t){y.push(t)},$apply:function(t){try{$("$apply");try{return this.$eval(t)}finally{g.$$phase=null}}catch(t){f(t)}finally{try{g.$digest()}catch(t){throw f(t),t}}},$applyAsync:function(t){var e=this;t&&n.push(function(){e.$eval(t)}),t=p(t),null===S&&(S=h.defer(function(){g.$apply(m)},null,"$applyAsync"))},$on:function(e,n){for(var r=this.$$listeners[e],t=(r||(this.$$listeners[e]=r=[]),r.push(n),this);t.$$listenerCount[e]||(t.$$listenerCount[e]=0),t.$$listenerCount[e]++,t=t.$parent;);var i=this;return function(){var t=r.indexOf(n);-1!==t&&(delete r[t],s(i,1,e))}},$emit:function(t,e){var n,r,i,o=[],s=this,a=!1,u={name:t,targetScope:s,stopPropagation:function(){a=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=P([u],arguments,1);do{for(n=s.$$listeners[t]||o,u.currentScope=s,r=0,i=n.length;r<i;r++)if(n[r])try{n[r].apply(null,c)}catch(t){f(t)}else n.splice(r,1),r--,i--}while(!a&&(s=s.$parent));return u.currentScope=null,u},$broadcast:function(t,e){var n=this,r=this,i={name:t,targetScope:this,preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1};if(this.$$listenerCount[t]){for(var o,s,a=P([i],arguments,1);n=r;){for(o=0,s=(r=(i.currentScope=n).$$listeners[t]||[]).length;o<s;o++)if(r[o])try{r[o].apply(null,a)}catch(t){f(t)}else r.splice(o,1),o--,s--;if(!(r=n.$$listenerCount[t]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(r=n.$$nextSibling);)n=n.$parent}i.currentScope=null}return i}};var g=new o,v=g.$$asyncQueue=[],y=g.$$postDigestQueue=[],n=g.$$applyAsyncQueue=[],b=0;return g}]}function rn(){var r=/^\s*(https?|s?ftp|mailto|tel|file):/,i=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationTrustedUrlList=function(t){return A(t)?(r=t,this):r},this.imgSrcSanitizationTrustedUrlList=function(t){return A(t)?(i=t,this):i},this.$get=function(){return function(t,e){var e=e?i:r,n=T(t&&t.trim()).href;return""===n||n.match(e)?t:"unsafe:"+n}}}function on(t){var e=[];return A(t)&&mt(t,function(t){e.push(function(t){if("self"===t)return t;if(bt(t)){if(-1<t.indexOf("***"))throw Gi("iwcard",t);return t=vr(t).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+t+"$")}if(d(t))return new RegExp("^"+t.source+"$");throw Gi("imatcher")}(t))}),e}function sn(){this.SCE_CONTEXTS=y;var l=["self"],f=[];this.trustedResourceUrlList=function(t){return l=arguments.length?on(t):l},Object.defineProperty(this,"resourceUrlWhitelist",{get:function(){return this.trustedResourceUrlList},set:function(t){this.trustedResourceUrlList=t}}),this.bannedResourceUrlList=function(t){return f=arguments.length?on(t):f},Object.defineProperty(this,"resourceUrlBlacklist",{get:function(){return this.bannedResourceUrlList},set:function(t){this.bannedResourceUrlList=t}}),this.$get=["$injector","$$sanitizeUri",function(t,s){function a(t,e){var n;return"self"===t?(n=$n(e,Yi))||(n=$n(e,n=dt.document.baseURI||(ai||((ai=dt.document.createElement("a")).href=".",ai=ai.cloneNode(!1)),ai.href))):n=!!t.exec(e.href),n}function e(t){function e(t){this.$$unwrapTrustedValue=function(){return t}}return(e.prototype=t?new t:e.prototype).valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}var u=function(t){throw Gi("unsafe")},n=(t.has("$sanitize")&&(u=t.get("$sanitize")),e()),c={};return c[y.HTML]=e(n),c[y.CSS]=e(n),c[y.MEDIA_URL]=e(n),c[y.URL]=e(c[y.MEDIA_URL]),c[y.JS]=e(n),c[y.RESOURCE_URL]=e(c[y.URL]),{trustAs:function(t,e){var n=c.hasOwnProperty(t)?c[t]:null;if(!n)throw Gi("icontext",t,e);if(null===e||vt(e)||""===e)return e;if("string"!=typeof e)throw Gi("itype",t);return new n(e)},getTrusted:function(t,e){if(null===e||vt(e)||""===e)return e;if((n=c.hasOwnProperty(t)?c[t]:null)&&e instanceof n)return e.$$unwrapTrustedValue();if(xt(e.$$unwrapTrustedValue)&&(e=e.$$unwrapTrustedValue()),t===y.MEDIA_URL||t===y.URL)return s(e.toString(),t===y.MEDIA_URL);if(t===y.RESOURCE_URL){for(var n=T(e.toString()),r=!1,i=0,o=l.length;i<o;i++)if(a(l[i],n)){r=!0;break}if(r)for(i=0,o=f.length;i<o;i++)if(a(f[i],n)){r=!1;break}if(r)return e;throw Gi("insecurl",e.toString())}if(t===y.HTML)return u(e);throw Gi("unsafe")},valueOf:function(t){return t instanceof n?t.$$unwrapTrustedValue():t}}}]}function an(){var e=!0;this.enabled=function(t){return e=arguments.length?!!t:e},this.$get=["$parse","$sceDelegate",function(r,t){if(e&&mr<8)throw Gi("iequirks");var i=O(y),n=(i.isEnabled=function(){return e},i.trustAs=t.trustAs,i.getTrusted=t.getTrusted,i.valueOf=t.valueOf,e||(i.trustAs=i.getTrusted=function(t,e){return e},i.valueOf=Nt),i.parseAs=function(e,t){var n=r(t);return n.literal&&n.constant?n:r(t,function(t){return i.getTrusted(e,t)})},i.parseAs),o=i.getTrusted,s=i.trustAs;return mt(y,function(e,t){t=Ot(t);i[("parse_as_"+t).replace(Ki,Q)]=function(t){return n(e,t)},i[("get_trusted_"+t).replace(Ki,Q)]=function(t){return o(e,t)},i[("trust_as_"+t).replace(Ki,Q)]=function(t){return s(e,t)}}),i}]}function un(){this.$get=["$window","$document",function(t,e){var n={},r=!((!t.nw||!t.nw.process)&&t.chrome&&(t.chrome.app&&t.chrome.app.runtime||!t.chrome.app&&t.chrome.runtime&&t.chrome.runtime.id))&&t.history&&t.history.pushState,i=m((/android (\d+)/.exec(Ot((t.navigator||{}).userAgent))||[])[1]),t=/Boxee/i.test((t.navigator||{}).userAgent),o=e[0]||{},e=o.body&&o.body.style,s=!1,a=!1;return e&&(s=!!("transition"in e||"webkitTransition"in e),a=!!("animation"in e||"webkitAnimation"in e)),{history:!(!r||i<4||t),hasEvent:function(t){var e;return("input"!==t||!mr)&&(vt(n[t])&&(e=o.createElement("div"),n[t]="on"+t in e),n[t])},csp:yr(),transitions:s,animations:a,android:i}}]}function cn(){this.$get=k(function(t){return new ln(t)})}function ln(i){function o(){var t=r.pop();return t&&t.cb}function s(t){for(var e=r.length-1;0<=e;--e){var n=r[e];if(n.type===t)return r.splice(e,1),n.cb}}var a={},r=[],u=this.ALL_TASKS_TYPE="$$all$$",c=this.DEFAULT_TASK_TYPE="$$default$$";this.completeTask=function(t,e){e=e||c;try{t()}finally{var n=e||c,r=(a[n]&&(a[n]--,a[u]--),n=a[e],a[u]);if(!r||!n)for(n=r?s:o;r=n(e);)try{r()}catch(t){i.error(t)}}},this.incTaskCount=function(t){a[t=t||c]=(a[t]||0)+1,a[u]=(a[u]||0)+1},this.notifyWhenNoPendingTasks=function(t,e){a[e=e||u]?r.push({type:e,cb:t}):t()}}function fn(){var c;this.httpOptions=function(t){return t?(c=t,this):c},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(r,i,o,s,a){function u(e,n){u.totalPendingRequests++,bt(e)&&!vt(i.get(e))||(e=a.getTrustedResourceUrl(e));var t=o.defaults&&o.defaults.transformResponse;return wt(t)?t=t.filter(function(t){return t!==ye}):t===ye&&(t=null),o.get(e,gt({cache:i,transformResponse:t},c)).finally(function(){u.totalPendingRequests--}).then(function(t){return i.put(e,t.data)},function(t){return n||(t=Ji("tpload",e,t.status,t.statusText),r(t)),s.reject(t)})}return u.totalPendingRequests=0,u}]}function hn(){this.$get=["$rootScope","$browser","$location",function(e,n,r){return{findBindings:function(t,n,r){t=t.getElementsByClassName("ng-binding");var i=[];return mt(t,function(e){var t=b.element(e).data("$binding");t&&mt(t,function(t){r?new RegExp("(^|\\s)"+vr(n)+"(\\s|\\||$)").test(t)&&i.push(e):-1!==t.indexOf(n)&&i.push(e)})}),i},findModels:function(t,e,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=t.querySelectorAll("["+r[i]+"model"+(n?"=":"*=")+'"'+e+'"]');if(o.length)return o}},getLocation:function(){return r.url()},setLocation:function(t){t!==r.url()&&(r.url(t),e.$digest())},whenStable:function(t){n.notifyWhenNoOutstandingRequests(t)}}}]}function pn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,u,c,l,f){function t(t,e,n){xt(t)||(n=e,e=t,t=E);var r=lr.call(arguments,3),i=A(n)&&!n,o=(i?l:c).defer(),s=o.promise,n=u.defer(function(){try{o.resolve(t.apply(null,r))}catch(t){o.reject(t),f(t)}finally{delete h[s.$$timeoutId]}i||a.$apply()},e,"$timeout");return s.$$timeoutId=n,h[n]=o,s}var h={};return t.cancel=function(t){if(!t)return!1;if(!t.hasOwnProperty("$$timeoutId"))throw Zi("badprom");if(!h.hasOwnProperty(t.$$timeoutId))return!1;t=t.$$timeoutId;var e=h[t],n=e.promise;return n.$$state&&(n.$$state.pur=!0),e.reject("canceled"),delete h[t],u.defer.cancel(t)},t}]}function T(t){return bt(t)?(mr&&(e.setAttribute("href",t),t=e.href),e.setAttribute("href",t),t=e.hostname,!Xi&&-1<t.indexOf(":")&&(t="["+t+"]"),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:t,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}):t}function $n(t,e){return t=T(t),e=T(e),t.protocol===e.protocol&&t.host===e.host}function dn(){this.$get=k(dt)}function mn(t){function o(e){try{return decodeURIComponent(e)}catch(t){return e}}var s=t[0]||{},a={},u="";return function(){var e,t,n,r,i;try{e=s.cookie||""}catch(t){e=""}if(e!==u)for(e=(u=e).split("; "),a={},n=0;n<e.length;n++)0<(r=(t=e[n]).indexOf("="))&&(i=o(t.substring(0,r)),vt(a[i]))&&(a[i]=o(t.substring(r+1)));return a}}function gn(){this.$get=mn}function vn(r){function i(t,e){var n;return yt(t)?(n={},mt(t,function(t,e){n[e]=i(e,t)}),n):r.factory(t+"Filter",e)}this.register=i,this.$get=["$injector",function(e){return function(t){return e.get(t+"Filter")}}],i("currency",xn),i("date",Tn),i("filter",yn),i("json",Vn),i("limitTo",Nn),i("lowercase",oo),i("number",Cn),i("orderBy",In),i("uppercase",so)}function yn(){return function(t,e,n,r){if(!N(t)){if(null==t)return t;throw M("filter")("notarray",t)}var i,o,s,a,u,c;switch(r=r||"$",wn(e)){case"function":break;case"boolean":case"null":case"number":case"string":i=!0;case"object":s=n,a=r,u=i,c=yt(o=e)&&a in o,!0===s?s=St:xt(s)||(s=function(t,e){return!(vt(t)||(null===t||null===e?t!==e:yt(e)||yt(t)&&!l(t)||(t=Ot(""+t),e=Ot(""+e),-1===t.indexOf(e))))}),e=function(t){return c&&!yt(t)?bn(t,o[a],s,a,!1):bn(t,o,s,a,u)};break;default:return t}return Array.prototype.filter.call(t,e)}}function bn(t,e,n,r,i,o){var s,a=wn(t),u=wn(e);if("string"===u&&"!"===e.charAt(0))return!bn(t,e.substring(1),n,r,i);if(wt(t))return t.some(function(t){return bn(t,e,n,r,i)});switch(a){case"object":if(i){for(s in t)if(s.charAt&&"$"!==s.charAt(0)&&bn(t[s],e,n,r,!0))return!0;return!o&&bn(t,e,n,r,!1)}if("object"!==u)return n(t,e);for(s in e)if(o=e[s],!xt(o)&&!vt(o)&&(a=s===r,!bn(a?t:t[s],o,n,r,a,a)))return!1;return!0;case"function":return!1;default:return n(t,e)}}function wn(t){return null===t?"null":typeof t}function xn(t){var i=t.NUMBER_FORMATS;return function(t,e,n){vt(e)&&(e=i.CURRENCY_SYM),vt(n)&&(n=i.PATTERNS[1].maxFrac);var r=e?/\u00A4/g:/\s*\u00A4\s*/g;return null==t?t:Sn(t,i.PATTERNS[1],i.GROUP_SEP,i.DECIMAL_SEP,n).replace(r,e)}}function Cn(t){var n=t.NUMBER_FORMATS;return function(t,e){return null==t?t:Sn(t,n.PATTERNS[0],n.GROUP_SEP,n.DECIMAL_SEP,e)}}function Sn(t,e,n,r,i){if(!bt(t)&&!g(t)||isNaN(t))return"";var o=!isFinite(t),s=!1,a=Math.abs(t)+"",u="";if(o)u="∞";else{var c=s=function(t){var e,n,r,i,o,s=0;for(0<(r=(t=-1<(n=t.indexOf(to))?t.replace(to,""):t).search(/e/i))?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charAt(r)===eo;r++);if(r===(o=t.length))e=[0],n=1;else{for(o--;t.charAt(o)===eo;)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=+t.charAt(r)}return Qi<n&&(e=e.splice(0,Qi-1),s=n-1,n=1),{d:e,e:s,i:n}}(a),l=i,f=e.minFrac,h=e.maxFrac,p=c.d,$=p.length-c.i;if(h=p[f=(l=vt(l)?Math.min(Math.max(f,$),h):+l)+c.i],0<f){p.splice(Math.max(c.i,f));for(var d=f;d<p.length;d++)p[d]=0}else for($=Math.max(0,$),c.i=1,p.length=Math.max(1,f=l+1),p[0]=0,d=1;d<f;d++)p[d]=0;if(5<=h)if(f-1<0){for(h=0;f<h;h--)p.unshift(0),c.i++;p.unshift(1),c.i++}else p[f-1]++;for(;$<Math.max(0,l);$++)p.push(0);for((l=p.reduceRight(function(t,e,n,r){return r[n]=(e+=t)%10,Math.floor(e/10)},0))&&(p.unshift(l),c.i++),u=s.d,a=s.i,i=s.e,o=[],s=u.reduce(function(t,e){return t&&!e},!0);a<0;)u.unshift(0),a++;for(0<a?o=u.splice(a,u.length):(o=u,u=[0]),a=[],u.length>=e.lgSize&&a.unshift(u.splice(-e.lgSize,u.length).join(""));u.length>e.gSize;)a.unshift(u.splice(-e.gSize,u.length).join(""));u.length&&a.unshift(u.join("")),u=a.join(n),o.length&&(u+=r+o.join("")),i&&(u+="e+"+i)}return t<0&&!s?e.negPre+u+e.negSuf:e.posPre+u+e.posSuf}function En(t,e,n,r){var i="";for((t<0||r&&t<=0)&&(r?t=1-t:(t=-t,i="-")),t=""+t;t.length<e;)t=eo+t;return i+(t=n?t.substr(t.length-e):t)}function t(e,n,r,i,o){return r=r||0,function(t){return t=t["get"+e](),(0<r||-r<t)&&(t+=r),En(t=0===t&&-12===r?12:t,n,i,o)}}function kn(n,r,i){return function(t,e){t=t["get"+n]();return e[cr((i?"STANDALONE":"")+(r?"SHORT":"")+n)][t]}}function An(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function On(n){return function(t){var e=An(t.getFullYear());return t=+new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))-+e,En(t=1+Math.round(t/6048e5),n)}}function Mn(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function Tn($){var d=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(e,t,n){var r,i,o,s,a,u,c,l,f="",h=[];if(t=$.DATETIME_FORMATS[t=t||"mediumDate"]||t,!x(e=g(e=bt(e)?io.test(e)?m(e):((s=(o=e).match(d))&&(o=new Date(0),u=a=0,c=s[8]?o.setUTCFullYear:o.setFullYear,l=s[8]?o.setUTCHours:o.setHours,s[9]&&(a=m(s[9]+s[10]),u=m(s[9]+s[11])),c.call(o,m(s[1]),m(s[2])-1,m(s[3])),a=m(s[4]||0)-a,u=m(s[5]||0)-u,c=m(s[6]||0),s=Math.round(1e3*parseFloat("0."+(s[7]||0))),l.call(o,a,u,c,s)),o):e)?new Date(e):e)||!isFinite(e.getTime()))return e;for(;t;)t=(i=ro.exec(t))?(h=P(h,i,1)).pop():(h.push(t),null);var p=e.getTimezoneOffset();return n&&(p=D(n,p),e=_(e,n,!0)),mt(h,function(t){r=no[t],f+=r?r(e,$.DATETIME_FORMATS,p):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),f}}function Vn(){return function(t,e){return i(t,e=vt(e)?2:e)}}function Nn(){return function(t,e,n){return e=(1/0===Math.abs(Number(e))?Number:m)(e),!V(e)&&N(t=g(t)?t.toString():t)?(n=(n=!n||isNaN(n)?0:m(n))<0?Math.max(0,t.length+n):n,0<=e?jn(t,n,n+e):0===n?jn(t,e,t.length):jn(t,Math.max(0,n+e),n)):t}}function jn(t,e,n){return bt(t)?t.slice(e,n):lr.call(t,e,n)}function In(i){function u(t){switch(typeof t){case"number":case"boolean":case"string":return 1;default:return}}function c(t,e){var n,r=0,i=t.type,o=e.type;return i===o?(o=t.value,n=e.value,"string"===i?(o=o.toLowerCase(),n=n.toLowerCase()):"object"===i&&(yt(o)&&(o=t.index),yt(n))&&(n=e.index),o!==n&&(r=o<n?-1:1)):r="undefined"!==i&&("undefined"===o||"null"!==i&&("null"===o||i<o))?-1:1,r}return function(t,e,n,r){if(null==t)return t;var o,s,a;if(N(t))return o=(e=0===(e=wt(e)?e:[e]).length?["+"]:e).map(function(t){var e,n=1,r=Nt;return xt(t)?r=t:bt(t)&&("+"!==t.charAt(0)&&"-"!==t.charAt(0)||(n="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t)&&(r=i(t)).constant&&(e=r(),r=function(t){return t[e]}),{get:r,descending:n}}),s=n?-1:1,a=xt(r)?r:c,(t=Array.prototype.map.call(t,function(n,r){return{value:n,tieBreaker:{value:r,type:"number",index:r},predicateValues:o.map(function(t){var e=t.get(n);return t=typeof e,null===e?t="null":"object"!==t||xt(e.valueOf)&&u(e=e.valueOf())||l(e)&&u(e=e.toString()),{value:e,type:t,index:r}})}})).sort(function(t,e){for(var n=0,r=o.length;n<r;n++){var i=a(t.predicateValues[n],e.predicateValues[n]);if(i)return i*o[n].descending*s}return(a(t.tieBreaker,e.tieBreaker)||c(t.tieBreaker,e.tieBreaker))*s}),t.map(function(t){return t.value});throw M("orderBy")("notarray",t)}}function Pn(t){return(t=xt(t)?{link:t}:t).restrict=t.restrict||"AC",k(t)}function Rn(t,e,n,r,i){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=i(e.name||e.ngForm||"")(n),this.$dirty=!1,this.$valid=this.$pristine=!0,this.$submitted=this.$invalid=!1,this.$$parentForm=co,this.$$element=t,this.$$animate=r,Un(this)}function Un(t){t.$$classCache={},t.$$classCache[Fo]=!(t.$$classCache[_o]=t.$$element.hasClass(_o))}function Dn(t){function r(t,e,n){n&&!t.$$classCache[e]?(t.$$animate.addClass(t.$$element,e),t.$$classCache[e]=!0):!n&&t.$$classCache[e]&&(t.$$animate.removeClass(t.$$element,e),t.$$classCache[e]=!1)}function i(t,e,n){e=e?"-"+Lt(e,"-"):"",r(t,_o+e,!0===n),r(t,Fo+e,!1===n)}var o=t.set,s=t.unset;t.clazz.prototype.$setValidity=function(t,e,n){vt(e)?(this.$pending||(this.$pending={}),o(this.$pending,t,n)):(this.$pending&&s(this.$pending,t,n),Ln(this.$pending)&&(this.$pending=void 0)),(S(e)?e?(s(this.$error,t,n),o):(o(this.$error,t,n),s):(s(this.$error,t,n),s))(this.$$success,t,n),this.$pending?(r(this,"ng-pending",!0),this.$valid=this.$invalid=void 0,i(this,"",null)):(r(this,"ng-pending",!1),this.$valid=Ln(this.$error),this.$invalid=!this.$valid,i(this,"",this.$valid)),i(this,t,e=this.$pending&&this.$pending[t]?void 0:!this.$error[t]&&(!!this.$$success[t]||null)),this.$$parentForm.$setValidity(t,e,this)}}function Ln(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function _n(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function Fn(t,n,r,i,e,o){var s,a=Ot(n[0].type);e.android||(s=!1,n.on("compositionstart",function(){s=!0}),n.on("compositionupdate",function(t){!vt(t.data)&&""!==t.data||(s=!1)}),n.on("compositionend",function(){s=!1,l()}));var u,c,l=function(t){var e;u&&(o.defer.cancel(u),u=null),!s&&(e=n.val(),t=t&&t.type,"password"===a||r.ngTrim&&"false"===r.ngTrim||(e=Mt(e)),i.$viewValue!==e||""===e&&i.$$hasNativeValidators)&&i.$setViewValue(e,t)};e.hasEvent("input")?n.on("input",l):(c=function(t,e,n){u=u||o.defer(function(){u=null,e&&e.value===n||l(t)})},n.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||c(t,this,this.value)}),e.hasEvent("paste")&&n.on("paste cut drop",c)),n.on("change",l),wo[a]&&i.$$hasNativeValidators&&a===r.type&&n.on("keydown wheel mousedown",function(t){var e,n,r;u||(e=this.validity,n=e.badInput,r=e.typeMismatch,u=o.defer(function(){u=null,e.badInput===n&&e.typeMismatch===r||l(t)}))}),i.$render=function(){var t=i.$isEmpty(i.$viewValue)?"":i.$viewValue;n.val()!==t&&n.val(t)}}function qn(r,i){return function(t,e){var n;if(x(t))return t;if(bt(t)){if('"'===t.charAt(0)&&'"'===t.charAt(t.length-1)&&(t=t.substring(1,t.length-1)),ho.test(t))return new Date(t);if(r.lastIndex=0,t=r.exec(t))return t.shift(),n=e?{yyyy:e.getFullYear(),MM:e.getMonth()+1,dd:e.getDate(),HH:e.getHours(),mm:e.getMinutes(),ss:e.getSeconds(),sss:e.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},mt(t,function(t,e){e<i.length&&(n[i[e]]=+t)}),t=new Date(n.yyyy,n.MM-1,n.dd,n.HH,n.mm,n.ss||0,1e3*n.sss||0),n.yyyy<100&&t.setFullYear(n.yyyy),t}return NaN}}function Hn(v,y,b,w){return function(t,e,n,r,i,o,s,a){function u(t){return t&&(!t.getTime||t.getTime()===t.getTime())}function c(t){return A(t)&&!x(t)?l(t)||void 0:t}function l(t,e){var n=r.$options.getOption("timezone"),t=(h&&h!==n&&(e=L(e,D(h))),b(t,e));return t=!isNaN(t)&&n?_(t,n):t}Bn(0,e,0,r,v),Fn(0,e,n,r,i,o);var f,h,p,$,d,m,g="time"===v||"datetimelocal"===v;r.$parsers.push(function(t){return r.$isEmpty(t)?null:y.test(t)?l(t,f):void(r.$$parserName=v)}),r.$formatters.push(function(t){if(t&&!x(t))throw Bo("datefmt",t);var e,n;return u(t)?(f=t,(e=r.$options.getOption("timezone"))&&(f=_(f,h=e,!0)),n=w,g&&bt(r.$options.getOption("timeSecondsFormat"))&&(n=w.replace("ss.sss",r.$options.getOption("timeSecondsFormat")).replace(/:$/,"")),t=s("date")(t,n,e),g&&r.$options.getOption("timeStripZeroSeconds")?t.replace(/(?::00)?(?:\.000)?$/,""):t):(h=f=null,"")}),(A(n.min)||n.ngMin)&&(p=n.min||a(n.ngMin)(t),$=c(p),r.$validators.min=function(t){return!u(t)||vt($)||b(t)>=$},n.$observe("min",function(t){t!==p&&($=c(t),p=t,r.$validate())})),(A(n.max)||n.ngMax)&&(d=n.max||a(n.ngMax)(t),m=c(d),r.$validators.max=function(t){return!u(t)||vt(m)||b(t)<=m},n.$observe("max",function(t){t!==d&&(m=c(t),d=t,r.$validate())}))}}function Bn(t,n,e,r,i){(r.$$hasNativeValidators=yt(n[0].validity))&&r.$parsers.push(function(t){var e=n.prop("validity")||{};if(!e.badInput&&!e.typeMismatch)return t;r.$$parserName=i})}function zn(e){e.$parsers.push(function(t){return e.$isEmpty(t)?null:mo.test(t)?parseFloat(t):void(e.$$parserName="number")}),e.$formatters.push(function(t){if(!e.$isEmpty(t)){if(!g(t))throw Bo("numfmt",t);t=t.toString()}return t})}function $(t){return A(t)&&!g(t)&&(t=parseFloat(t)),V(t)?void 0:t}function Wn(t){var e=t.toString(),n=e.indexOf(".");return-1===n?-1<t&&t<1&&(t=/e-(\d+)$/.exec(e))?Number(t[1]):0:e.length-n-1}function Gn(t,e,n){var r,i,o,s=(0|(t=Number(t)))!==t,a=(0|e)!==e,u=(0|n)!==n;return(s||a||u)&&(o=s?Wn(t):0,r=a?Wn(e):0,i=u?Wn(n):0,o=Math.max(o,r,i),t*=o=Math.pow(10,o),e*=o,n*=o,s&&(t=Math.round(t)),a&&(e=Math.round(e)),u)&&(n=Math.round(n)),0==(t-e)%n}function Kn(t,e,n,r,i){if(A(r)){if((t=t(r)).constant)return t(e);throw Bo("constexpr",n,r)}return i}function Jn(u,c){function l(t,e){if(!t||!t.length)return[];if(!e||!e.length)return t;var n=[],r=0;t:for(;r<t.length;r++){for(var i=t[r],o=0;o<e.length;o++)if(i===e[o])continue t;n.push(i)}return n}function f(e){var t;return e&&(wt(t=e)?t=e.map(f).join(" "):yt(e)?t=Object.keys(e).filter(function(t){return e[t]}).join(" "):bt(e)||(t=e+""),t)}var h;return u="ngClass"+u,["$parse",function(n){return{restrict:"AC",link:function(t,e,i){function o(t,e){var n=[];return mt(t,function(t){(0<e||r[t])&&(r[t]=(r[t]||0)+e,r[t]===+(0<e))&&n.push(t)}),n.join(" ")}var s,r=e.data("$classCounts"),a=!0;r||(r=Et(),e.data("$classCounts",r)),"ngClass"!==u&&(h=h||n("$index",function(t){return 1&t}),t.$watch(h,function(t){var e;t===c?(e=o((e=s)&&e.split(" "),1),i.$addClass(e)):(e=o((e=s)&&e.split(" "),-1),i.$removeClass(e)),a=t})),t.$watch(n(i[u],f),function(t){var e,n,r;a===c&&(n=l(r=s&&s.split(" "),e=t&&t.split(" ")),r=l(e,r),n=o(n,-1),r=o(r,1),i.$addClass(r),i.$removeClass(n)),s=t})}}}]}function Zn(n,i,o,s,a,u){return{restrict:"A",compile:function(t,e){var r=n(e[s]);return function(n,t){t.on(a,function(t){function e(){r(n,{$event:t})}if(i.$$phase)if(u)n.$evalAsync(e);else try{e()}catch(t){o(t)}else n.$apply(e)})}}}}function Yn(t,e,n,r,i,o,s,a,u){var c;this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=u(n.name||"",!1)(t),this.$$parentForm=co,this.$options=ui,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=i(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$parserName="parse",this.$$currentValidationRunId=0,this.$$scope=t,this.$$rootScope=t.$root,this.$$attr=n,this.$$element=r,this.$$animate=o,this.$$timeout=s,this.$$parse=i,this.$$q=a,this.$$exceptionHandler=e,Un(this),(c=this).$$scope.$watch(function(t){return(t=c.$$ngModelGet(t))===c.$modelValue||c.$modelValue!=c.$modelValue&&t!=t||c.$$setModelValue(t),t})}function Xn(t){this.$$options=t}function Qn(n,t){mt(t,function(t,e){A(n[e])||(n[e]=t)})}function tr(t,e){t.prop("selected",e),t.attr("selected",e)}function er(t,e,n){if(t){if((t=bt(t)?new RegExp("^"+t+"$"):t).test)return t;throw M("ngPattern")("noregexp",e,t,Dt(n))}}function nr(t){return t=m(t),V(t)?-1:t}var At,rr,ir,or,sr={objectMaxDepth:5,urlErrorParamsEnabled:!0},ar=/^\/(.+)\/([a-z]*)$/,ur=Object.prototype.hasOwnProperty,Ot=function(t){return bt(t)?t.toLowerCase():t},cr=function(t){return bt(t)?t.toUpperCase():t},lr=[].slice,fr=[].splice,hr=[].push,v=Object.prototype.toString,pr=Object.getPrototypeOf,$r=M("ng"),b=dt.angular||(dt.angular={}),dr=0,mr=dt.document.documentMode,V=Number.isNaN||function(t){return t!=t},gr=(E.$inject=[],Nt.$inject=[],/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/),Mt=function(t){return bt(t)?t.trim():t},vr=function(t){return t.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},yr=function(){if(!A(yr.rules)){var t=dt.document.querySelector("[ng-csp]")||dt.document.querySelector("[data-ng-csp]");if(t){var e=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");yr.rules={noUnsafeEval:!e||-1!==e.indexOf("no-unsafe-eval"),noInlineStyle:!e||-1!==e.indexOf("no-inline-style")}}else{t=yr;try{new Function(""),e=!1}catch(t){e=!0}t.rules={noUnsafeEval:e,noInlineStyle:!1}}}return yr.rules},br=function(){if(A(br.name_))return br.name_;for(var t,e,n,r=xr.length,i=0;i<r;++i)if(e=xr[i],t=dt.document.querySelector("["+e.replace(":","\\:")+"jq]")){n=t.getAttribute(e+"jq");break}return br.name_=n},wr=/:/g,xr=["ng-","data-ng-","ng:","x-ng-"],Cr=!(Er=(ir=dt.document).currentScript)||(Er instanceof dt.HTMLScriptElement||Er instanceof dt.SVGScriptElement)&&[(Er=Er.attributes).getNamedItem("src"),Er.getNamedItem("href"),Er.getNamedItem("xlink:href")].every(function(t){if(!t)return!0;if(!t.value)return!1;var e=ir.createElement("a");if(e.href=t.value,ir.location.origin===e.origin)return!0;switch(e.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}),Sr=/[A-Z]/g,Er=!1,kr=3,Ar={full:"1.8.2",major:1,minor:8,dot:2,codeName:"meteoric-mining"},Or=(u.expando="ng339",u.cache={}),Mr=1,Tr=(u._data=function(t){return this.cache[t[this.expando]]||{}},/-([a-z])/g),Vr=/^-ms-/,Nr={mouseleave:"mouseout",mouseenter:"mouseover"},jr=M("jqLite"),Ir=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Pr=/<|&#?\w+;/,Rr=/<([\w:-]+)/,Ur=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Dr={thead:["table"],col:["colgroup","table"],tr:["tbody","table"],td:["tr","tbody","table"]},Lr=(Dr.tbody=Dr.tfoot=Dr.colgroup=Dr.caption=Dr.thead,Dr.th=Dr.td,{option:[1,'<select multiple="multiple">',"</select>"],_default:[0,"",""]});for(or in Dr){var _r=Dr[or],Fr=_r.slice().reverse();Lr[or]=[Fr.length,"<"+Fr.join("><")+">","</"+_r.join("></")+">"]}Lr.optgroup=Lr.option;var qr=dt.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))},Hr=u.prototype={ready:zt,toString:function(){var e=[];return mt(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(t){return At(0<=t?this[t]:this[this.length+t])},length:0,push:hr,sort:[].sort,splice:[].splice},Br={},zr=(mt("multiple selected checked disabled readOnly required open".split(" "),function(t){Br[Ot(t)]=t}),{}),Wr=(mt("input select option textarea button form details".split(" "),function(t){zr[t]=!0}),{ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"});function Gr(t,e){var n;if(vt(e))return 1===(n=t.nodeType)||n===kr?t.textContent:"";t.textContent=e}mt({data:ct,removeData:at,hasData:function(t){for(var e in Or[t.ng339])return!0;return!1},cleanData:function(t){for(var e=0,n=t.length;e<n;e++)at(t[e]),st(t[e])}},function(t,e){u[e]=t}),mt({data:ct,inheritedData:qt,scope:function(t){return At.data(t,"$scope")||qt(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return At.data(t,"$isolateScope")||At.data(t,"$isolateScopeNoTemplate")},controller:$t,injector:function(t){return qt(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:lt,css:function(t,e,n){if(e=tt(e.replace(Vr,"ms-")),!A(n))return t.style[e];t.style[e]=n},attr:function(t,e,n){if((r=t.nodeType)!==kr&&2!==r&&8!==r&&t.getAttribute){var r=Ot(e),i=Br[r];if(!A(n))return t=t.getAttribute(e),null===(t=i&&null!==t?r:t)?void 0:t;null===n||!1===n&&i?t.removeAttribute(e):t.setAttribute(e,i?r:n)}},prop:function(t,e,n){if(!A(n))return t[e];t[e]=n},text:(Gr.$dv="",Gr),val:function(t,e){var n;if(vt(e))return t.multiple&&"select"===Ct(t)?(n=[],mt(t.options,function(t){t.selected&&n.push(t.value||t.text)}),n):t.value;t.value=e},html:function(t,e){if(vt(e))return t.innerHTML;rt(t,!0),t.innerHTML=e},empty:Ht},function(s,t){u.prototype[t]=function(t,e){var n,r=this.length;if(s!==Ht&&vt(2===s.length&&s!==lt&&s!==$t?t:e)){if(yt(t)){for(o=0;o<r;o++)if(s===ct)s(this[o],t);else for(n in t)s(this[o],n,t[n]);return this}for(r=vt(o=s.$dv)?Math.min(r,1):r,n=0;n<r;n++)var i=s(this[n],t,e),o=o?o+i:i;return o}for(o=0;o<r;o++)s(this[o],t,e);return this}}),mt({removeData:at,on:function(i,t,o,e){if(A(e))throw jr("onargs");if(et(i))for(var s=(e=ut(i,!0)).events,a=(a=e.handle)||(e.handle=Gt(i,s)),n=(e=0<=t.indexOf(" ")?t.split(" "):[t]).length,r=function(t,e,n){var r=s[t];r||((r=s[t]=[]).specialHandlerWrapper=e,"$destroy"===t)||n||i.addEventListener(t,a),r.push(o)};n--;)t=e[n],Nr[t]?(r(Nr[t],Jt),r(t,void 0,!0)):r(t)},off:st,one:function(e,n,r){(e=At(e)).on(n,function t(){e.off(n,r),e.off(n,t)}),e.on(n,r)},replaceWith:function(e,t){var n,r=e.parentNode;rt(e),mt(new u(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(t){var e=[];return mt(t.childNodes,function(t){1===t.nodeType&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){if(1===(n=t.nodeType)||11===n)for(var n=0,r=(e=new u(e)).length;n<r;n++)t.appendChild(e[n])},prepend:function(e,t){var n;1===e.nodeType&&(n=e.firstChild,mt(new u(t),function(t){e.insertBefore(t,n)}))},wrap:function(t,e){var e=At(e).eq(0).clone()[0],n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)},remove:Bt,detach:function(t){Bt(t,!0)},after:function(t,e){var n=t,r=t.parentNode;if(r)for(var i=0,o=(e=new u(e)).length;i<o;i++){var s=e[i];r.insertBefore(s,n.nextSibling),n=s}},addClass:ht,removeClass:ft,toggleClass:function(n,t,r){t&&mt(t.split(" "),function(t){var e=r;((e=vt(r)?!lt(n,t):e)?ht:ft)(n,t)})},parent:function(t){return(t=t.parentNode)&&11!==t.nodeType?t:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:Ft,triggerHandler:function(e,t,n){var r,i,o=t.type||t,s=ut(e);(s=(s=s&&s.events)&&s[o])&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:E,type:o,target:e},t.type&&(r=gt(r,t)),t=O(s),i=n?[r].concat(n):[r],mt(t,function(t){r.isImmediatePropagationStopped()||t.apply(e,i)}))}},function(s,t){u.prototype[t]=function(t,e,n){for(var r,i=0,o=this.length;i<o;i++)vt(r)?A(r=s(this[i],t,e,n))&&(r=At(r)):pt(r,s(this[i],t,e,n));return A(r)?r:this}}),u.prototype.bind=u.prototype.on,u.prototype.unbind=u.prototype.off;function Kr(){this.$get=E}function Jr(){var u=new pi,c=[];this.$get=["$$AnimateRunner","$rootScope",function(i,o){function s(e,t,n){var r=!1;return t&&mt(t=bt(t)?t.split(" "):wt(t)?t:[],function(t){t&&(r=!0,e[t]=n)}),r}function a(){mt(c,function(t){var n,r,i,e,o,s=u.get(t);s&&(bt(e=t.attr("class"))&&(e=e.split(" ")),o=Et(),mt(e,function(t){t.length&&(o[t]=!0)}),n=o,i=r="",mt(s,function(t,e){t!==!!n[e]&&(t?r+=(r.length?" ":"")+e:i+=(i.length?" ":"")+e)}),mt(t,function(t){r&&ht(t,r),i&&ft(t,i)}),u.delete(t))}),c.length=0}return{enabled:E,on:E,off:E,pin:E,push:function(t,e,n,r){return r&&r(),(n=n||{}).from&&t.css(n.from),n.to&&t.css(n.to),(n.addClass||n.removeClass)&&(e=n.addClass,r=n.removeClass,e=s(n=u.get(t)||{},e,!0),r=s(n,r,!1),e||r)&&(u.set(t,n),c.push(t),1===c.length)&&o.$$postDigest(a),(t=new i).complete(),t}}}]}function Zr(){this.$get=["$$rAF",function(e){function n(t){r.push(t),1<r.length||e(function(){for(var t=0;t<r.length;t++)r[t]();r=[]})}var r=[];return function(){var e=!1;return n(function(){e=!0}),function(t){e?t():n(t)}}}]}function Yr(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(e,t,n,r,i){function o(t){this.setHost(t);var e=n();this._doneCallbacks=[],this._tick=function(t){r()?i(t,0,!1):e(t)},this._state=0}return o.chain=function(t,n){var r=0;!function e(){r===t.length?n(!0):t[r](function(t){!1===t?n(!1):(r++,e())})}()},o.all=function(e,n){function r(t){o=o&&t,++i===e.length&&n(o)}var i=0,o=!0;mt(e,function(t){t.done(r)})},o.prototype={setHost:function(t){this.host=t||{}},done:function(t){2===this._state?t():this._doneCallbacks.push(t)},progress:E,getPromise:function(){var t;return this.promise||((t=this).promise=e(function(e,n){t.done(function(t){(!1===t?n:e)()})})),this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise().catch(t)},finally:function(t){return this.getPromise().finally(t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;0===e._state&&(e._state=1,e._tick(function(){e._resolve(t)}))},_resolve:function(e){2!==this._state&&(mt(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=2)}},o}]}function Xr(){this.$get=["$$rAF","$q","$$AnimateRunner",function(s,t,a){return function(t,e){function n(){return s(function(){r.addClass&&(t.addClass(r.addClass),r.addClass=null),r.removeClass&&(t.removeClass(r.removeClass),r.removeClass=null),r.to&&(t.css(r.to),r.to=null),i||o.complete(),i=!0}),o}var r=e||{};(r=r.$$prepared?r:I(r)).cleanupStyles&&(r.from=r.to=null),r.from&&(t.css(r.from),r.from=null);var i,o=new a;return{start:n,end:n}}}]}function Qr(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof At&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]}function ti(){this.$get=function(){function r(t){function e(t){e.data=t,e.called=!0}return e.id=t,e}var i=b.callbacks,o={};return{createCallback:function(t){var e="angular.callbacks."+(t="_"+(i.$$counter++).toString(36)),n=r(t);return o[e]=i[t]=n,e},wasCalled:function(t){return o[t].called},getResponse:function(t){return o[t].data},removeCallback:function(t){delete i[o[t].id],delete o[t]}}}}function ei(n){return["$timeout","$parse",function(u,e){function c(t){return""===t?e('this[""]').assign:e(t).assign||E}return{name:"form",restrict:n?"EAC":"E",require:["form","^^?form"],controller:Rn,compile:function(t,e){t.addClass(qo).addClass(_o);var a=e.name?"name":!(!n||!e.ngForm)&&"ngForm";return{pre:function(e,t,n,r){var i,o=r[0],s=("action"in n||(t[0].addEventListener("submit",i=function(t){e.$apply(function(){o.$commitViewValue(),o.$setSubmitted()}),t.preventDefault()}),t.on("$destroy",function(){u(function(){t[0].removeEventListener("submit",i)},0,!1)})),(r[1]||o.$$parentForm).$addControl(o),a?c(o.$name):E);a&&(s(e,o),n.$observe(a,function(t){o.$name!==t&&(s(e,void 0),o.$$parentForm.$$renameControl(o,t),(s=c(o.$name))(e,o))})),t.on("$destroy",function(){o.$$parentForm.$removeControl(o),s(e,void 0),gt(o,co)})}}}}}]}function ni(){var i={configurable:!0,enumerable:!1,get:function(){return this.getAttribute("value")||""},set:function(t){this.setAttribute("value",t)}};return{restrict:"E",priority:200,compile:function(t,e){if("hidden"===Ot(e.type))return{pre:function(t,e,n,r){(t=e[0]).parentNode&&t.parentNode.insertBefore(t,t.nextSibling),Object.defineProperty&&Object.defineProperty(t,"value",i)}}}}}function ri(){function r(t,e,n){var r=A(n)?n:9===mr?"":null;t.prop("value",r),e.$set("value",n)}return{restrict:"A",priority:100,compile:function(t,e){return So.test(e.ngValue)?function(t,e,n){r(e,n,t=t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){r(e,n,t)})}}}}function ii(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,r){var i=n.ngList||", ",o="false"!==n.ngTrim,s=o?Mt(i):i;r.$parsers.push(function(t){var e;if(!vt(t))return e=[],t&&mt(t.split(s),function(t){t&&e.push(o?Mt(t):t)}),e}),r.$formatters.push(function(t){if(wt(t))return t.join(i)}),r.$isEmpty=function(t){return!t||!t.length}}}}function oi(){function t(t,e){this.$$attrs=t,this.$$scope=e}return t.$inject=["$attrs","$scope"],t.prototype={$onInit:function(){var t=this.parentCtrl?this.parentCtrl.$options:ui,e=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=t.createChild(e)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:t}}function si(){return{restrict:"E",require:["select","?ngModel"],controller:fs,priority:1,link:{pre:function(t,r,e,n){var i,o,s=n[0],a=n[1];a?(s.ngModelCtrl=a,r.on("change",function(){s.removeUnknownOption(),t.$apply(function(){a.$setViewValue(s.readValue())})}),e.multiple&&(s.multiple=!0,s.readValue=function(){var e=[];return mt(r.find("option"),function(t){t.selected&&!t.disabled&&e.push((t=t.value)in s.selectValueMap?s.selectValueMap[t]:t)}),e},s.writeValue=function(n){mt(r.find("option"),function(t){var e=!!n&&(-1!==Array.prototype.indexOf.call(n,t.value)||-1!==Array.prototype.indexOf.call(n,s.selectValueMap[t.value]));e!==t.selected&&tr(At(t),e)})},o=NaN,t.$watch(function(){o!==a.$viewValue||St(i,a.$viewValue)||(i=O(a.$viewValue),a.$render()),o=a.$viewValue}),a.$isEmpty=function(t){return!t||0===t.length})):s.registerOption=E},post:function(t,e,n,r){var i,o=r[1];o&&(i=r[0],o.$render=function(){i.writeValue(o.$viewValue)})}}}}var ai,ui,ci,li,fi,hi=Object.create(null),pi=(Xt.prototype={_idx:function(t){return t!==this._lastKey&&(this._lastKey=t,this._lastIndex=this._keys.indexOf(t)),this._lastIndex},_transformKey:function(t){return V(t)?hi:t},get:function(t){if(t=this._transformKey(t),-1!==(t=this._idx(t)))return this._values[t]},has:function(t){return t=this._transformKey(t),-1!==this._idx(t)},set:function(t,e){t=this._transformKey(t);var n=this._idx(t);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=t,this._values[n]=e},delete:function(t){return t=this._transformKey(t),-1!==(t=this._idx(t))&&(this._keys.splice(t,1),this._values.splice(t,1),this._lastKey=NaN,this._lastIndex=-1,!0)}},Xt),$i=[function(){this.$get=[function(){return pi}]}],di=/^([^(]+?)=>/,mi=/^[^(]*\(\s*([^)]*)\)/m,gi=/,/,vi=/^\s*(_?)(\S+?)\1\s*$/,yi=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,bi=M("$injector"),wi=(te.$$annotate=function(t,e,n){var r,i;if("function"==typeof t){if(!(r=t.$inject)){if(r=[],t.length){if(e)throw bt(n)&&n||(n=t.name||((i=Qt(i=t))?"function("+(i[1]||"").replace(/[\s\r\n]+/," ")+")":"fn")),bi("strictdi",n);mt((e=Qt(t))[1].split(gi),function(t){t.replace(vi,function(t,e,n){r.push(n)})})}t.$inject=r}}else wt(t)?(e=t.length-1,J(t[e],"fn"),r=t.slice(0,e)):J(t,"fn",!0);return r},M("$animate")),xi=["$provide",function(r){var i=this,e=null,n=null;this.$$registeredAnimations=Object.create(null),this.register=function(t,e){if(t&&"."!==t.charAt(0))throw wi("notcsel",t);var n=t+"-animation";i.$$registeredAnimations[t.substr(1)]=n,r.factory(n,e)},this.customFilter=function(t){return n=1===arguments.length?xt(t)?t:null:n},this.classNameFilter=function(t){if(1===arguments.length&&(e=t instanceof RegExp?t:null)&&/[(\s|\/)]ng-animate[(\s|\/)]/.test(e.toString()))throw e=null,wi("nongcls","ng-animate");return e},this.$get=["$$animateQueue",function(o){function i(t,e,n){if(n){var r;t:{for(r=0;r<n.length;r++){var i=n[r];if(1===i.nodeType){r=i;break t}}r=void 0}!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:o.on,off:o.off,pin:o.pin,enabled:o.enabled,cancel:function(t){t.cancel&&t.cancel()},enter:function(t,e,n,r){return e=e&&At(e),n=n&&At(n),i(t,e=e||n.parent(),n),o.push(t,"enter",re(r))},move:function(t,e,n,r){return e=e&&At(e),n=n&&At(n),i(t,e=e||n.parent(),n),o.push(t,"move",re(r))},leave:function(t,e){return o.push(t,"leave",re(e),function(){t.remove()})},addClass:function(t,e,n){return(n=re(n)).addClass=ne(n.addclass,e),o.push(t,"addClass",n)},removeClass:function(t,e,n){return(n=re(n)).removeClass=ne(n.removeClass,e),o.push(t,"removeClass",n)},setClass:function(t,e,n,r){return(r=re(r)).addClass=ne(r.addClass,e),r.removeClass=ne(r.removeClass,n),o.push(t,"setClass",r)},animate:function(t,e,n,r,i){return(i=re(i)).from=i.from?gt(i.from,e):e,i.to=i.to?gt(i.to,n):n,i.tempClasses=ne(i.tempClasses,r||"ng-inline-animate"),o.push(t,"animate",i)}}}]}],Tt=M("$compile"),Ci=new function(){},Si=(ue.$inject=["$provide","$$sanitizeUriProvider"],ce.prototype.isFirstChange=function(){return this.previousValue===Ci},/^((?:x|data)[:\-_])/i),Ei=/[:\-_]+(.)/g,ki=M("$controller"),Ai=/^(\S+)(\s+as\s+([\w$]+))?$/,Oi="application/json",Mi={"Content-Type":Oi+";charset=utf-8"},Ti=/^\[|^\{(?!\{)/,Vi={"[":/]$/,"{":/}$/},Ni=/^\)]\}',?\n/,ji=M("$http"),Ii=b.$interpolateMinErr=M("$interpolate"),Pi=(Ii.throwNoconcat=function(t){throw Ii("noconcat",t)},Ii.interr=function(t,e){return Ii("interr",t,e.toString())},M("$interval")),Ri=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Ui={http:80,https:443,ftp:21},Di=M("$location"),Li=/^\s*[\\/]{2,}/,_i={$$absUrl:"",$$html5:!1,$$replace:!1,$$compose:function(){for(var n,t=this.$$path,e=this.$$hash,r=(r=this.$$search,n=[],mt(r,function(t,e){wt(t)?mt(t,function(t){n.push(o(e,!0)+(!0===t?"":"="+o(t,!0)))}):n.push(o(e,!0)+(!0===t?"":"="+o(t,!0)))}),n.length?n.join("&"):""),e=e?"#"+H(e):"",i=(t=t.split("/")).length;i--;)t[i]=H(t[i].replace(/%2F/g,"/"));this.$$url=t.join("/")+(r?"?"+r:"")+e,this.$$absUrl=this.$$normalizeUrl(this.$$url),this.$$urlUpdatedByLocation=!0},absUrl:Ue("$$absUrl"),url:function(t){var e;return vt(t)?this.$$url:(!(e=Ri.exec(t))[1]&&""!==t||this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this)},protocol:Ue("$$protocol"),host:Ue("$$host"),port:Ue("$$port"),path:De("$$path",function(t){return"/"===(t=null!==t?t.toString():"").charAt(0)?t:"/"+t}),search:function(n,t){switch(arguments.length){case 0:return this.$$search;case 1:if(bt(n)||g(n))n=n.toString(),this.$$search=q(n);else{if(!yt(n))throw Di("isrcharg");mt(n=I(n,{}),function(t,e){null==t&&delete n[e]}),this.$$search=n}break;default:vt(t)||null===t?delete this.$$search[n]:this.$$search[n]=t}return this.$$compose(),this},hash:De("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}},Fi=(mt([Re,Pe,Ie],function(e){e.prototype=Object.create(_i),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e===Ie&&this.$$html5)return this.$$state=vt(t)?null:t,this.$$urlUpdatedByLocation=!0,this;throw Di("nostate")}}),M("$parse")),qi={}.constructor.prototype.valueOf,Hi=Et(),Bi=(mt("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){Hi[t]=!0}),{n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'}),zi=function(t){this.options=t},h=(zi.prototype={constructor:zi,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e,n,r,i;'"'===(t=this.text.charAt(this.index))||"'"===t?this.readString(t):this.isNumber(t)||"."===t&&this.isNumber(this.peek())?this.readNumber():this.isIdentifierStart(this.peekMultichar())?this.readIdent():this.is(t,"(){}[].,;:?")?(this.tokens.push({index:this.index,text:t}),this.index++):this.isWhitespace(t)?this.index++:(n=(e=t+this.peek())+this.peek(2),r=Hi[e],i=Hi[n],Hi[t]||r||i?(this.tokens.push({index:this.index,text:t=i?n:r?e:t,operator:!0}),this.index+=t.length):this.throwError("Unexpected next character ",this.index,this.index+1))}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){return this.index+(t=t||1)<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||" "===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t,e,n=this.text.charAt(this.index),r=this.peek();return r&&(t=n.charCodeAt(0),e=r.charCodeAt(0),55296<=t)&&t<=56319&&56320<=e&&e<=57343?n+r:n},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){throw n=n||this.index,e=A(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n,Fi("lexerr",t,e,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=Ot(this.text.charAt(this.index));if("."===n||this.isNumber(n))t+=n;else{var r=this.peek();if("e"===n&&this.isExpOperator(r))t+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"===t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!==t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",r=t,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index),r=r+o;if(i)"u"===o?((i=this.text.substring(this.index+1,this.index+5)).match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+i+"]"),this.index+=4,n+=String.fromCharCode(parseInt(i,16))):n+=Bi[o]||o,i=!1;else if("\\"===o)i=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}},function(t,e){this.lexer=t,this.options=e}),Wi=(h.Program="Program",h.ExpressionStatement="ExpressionStatement",h.AssignmentExpression="AssignmentExpression",h.ConditionalExpression="ConditionalExpression",h.LogicalExpression="LogicalExpression",h.BinaryExpression="BinaryExpression",h.UnaryExpression="UnaryExpression",h.CallExpression="CallExpression",h.MemberExpression="MemberExpression",h.Identifier="Identifier",h.Literal="Literal",h.ArrayExpression="ArrayExpression",h.Property="Property",h.ObjectExpression="ObjectExpression",h.ThisExpression="ThisExpression",h.LocalsExpression="LocalsExpression",h.NGValueParameter="NGValueParameter",h.prototype={ast:function(t){return this.text=t,this.tokens=this.lexer.lex(t),t=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var t=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:h.Program,body:t}},expressionStatement:function(){return{type:h.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!ze(t))throw Fi("lval");t={type:h.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:h.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:h.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:h.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:h.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:h.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:h.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:h.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:h.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t,e;for(this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=I(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:h.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());e=this.expect("(","[",".");)"("===e.text?(t={type:h.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:h.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:h.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){t=[t];for(var e={type:h.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return e},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)for(;t.push(this.filterChain()),this.expect(","););return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:h.Identifier,name:t.text}},constant:function(){return{type:h.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)for(;!this.peek("]")&&(t.push(this.expression()),this.expect(",")););return this.consume("]"),{type:h.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)for(;!this.peek("}")&&(t={type:h.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t),this.expect(",")););return this.consume("}"),{type:h.ObjectExpression,properties:e}},throwError:function(t,e){throw Fi("syntax",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw Fi("ueoe",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw Fi("ueoe",this.text);return this.tokens[0]},peek:function(t,e,n,r){return this.peekAhead(0,t,e,n,r)},peekAhead:function(t,e,n,r,i){if(this.tokens.length>t){var o=(t=this.tokens[t]).text;if(o===e||o===n||o===r||o===i||!(e||n||r||i))return t}return!1},expect:function(t,e,n,r){return!!(t=this.peek(t,e,n,r))&&(this.tokens.shift(),t)},selfReferential:{this:{type:h.ThisExpression},$locals:{type:h.LocalsExpression}}},2),Gi=(Ge.prototype={compile:function(t){var e,i=this,n=(this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},a(t,i.$filter),"");return this.stage="assign",(e=We(t))&&(this.state.computing="assign",n=this.nextId(),this.recurse(e,n),this.return_(n),n="fn.assign="+this.generateFunction("assign","s,v,l")),e=Be(t.body),i.stage="inputs",mt(e,function(t,e){var n="fn"+e,r=(i.state[n]={vars:[],body:[],own:{}},i.state.computing=n,i.nextId());i.recurse(t,r),i.return_(r),i.state.inputs.push({name:n,isPure:t.isPure}),t.watchId=e}),this.state.computing="fn",this.stage="main",this.recurse(t),t='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+n+this.watchFns()+"return fn;",t=new Function("$filter","getStringValue","ifDefined","plus",t)(this.$filter,Fe,qe,He),this.state=this.stage=void 0,t},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return mt(t,function(t){e.push("var "+t.name+"="+n.generateFunction(t.name,"s")),t.isPure&&e.push(t.name,".isPure="+JSON.stringify(t.isPure)+";")}),t.length&&e.push("fn.inputs=["+t.map(function(t){return t.name}).join(",")+"];"),e.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var n=[],r=this;return mt(this.state.filters,function(t,e){n.push(t+"=$filter("+r.escape(e)+")")}),n.length?"var "+n.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(n,e,t,r,i,o){var s,a,u,c,l,f=this;if(r=r||E,!o&&A(n.watchId))e=e||this.nextId(),this.if_("i",this.lazyAssign(e,this.computedMember("i",n.watchId)),this.lazyRecurse(n,e,t,r,i,!0));else switch(n.type){case h.Program:mt(n.body,function(t,e){f.recurse(t.expression,void 0,void 0,function(t){a=t}),e!==n.body.length-1?f.current().body.push(a,";"):f.return_(a)});break;case h.Literal:c=this.escape(n.value),this.assign(e,c),r(e||c);break;case h.UnaryExpression:this.recurse(n.argument,void 0,void 0,function(t){a=t}),c=n.operator+"("+this.ifDefined(a,0)+")",this.assign(e,c),r(c);break;case h.BinaryExpression:this.recurse(n.left,void 0,void 0,function(t){s=t}),this.recurse(n.right,void 0,void 0,function(t){a=t}),c="+"===n.operator?this.plus(s,a):"-"===n.operator?this.ifDefined(s,0)+n.operator+this.ifDefined(a,0):"("+s+")"+n.operator+"("+a+")",this.assign(e,c),r(c);break;case h.LogicalExpression:e=e||this.nextId(),f.recurse(n.left,e),f.if_("&&"===n.operator?e:f.not(e),f.lazyRecurse(n.right,e)),r(e);break;case h.ConditionalExpression:e=e||this.nextId(),f.recurse(n.test,e),f.if_(e,f.lazyRecurse(n.alternate,e),f.lazyRecurse(n.consequent,e)),r(e);break;case h.Identifier:e=e||this.nextId(),t&&(t.context="inputs"===f.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",n.name)+"?l:s"),t.computed=!1,t.name=n.name),f.if_("inputs"===f.stage||f.not(f.getHasOwnProperty("l",n.name)),function(){f.if_("inputs"===f.stage||"s",function(){i&&1!==i&&f.if_(f.isNull(f.nonComputedMember("s",n.name)),f.lazyAssign(f.nonComputedMember("s",n.name),"{}")),f.assign(e,f.nonComputedMember("s",n.name))})},e&&f.lazyAssign(e,f.nonComputedMember("l",n.name))),r(e);break;case h.MemberExpression:s=t&&(t.context=this.nextId())||this.nextId(),e=e||this.nextId(),f.recurse(n.object,s,void 0,function(){f.if_(f.notNull(s),function(){n.computed?(a=f.nextId(),f.recurse(n.property,a),f.getStringValue(a),i&&1!==i&&f.if_(f.not(f.computedMember(s,a)),f.lazyAssign(f.computedMember(s,a),"{}")),c=f.computedMember(s,a),f.assign(e,c),t&&(t.computed=!0,t.name=a)):(i&&1!==i&&f.if_(f.isNull(f.nonComputedMember(s,n.property.name)),f.lazyAssign(f.nonComputedMember(s,n.property.name),"{}")),c=f.nonComputedMember(s,n.property.name),f.assign(e,c),t&&(t.computed=!1,t.name=n.property.name))},function(){f.assign(e,"undefined")}),r(e)},!!i);break;case h.CallExpression:e=e||this.nextId(),n.filter?(a=f.filter(n.callee.name),u=[],mt(n.arguments,function(t){var e=f.nextId();f.recurse(t,e),u.push(e)}),c=a+"("+u.join(",")+")",f.assign(e,c),r(e)):(a=f.nextId(),s={},u=[],f.recurse(n.callee,a,s,function(){f.if_(f.notNull(a),function(){mt(n.arguments,function(t){f.recurse(t,n.constant?void 0:f.nextId(),void 0,function(t){u.push(t)})}),c=s.name?f.member(s.context,s.name,s.computed)+"("+u.join(",")+")":a+"("+u.join(",")+")",f.assign(e,c)},function(){f.assign(e,"undefined")}),r(e)}));break;case h.AssignmentExpression:a=this.nextId(),s={},this.recurse(n.left,void 0,s,function(){f.if_(f.notNull(s.context),function(){f.recurse(n.right,a),c=f.member(s.context,s.name,s.computed)+n.operator+a,f.assign(e,c),r(e||c)})},1);break;case h.ArrayExpression:u=[],mt(n.elements,function(t){f.recurse(t,n.constant?void 0:f.nextId(),void 0,function(t){u.push(t)})}),c="["+u.join(",")+"]",this.assign(e,c),r(e||c);break;case h.ObjectExpression:l=!(u=[]),mt(n.properties,function(t){t.computed&&(l=!0)}),l?(e=e||this.nextId(),this.assign(e,"{}"),mt(n.properties,function(t){t.computed?(s=f.nextId(),f.recurse(t.key,s)):s=t.key.type===h.Identifier?t.key.name:""+t.key.value,a=f.nextId(),f.recurse(t.value,a),f.assign(f.member(e,s,t.computed),a)})):(mt(n.properties,function(e){f.recurse(e.value,n.constant?void 0:f.nextId(),void 0,function(t){u.push(f.escape(e.key.type===h.Identifier?e.key.name:""+e.key.value)+":"+t)})}),c="{"+u.join(",")+"}",this.assign(e,c)),r(e||c);break;case h.ThisExpression:this.assign(e,"s"),r(e||"s");break;case h.LocalsExpression:this.assign(e,"l"),r(e||"l");break;case h.NGValueParameter:this.assign(e,"v"),r(e||"v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),r[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){var r;!0===t?e():((r=this.current().body).push("if(",t,"){"),e(),r.push("}"),n&&(r.push("else{"),n(),r.push("}")))},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(e)?t+"."+e:t+'["'+e.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,n,r,i,o){var s=this;return function(){s.recurse(t,e,n,r,i,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(bt(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(g(t))return t.toString();if(!0===t)return"true";if(!1===t)return"false";if(null===t)return"null";if(void 0===t)return"undefined";throw Fi("esc")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},Ke.prototype={compile:function(t){var e,r,i,o=this,s=(a(t,o.$filter),(e=We(t))&&(r=this.recurse(e)),(e=Be(t.body))&&(i=[],mt(e,function(t,e){var n=o.recurse(t);n.isPure=t.isPure,i.push(t.input=n),t.watchId=e})),[]);return mt(t.body,function(t){s.push(o.recurse(t.expression))}),t=0===t.body.length?E:1===t.body.length?s[0]:function(e,n){var r;return mt(s,function(t){r=t(e,n)}),r},r&&(t.assign=function(t,e,n){return r(t,n,e)}),i&&(t.inputs=i),t},recurse:function(t,a,e){var o,u,c,n=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case h.Literal:return this.value(t.value,a);case h.UnaryExpression:return u=this.recurse(t.argument),this["unary"+t.operator](u,a);case h.BinaryExpression:case h.LogicalExpression:return o=this.recurse(t.left),u=this.recurse(t.right),this["binary"+t.operator](o,u,a);case h.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),a);case h.Identifier:return n.identifier(t.name,a,e);case h.MemberExpression:return o=this.recurse(t.object,!1,!!e),t.computed||(u=t.property.name),t.computed&&(u=this.recurse(t.property)),t.computed?this.computedMember(o,u,a,e):this.nonComputedMember(o,u,a,e);case h.CallExpression:return c=[],mt(t.arguments,function(t){c.push(n.recurse(t))}),t.filter&&(u=this.$filter(t.callee.name)),t.filter||(u=this.recurse(t.callee,!0)),t.filter?function(t,e,n,r){for(var i=[],o=0;o<c.length;++o)i.push(c[o](t,e,n,r));return t=u.apply(void 0,i,r),a?{context:void 0,name:void 0,value:t}:t}:function(t,e,n,r){var i=u(t,e,n,r);if(null!=i.value){for(var o=[],s=0;s<c.length;++s)o.push(c[s](t,e,n,r));o=i.value.apply(i.context,o)}return a?{value:o}:o};case h.AssignmentExpression:return o=this.recurse(t.left,!0,1),u=this.recurse(t.right),function(t,e,n,r){var i=o(t,e,n,r);return t=u(t,e,n,r),i.context[i.name]=t,a?{value:t}:t};case h.ArrayExpression:return c=[],mt(t.elements,function(t){c.push(n.recurse(t))}),function(t,e,n,r){for(var i=[],o=0;o<c.length;++o)i.push(c[o](t,e,n,r));return a?{value:i}:i};case h.ObjectExpression:return c=[],mt(t.properties,function(t){t.computed?c.push({key:n.recurse(t.key),computed:!0,value:n.recurse(t.value)}):c.push({key:t.key.type===h.Identifier?t.key.name:""+t.key.value,computed:!1,value:n.recurse(t.value)})}),function(t,e,n,r){for(var i={},o=0;o<c.length;++o)c[o].computed?i[c[o].key(t,e,n,r)]=c[o].value(t,e,n,r):i[c[o].key]=c[o].value(t,e,n,r);return a?{value:i}:i};case h.ThisExpression:return function(t){return a?{value:t}:t};case h.LocalsExpression:return function(t,e){return a?{value:e}:e};case h.NGValueParameter:return function(t,e,n){return a?{value:n}:n}}},"unary+":function(i,o){return function(t,e,n,r){return t=A(t=i(t,e,n,r))?+t:0,o?{value:t}:t}},"unary-":function(i,o){return function(t,e,n,r){return t=A(t=i(t,e,n,r))?-t:-0,o?{value:t}:t}},"unary!":function(i,o){return function(t,e,n,r){return t=!i(t,e,n,r),o?{value:t}:t}},"binary+":function(i,o,s){return function(t,e,n,r){e=He(i(t,e,n,r),t=o(t,e,n,r));return s?{value:e}:e}},"binary-":function(o,s,a){return function(t,e,n,r){var i=o(t,e,n,r);return t=s(t,e,n,r),i=(A(i)?i:0)-(A(t)?t:0),a?{value:i}:i}},"binary*":function(i,o,s){return function(t,e,n,r){return t=i(t,e,n,r)*o(t,e,n,r),s?{value:t}:t}},"binary/":function(i,o,s){return function(t,e,n,r){return t=i(t,e,n,r)/o(t,e,n,r),s?{value:t}:t}},"binary%":function(i,o,s){return function(t,e,n,r){return t=i(t,e,n,r)%o(t,e,n,r),s?{value:t}:t}},"binary===":function(i,o,s){return function(t,e,n,r){return t=i(t,e,n,r)===o(t,e,n,r),s?{value:t}:t}},"binary!==":function(i,o,s){return function(t,e,n,r){return t=i(t,e,n,r)!==o(t,e,n,r),s?{value:t}:t}},"binary==":function(i,o,s){return function(t,e,n,r){return t=i(t,e,n,r)==o(t,e,n,r),s?{value:t}:t}},"binary!=":function(i,o,s){return function(t,e,n,r){return t=i(t,e,n,r)!=o(t,e,n,r),s?{value:t}:t}},"binary<":function(i,o,s){return function(t,e,n,r){return t=i(t,e,n,r)<o(t,e,n,r),s?{value:t}:t}},"binary>":function(i,o,s){return function(t,e,n,r){return t=i(t,e,n,r)>o(t,e,n,r),s?{value:t}:t}},"binary<=":function(i,o,s){return function(t,e,n,r){return t=i(t,e,n,r)<=o(t,e,n,r),s?{value:t}:t}},"binary>=":function(i,o,s){return function(t,e,n,r){return t=i(t,e,n,r)>=o(t,e,n,r),s?{value:t}:t}},"binary&&":function(i,o,s){return function(t,e,n,r){return t=i(t,e,n,r)&&o(t,e,n,r),s?{value:t}:t}},"binary||":function(i,o,s){return function(t,e,n,r){return t=i(t,e,n,r)||o(t,e,n,r),s?{value:t}:t}},"ternary?:":function(i,o,s,a){return function(t,e,n,r){return t=(i(t,e,n,r)?o:s)(t,e,n,r),a?{value:t}:t}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(i,o,s){return function(t,e,n,r){return t=e&&i in e?e:t,s&&1!==s&&t&&null==t[i]&&(t[i]={}),e=t?t[i]:void 0,o?{context:t,name:i,value:e}:e}},computedMember:function(a,u,c,l){return function(t,e,n,r){var i,o,s=a(t,e,n,r);return null!=s&&(i=u(t,e,n,r),i+="",l&&1!==l&&s&&!s[i]&&(s[i]={}),o=s[i]),c?{context:s,name:i,value:o}:o}},nonComputedMember:function(i,o,s,a){return function(t,e,n,r){return t=i(t,e,n,r),a&&1!==a&&t&&null==t[o]&&(t[o]={}),e=null!=t?t[o]:void 0,s?{context:t,name:o,value:e}:e}},inputs:function(i,o){return function(t,e,n,r){return r?r[o]:i(t,e,n)}}},Je.prototype={constructor:Je,parse:function(t){t=this.getAst(t);var e=this.astCompiler.compile(t.ast),n=t.ast;return e.literal=0===n.body.length||1===n.body.length&&(n.body[0].expression.type===h.Literal||n.body[0].expression.type===h.ArrayExpression||n.body[0].expression.type===h.ObjectExpression),e.constant=t.ast.constant,e.oneTime=t.oneTime,e},getAst:function(t){var e=!1;return":"===(t=t.trim()).charAt(0)&&":"===t.charAt(1)&&(e=!0,t=t.substring(2)),{ast:this.ast.ast(t),oneTime:e}}},M("$sce")),y={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Ki=/_([a-z])/g,Ji=M("$templateRequest"),Zi=M("$timeout"),e=dt.document.createElement("a"),Yi=T(dt.location.href),Xi=(e.href="http://[::1]","[::1]"===e.hostname),Qi=(mn.$inject=["$document"],vn.$inject=["$provide"],22),to=".",eo="0",no=(xn.$inject=["$locale"],{yyyy:t("FullYear",4,0,!(Cn.$inject=["$locale"]),!0),yy:t("FullYear",2,0,!0,!0),y:t("FullYear",1,0,!1,!0),MMMM:kn("Month"),MMM:kn("Month",!0),MM:t("Month",2,1),M:t("Month",1,1),LLLL:kn("Month",!1,!0),dd:t("Date",2),d:t("Date",1),HH:t("Hours",2),H:t("Hours",1),hh:t("Hours",2,-12),h:t("Hours",1,-12),mm:t("Minutes",2),m:t("Minutes",1),ss:t("Seconds",2),s:t("Seconds",1),sss:t("Milliseconds",3),EEEE:kn("Day"),EEE:kn("Day",!0),a:function(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]},Z:function(t,e,n){return(0<=(t=-1*n)?"+":"")+(En(Math[0<t?"floor":"ceil"](t/60),2)+En(Math.abs(t%60),2))},ww:On(2),w:On(1),G:Mn,GG:Mn,GGG:Mn,GGGG:function(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}}),ro=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,io=/^-?\d+$/,oo=(Tn.$inject=["$locale"],k(Ot)),so=k(cr),ao=(In.$inject=["$parse"],k({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){var n;"a"===e[0].nodeName.toLowerCase()&&(n="[object SVGAnimatedString]"===v.call(e.prop("href"))?"xlink:href":"href",e.on("click",function(t){e.attr(n)||t.preventDefault()}))}}})),uo={},co=(mt(Br,function(t,r){function i(t,e,n){t.$watch(n[o],function(t){n.$set(r,!!t)})}var o,e;"multiple"!==t&&(o=kt("ng-"+r),e="checked"===t?function(t,e,n){n.ngModel!==n[o]&&i(t,0,n)}:i,uo[o]=function(){return{restrict:"A",priority:100,link:e}})}),mt(Wr,function(t,r){uo[r]=function(){return{priority:100,link:function(t,e,n){"ngPattern"===r&&"/"===n.ngPattern.charAt(0)&&(e=n.ngPattern.match(ar))?n.$set("ngPattern",new RegExp(e[1],e[2])):t.$watch(n[r],function(t){n.$set(r,t)})}}}}),mt(["src","srcset","href"],function(s){var a=kt("ng-"+s);uo[a]=["$sce",function(o){return{priority:99,link:function(t,e,n){var r=s,i=s;"href"===s&&"[object SVGAnimatedString]"===v.call(e.prop("href"))&&(i="xlinkHref",n.$attr[i]="xlink:href",r=null),n.$set(a,o.getTrustedMediaUrl(n[a])),n.$observe(a,function(t){t?(n.$set(i,t),mr&&r&&e.prop(r,n[i])):"href"===s&&n.$set(i,null)})}}}]}),{$addControl:E,$getControls:k([]),$$renameControl:function(t,e){t.$name=e},$removeControl:E,$setValidity:E,$setDirty:E,$setPristine:E,$setSubmitted:E,$$setSubmitted:E}),lo=(Rn.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Rn.prototype={$rollbackViewValue:function(){mt(this.$$controls,function(t){t.$rollbackViewValue()})},$commitViewValue:function(){mt(this.$$controls,function(t){t.$commitViewValue()})},$addControl:function(t){Z(t.$name,"input"),this.$$controls.push(t),t.$name&&(this[t.$name]=t),t.$$parentForm=this},$getControls:function(){return O(this.$$controls)},$$renameControl:function(t,e){var n=t.$name;this[n]===t&&delete this[n],(this[e]=t).$name=e},$removeControl:function(n){n.$name&&this[n.$name]===n&&delete this[n.$name],mt(this.$pending,function(t,e){this.$setValidity(e,null,n)},this),mt(this.$error,function(t,e){this.$setValidity(e,null,n)},this),mt(this.$$success,function(t,e){this.$setValidity(e,null,n)},this),Pt(this.$$controls,n),n.$$parentForm=co},$setDirty:function(){this.$$animate.removeClass(this.$$element,qo),this.$$animate.addClass(this.$$element,Ho),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,qo,Ho+" ng-submitted"),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,mt(this.$$controls,function(t){t.$setPristine()})},$setUntouched:function(){mt(this.$$controls,function(t){t.$setUntouched()})},$setSubmitted:function(){for(var t=this;t.$$parentForm&&t.$$parentForm!==co;)t=t.$$parentForm;t.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted"),this.$submitted=!0,mt(this.$$controls,function(t){t.$$setSubmitted&&t.$$setSubmitted()})}},Dn({clazz:Rn,set:function(t,e,n){var r=t[e];r?-1===r.indexOf(n)&&r.push(n):t[e]=[n]},unset:function(t,e,n){var r=t[e];r&&(Pt(r,n),0===r.length)&&delete t[e]}}),ei()),fo=ei(!0),ho=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,po=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,$o=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,mo=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,hr=/^(\d{4,})-(\d{2})-(\d{2})$/,go=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,vo=/^(\d{4,})-W(\d\d)$/,yo=/^(\d{4,})-(\d\d)$/,bo=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,wo=Et(),xo=(mt(["date","datetime-local","month","time","week"],function(t){wo[t]=!0}),{text:function(t,e,n,r,i,o){Fn(0,e,n,r,i,o),_n(r)},date:Hn("date",hr,qn(hr,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Hn("datetimelocal",go,qn(go,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:Hn("time",bo,qn(bo,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Hn("week",vo,function(t,e){if(x(t))return t;if(bt(t)){vo.lastIndex=0;var n,r,i,o,s,a,t=vo.exec(t);if(t)return n=+t[1],a=+t[2],o=i=r=t=0,s=An(n),a=7*(a-1),e&&(t=e.getHours(),r=e.getMinutes(),i=e.getSeconds(),o=e.getMilliseconds()),new Date(n,0,s.getDate()+a,t,r,i,o)}return NaN},"yyyy-Www"),month:Hn("month",yo,qn(yo,["yyyy","MM"]),"yyyy-MM"),number:function(t,e,n,r,i,o,s,a){var u,c,l,f,h,p;Bn(0,e,0,r,"number"),zn(r),Fn(0,e,n,r,i,o),(A(n.min)||n.ngMin)&&(u=n.min||a(n.ngMin)(t),c=$(u),r.$validators.min=function(t,e){return r.$isEmpty(e)||vt(c)||c<=e},n.$observe("min",function(t){t!==u&&(c=$(t),u=t,r.$validate())})),(A(n.max)||n.ngMax)&&(l=n.max||a(n.ngMax)(t),f=$(l),r.$validators.max=function(t,e){return r.$isEmpty(e)||vt(f)||e<=f},n.$observe("max",function(t){t!==l&&(f=$(t),l=t,r.$validate())})),(A(n.step)||n.ngStep)&&(h=n.step||a(n.ngStep)(t),p=$(h),r.$validators.step=function(t,e){return r.$isEmpty(e)||vt(p)||Gn(e,c||0,p)},n.$observe("step",function(t){t!==h&&(p=$(t),h=t,r.$validate())}))},url:function(t,e,n,r,i,o){Fn(0,e,n,r,i,o),_n(r),r.$validators.url=function(t,e){t=t||e;return r.$isEmpty(t)||po.test(t)}},email:function(t,e,n,r,i,o){Fn(0,e,n,r,i,o),_n(r),r.$validators.email=function(t,e){t=t||e;return r.$isEmpty(t)||$o.test(t)}},radio:function(t,n,r,i){var o=!r.ngTrim||"false"!==Mt(r.ngTrim);vt(r.name)&&n.attr("name",++dr),n.on("change",function(t){var e;n[0].checked&&(e=r.value,o&&(e=Mt(e)),i.$setViewValue(e,t&&t.type))}),i.$render=function(){var t=r.value;o&&(t=Mt(t)),n[0].checked=t===i.$viewValue},r.$observe("value",i.$render)},range:function(t,r,i,n,e,o){function s(t,e){r.attr(t,i[t]);var n=i[t];i.$observe(t,function(t){t!==n&&e(n=t)})}Bn(0,r,0,n,"range"),zn(n),Fn(0,r,i,n,e,o);var a=n.$$hasNativeValidators&&"range"===r[0].type,u=a?0:void 0,c=a?100:void 0,l=a?1:void 0,f=r[0].validity,h=(t=A(i.min),e=A(i.max),o=A(i.step),n.$render);n.$render=a&&A(f.rangeUnderflow)&&A(f.rangeOverflow)?function(){h(),n.$setViewValue(r.val())}:h,t&&(u=$(i.min),n.$validators.min=a?function(){return!0}:function(t,e){return n.$isEmpty(e)||vt(u)||u<=e},s("min",function(t){u=$(t),V(n.$modelValue)||(a?((t=r.val())<u&&(t=u,r.val(t)),n.$setViewValue(t)):n.$validate())})),e&&(c=$(i.max),n.$validators.max=a?function(){return!0}:function(t,e){return n.$isEmpty(e)||vt(c)||e<=c},s("max",function(t){c=$(t),V(n.$modelValue)||(a?(t=r.val(),c<t&&(r.val(c),t=c<u?u:c),n.$setViewValue(t)):n.$validate())})),o&&(l=$(i.step),n.$validators.step=a?function(){return!f.stepMismatch}:function(t,e){return n.$isEmpty(e)||vt(l)||Gn(e,u||0,l)},s("step",function(t){l=$(t),V(n.$modelValue)||(a?n.$viewValue!==r.val()&&n.$setViewValue(r.val()):n.$validate())}))},checkbox:function(t,e,n,r,i,o,s,a){var u=Kn(a,t,"ngTrueValue",n.ngTrueValue,!0),c=Kn(a,t,"ngFalseValue",n.ngFalseValue,!1);e.on("change",function(t){r.$setViewValue(e[0].checked,t&&t.type)}),r.$render=function(){e[0].checked=r.$viewValue},r.$isEmpty=function(t){return!1===t},r.$formatters.push(function(t){return St(t,u)}),r.$parsers.push(function(t){return t?u:c})},hidden:E,button:E,submit:E,reset:E,file:E}),Co=["$browser","$sniffer","$filter","$parse",function(i,o,s,a){return{restrict:"E",require:["?ngModel"],link:{pre:function(t,e,n,r){r[0]&&(xo[Ot(n.type)]||xo.text)(t,e,n,r[0],o,i,s,a)}}}}],So=/^(true|false|\d+)$/,Eo=["$compile",function(r){return{restrict:"AC",compile:function(t){return r.$$addBindingClass(t),function(t,e,n){r.$$addBindingInfo(e,n.ngBind),e=e[0],t.$watch(n.ngBind,function(t){e.textContent=X(t)})}}}}],ko=["$interpolate","$compile",function(r,i){return{compile:function(t){return i.$$addBindingClass(t),function(t,e,n){t=r(e.attr(n.$attr.ngBindTemplate)),i.$$addBindingInfo(e,t.expressions),e=e[0],n.$observe("ngBindTemplate",function(t){e.textContent=vt(t)?"":t})}}}}],Ao=["$sce","$parse","$compile",function(o,n,s){return{restrict:"A",compile:function(t,e){var r=n(e.ngBindHtml),i=n(e.ngBindHtml,function(t){return o.valueOf(t)});return s.$$addBindingClass(t),function(e,n,t){s.$$addBindingInfo(n,t.ngBindHtml),e.$watch(i,function(){var t=r(e);n.html(o.getTrustedHtml(t)||"")})}}}}],Oo=k({restrict:"A",require:"ngModel",link:function(t,e,n,r){r.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),Mo=Jn("",!0),To=Jn("Odd",0),Vo=Jn("Even",1),No=Pn({compile:function(t,e){e.$set("ngCloak",void 0),t.removeClass("ng-cloak")}}),jo=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Io={},Po={blur:!0,focus:!0},Ro=(mt("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(r){var i=kt("ng-"+r);Io[i]=["$parse","$rootScope","$exceptionHandler",function(t,e,n){return Zn(t,e,n,i,r,Po[r])}]}),["$animate","$compile",function(u,c){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(t,n,r,e,i){var o,s,a;t.$watch(r.ngIf,function(t){t?s||i(function(t,e){s=e,t[t.length++]=c.$$createComment("end ngIf",r.ngIf),o={clone:t},u.enter(t,n.parent(),n)}):(a&&(a.remove(),a=null),s&&(s.$destroy(),s=null),o&&(a=Y(o.clone),u.leave(a).done(function(t){!1!==t&&(a=null)}),o=null))})}}}]),Uo=["$templateRequest","$anchorScroll","$animate",function(d,m,g){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:b.noop,compile:function(t,e){var n=e.ngInclude||e.src,p=e.onload||"",$=e.autoscroll;return function(o,s,t,a,u){function c(){e&&(e.remove(),e=null),l&&(l.$destroy(),l=null),f&&(g.leave(f).done(function(t){!1!==t&&(e=null)}),e=f,f=null)}var l,e,f,h=0;o.$watch(n,function(n){function r(t){!1===t||!A($)||$&&!o.$eval($)||m()}var i=++h;n?(d(n,!0).then(function(t){var e;o.$$destroyed||i!==h||(e=o.$new(),a.template=t,t=u(e,function(t){c(),g.enter(t,null,s).done(r)}),f=t,(l=e).$emit("$includeContentLoaded",n),o.$eval(p))},function(){o.$$destroyed||i!==h||(c(),o.$emit("$includeContentError",n))}),o.$emit("$includeContentRequested",n)):(c(),a.template=null)})}}}}],Do=["$compile",function(i){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(t,e,n,r){v.call(e[0]).match(/SVG/)?(e.empty(),i(nt(r.template,dt.document).childNodes)(t,function(t){e.append(t)},{futureParentElement:e})):(e.html(r.template),i(e.contents())(t))}}}],Lo=Pn({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),_o="ng-valid",Fo="ng-invalid",qo="ng-pristine",Ho="ng-dirty",Bo=M("ngModel"),zo=(Yn.$inject="$scope $exceptionHandler $attrs $element $parse $animate $timeout $q $interpolate".split(" "),Yn.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var n=this.$$parse(this.$$attr.ngModel+"()"),r=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(t){var e=this.$$parsedNgModel(t);return e=xt(e)?n(t):e},this.$$ngModelSet=function(t,e){xt(this.$$parsedNgModel(t))?r(t,{$$$p:e}):this.$$parsedNgModelAssign(t,e)}}else if(!this.$$parsedNgModel.assign)throw Bo("nonassign",this.$$attr.ngModel,Dt(this.$$element))},$render:E,$isEmpty:function(t){return vt(t)||""===t||null===t||t!=t},$$updateEmptyClasses:function(t){this.$isEmpty(t)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Ho),this.$$animate.addClass(this.$$element,qo)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,qo),this.$$animate.addClass(this.$$element,Ho),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){var t,e,n,r,i,o;V(this.$modelValue)||(t=this.$$lastCommittedViewValue,e=this.$$rawModelValue,n=this.$valid,r=this.$modelValue,i=this.$options.getOption("allowInvalid"),(o=this).$$runValidators(e,t,function(t){i||n===t||(o.$modelValue=t?e:void 0,o.$modelValue!==r&&o.$$writeModelToScope())}))},$$runValidators:function(n,r,e){function i(t,e){c===l.$$currentValidationRunId&&l.$setValidity(t,e)}function t(t){c===l.$$currentValidationRunId&&e(t)}this.$$currentValidationRunId++;var o,s,a,u,c=this.$$currentValidationRunId,l=this;u=l.$$parserName,(vt(l.$$parserValid)?(i(u,null),1):(l.$$parserValid||(mt(l.$validators,function(t,e){i(e,null)}),mt(l.$asyncValidators,function(t,e){i(e,null)})),i(u,l.$$parserValid),l.$$parserValid))&&(a=!0,mt(l.$validators,function(t,e){t=Boolean(t(n,r));a=a&&t,i(e,t)}),a||(mt(l.$asyncValidators,function(t,e){i(e,null)}),0))?(o=[],s=!0,mt(l.$asyncValidators,function(t,e){t=t(n,r);if(!t||!xt(t.then))throw Bo("nopromise",t);i(e,void 0),o.push(t.then(function(){i(e,!0)},function(){i(e,s=!1)}))}),o.length?l.$$q.all(o).then(function(){t(s)},E):t(!0)):t(!1)},$commitViewValue:function(){var t=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==t||""===t&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(t),this.$$lastCommittedViewValue=t,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var e=this.$$lastCommittedViewValue,n=this;if(this.$$parserValid=!vt(e)||void 0,this.$setValidity(this.$$parserName,null),this.$$parserName="parse",this.$$parserValid)for(var t=0;t<this.$parsers.length;t++)if(vt(e=this.$parsers[t](e))){this.$$parserValid=!1;break}V(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var r=this.$modelValue,i=this.$options.getOption("allowInvalid");this.$$rawModelValue=e,i&&(this.$modelValue=e,n.$modelValue!==r)&&n.$$writeModelToScope(),this.$$runValidators(e,this.$$lastCommittedViewValue,function(t){i||(n.$modelValue=t?e:void 0,n.$modelValue!==r&&n.$$writeModelToScope())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),mt(this.$viewChangeListeners,function(t){try{t()}catch(t){this.$$exceptionHandler(t)}},this)},$setViewValue:function(t,e){this.$viewValue=t,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(e)},$$debounceViewValueCommit:function(t){var e=this.$options.getOption("debounce"),n=(g(e[t])?e=e[t]:g(e.default)&&-1===this.$options.getOption("updateOn").indexOf(t)?e=e.default:g(e["*"])&&(e=e["*"]),this.$$timeout.cancel(this.$$pendingDebounce),this);0<e?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},e):this.$$rootScope.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(t){this.$options=this.$options.createChild(t),this.$$setUpdateOnEvents()},$processModelValue:function(){var t=this.$$format();this.$viewValue!==t&&(this.$$updateEmptyClasses(t),this.$viewValue=this.$$lastCommittedViewValue=t,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,E))},$$format:function(){for(var t=this.$formatters,e=t.length,n=this.$modelValue;e--;)n=t[e](n);return n},$$setModelValue:function(t){this.$modelValue=this.$$rawModelValue=t,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),(this.$$updateEvents=this.$options.getOption("updateOn"))&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(t){this.$$debounceViewValueCommit(t&&t.type)}},Dn({clazz:Yn,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]}}),["$rootScope",function(s){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Yn,priority:1,compile:function(t){return t.addClass(qo).addClass("ng-untouched").addClass(_o),{pre:function(t,e,n,r){var i=r[0];e=r[1]||i.$$parentForm,(r=r[2])&&(i.$options=r.$options),i.$$initGetterSetters(),e.$addControl(i),n.$observe("name",function(t){i.$name!==t&&i.$$parentForm.$$renameControl(i,t)}),t.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(t,e,n,r){function i(){o.$setTouched()}var o=r[0];o.$$setUpdateOnEvents(),e.on("blur",function(){o.$touched||(s.$$phase?t.$evalAsync(i):t.$apply(i))})}}}}}]),Wo=/(\s+|^)default(\s+|$)/,Go=(Xn.prototype={getOption:function(t){return this.$$options[t]},createChild:function(n){var r=!1;return mt(n=gt({},n),function(t,e){"$inherit"===t?"*"===e?r=!0:(n[e]=this.$$options[e],"updateOn"===e&&(n.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===e&&(n.updateOnDefault=!1,n[e]=Mt(t.replace(Wo,function(){return n.updateOnDefault=!0," "})))},this),r&&(delete n["*"],Qn(n,this.$$options)),Qn(n,ui.$$options),new Xn(n)}},ui=new Xn({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null}),Pn({terminal:!0,priority:1e3})),Ko=M("ngOptions"),Jo=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Zo=["$compile","$document","$parse",function($,d,w){var m=dt.document.createElement("option"),g=dt.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(t,e,n,r){r[0].registerOption=E},post:function(t,i,e,n){function r(t){var e=(t=f.getOptionFromViewValue(t))&&t.element;return e&&!e.selected&&(e.selected=!0),t}function o(t,e){(t.element=e).disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),e.value=t.selectValue}var s=n[0],a=n[1],u=e.multiple;n=0;for(var c=i.children(),l=c.length;n<l;n++)if(""===c[n].value){s.hasEmptyOption=!0,s.emptyOption=c.eq(n);break}i.empty(),n=!!s.emptyOption,At(m.cloneNode(!1)).val("?");var f,h=function(t,e,c){function l(t,e,n,r,i){this.selectValue=t,this.viewValue=e,this.label=n,this.group=r,this.disabled=i}function f(t){var e;if(!r&&N(t))e=t;else for(var n in e=[],t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n);return e}var n,r,h,p,i,$,d,m,g,v,y,o,b,a=t.match(Jo);if(a)return n=a[5]||a[7],r=a[6],t=/ as /.test(a[0])&&a[1],h=a[9],e=w(a[2]?a[1]:n),p=t&&w(t)||e,i=h&&w(h),$=h?function(t,e){return i(c,e)}:function(t){return Yt(t)},d=function(t,e){return $(t,b(t,e))},m=w(a[2]||a[1]),g=w(a[3]||""),v=w(a[4]||""),y=w(a[8]),o={},b=r?function(t,e){return o[r]=e,o[n]=t,o}:function(t){return o[n]=t,o},{trackBy:h,getTrackByValue:d,getWatchables:w(y,function(t){for(var e=[],n=f(t=t||[]),r=n.length,i=0;i<r;i++){var o=t[s=t===n?i:n[i]],s=b(o,s),o=$(o,s);e.push(o),(a[2]||a[1])&&(o=m(c,s),e.push(o)),a[4]&&(s=v(c,s),e.push(s))}return e}),getOptions:function(){for(var t=[],e={},n=y(c)||[],r=f(n),i=r.length,o=0;o<i;o++){var s=n===r?o:r[o],a=b(n[s],s),u=p(c,a),u=new l(s=$(u,a),u,m(c,a),g(c,a),v(c,a));t.push(u),e[s]=u}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[d(t)]},getViewValueFromOption:function(t){return h?I(t.viewValue):t.viewValue}}}};throw Ko("iexp",t,Dt(e))}(e.ngOptions,i,t),p=d[0].createDocumentFragment();s.generateUnknownOptionValue=function(t){return"?"},u?(s.writeValue=function(t){var e;f&&(e=t&&t.map(r)||[],f.items.forEach(function(t){t.element.selected&&-1===Array.prototype.indexOf.call(e,t)&&(t.element.selected=!1)}))},s.readValue=function(){var t=i.val()||[],e=[];return mt(t,function(t){(t=f.selectValueMap[t])&&!t.disabled&&e.push(f.getViewValueFromOption(t))}),e},h.trackBy&&t.$watchCollection(function(){if(wt(a.$viewValue))return a.$viewValue.map(function(t){return h.getTrackByValue(t)})},function(){a.$render()})):(s.writeValue=function(t){var e,n;f&&(e=i[0].options[i[0].selectedIndex],n=f.getOptionFromViewValue(t),e&&e.removeAttribute("selected"),n?(i[0].value!==n.selectValue&&(s.removeUnknownOption(),i[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):s.selectUnknownOrEmptyOption(t))},s.readValue=function(){var t=f.selectValueMap[i.val()];return t&&!t.disabled?(s.unselectEmptyOption(),s.removeUnknownOption(),f.getViewValueFromOption(t)):null},h.trackBy&&t.$watch(function(){return h.getTrackByValue(a.$viewValue)},function(){a.$render()})),n&&($(s.emptyOption)(t),i.prepend(s.emptyOption),8===s.emptyOption[0].nodeType?(s.hasEmptyOption=!1,s.registerOption=function(t,e){""===e.val()&&(s.hasEmptyOption=!0,s.emptyOption=e,s.emptyOption.removeClass("ng-scope"),a.$render(),e.on("$destroy",function(){var t=s.$isEmptyOptionSelected();s.hasEmptyOption=!1,s.emptyOption=void 0,t&&a.$render()}))}):s.emptyOption.removeClass("ng-scope")),t.$watchCollection(h.getWatchables,function(){var t=f&&s.readValue();if(f)for(var e=f.items.length-1;0<=e;e--){var n=f.items[e];A(n.group)?Bt(n.element.parentNode):Bt(n.element)}f=h.getOptions();var r={};f.items.forEach(function(t){var e,n;A(t.group)?((e=r[t.group])||(e=g.cloneNode(!1),p.appendChild(e),e.label=null===t.group?"null":t.group,r[t.group]=e),n=m.cloneNode(!1),e.appendChild(n),o(t,n)):(e=m.cloneNode(!1),p.appendChild(e),o(t,e))}),i[0].appendChild(p),a.$render(),a.$isEmpty(t)||(e=s.readValue(),h.trackBy||u?St(t,e):t===e)||(a.$setViewValue(e),a.$render())})}}}}],Yo=["$locale","$interpolate","$log",function($,d,m){var g=/{}/g,v=/^when(Minus)?(.+)$/;return{link:function(r,i,o){function s(t){i.text(t||"")}var a,t=o.count,u=o.$attr.when&&i.attr(o.$attr.when),c=o.offset||0,l=r.$eval(u)||{},f={},e=d.startSymbol(),n=d.endSymbol(),h=e+t+"-"+c+n,p=b.noop;mt(o,function(t,e){var n=v.exec(e);n&&(n=(n[1]?"-":"")+Ot(n[2]),l[n]=i.attr(o.$attr[e]))}),mt(l,function(t,e){f[e]=d(t.replace(g,h))}),r.$watch(t,function(t){var e=parseFloat(t),n=V(e);(e=n||e in l?e:$.pluralCat(e-c))===a||n&&V(a)||(p(),vt(n=f[e])?(null!=t&&m.debug("ngPluralize: no rule defined for '"+e+"' in "+u),p=E,s()):p=r.$watch(n,s),a=e)})}}}],Xo=M("ngRef"),Qo=["$parse",function(e){return{priority:-1,restrict:"A",compile:function(t,i){var o=kt(Ct(t)),s=e(i.ngRef),a=s.assign||function(){throw Xo("nonassign",i.ngRef)};return function(t,e,n){var r;if(n.hasOwnProperty("ngRefRead")){if("$element"===n.ngRefRead)r=e;else if(!(r=e.data("$"+n.ngRefRead+"Controller")))throw Xo("noctrl",n.ngRefRead,i.ngRef)}else r=e.data("$"+o+"Controller");a(t,r=r||e),e.on("$destroy",function(){s(t)===r&&a(t,null)})}}}}],ts=["$parse","$animate","$compile",function(s,S,a){function E(t,e,n,r,i,o,s){t[n]=r,i&&(t[i]=o),t.$index=e,t.$first=0===e,t.$last=e===s-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0==(1&e))}function k(t,e,n){return Yt(n)}function A(t,e){return e}var O=M("ngRepeat");return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(t,e){var g=e.ngRepeat,v=a.$$createComment("end ngRepeat",g),e=g.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!e)throw O("iexp",g);var n=e[1],r=e[2],y=e[3],i=e[4];if(!(e=n.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw O("iidexp",n);var b,o,w,x=e[3]||e[1],C=e[2];if(!y||/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y)&&!/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(y))return i&&(b={$id:Yt},o=s(i),w=function(t,e,n,r){return C&&(b[C]=e),b[x]=n,b.$index=r,o(t,b)}),function(p,$,t,e,d){var m=Et();p.$watchCollection(r,function(t){var n,e,r,i,o,s,a,u,c,l,f=$[0],h=Et();if(y&&(p[y]=t),N(t))u=t,e=w||k;else for(l in e=w||A,u=[],t)ur.call(t,l)&&"$"!==l.charAt(0)&&u.push(l);for(i=u.length,l=Array(i),n=0;n<i;n++)if(o=t===u?n:u[n],s=t[o],a=e(p,o,s,n),m[a])c=m[a],delete m[a],h[a]=c,l[n]=c;else{if(h[a])throw mt(l,function(t){t&&t.scope&&(m[t.id]=t)}),O("dupes",g,a,s);l[n]={id:a,scope:void 0,clone:void 0},h[a]=!0}for(r in b&&(b[x]=void 0),m){if(a=Y((c=m[r]).clone),S.leave(a),a[0].parentNode)for(n=0,e=a.length;n<e;n++)a[n].$$NG_REMOVED=!0;c.scope.$destroy()}for(n=0;n<i;n++)if(o=t===u?n:u[n],s=t[o],(c=l[n]).scope){for(r=f;(r=r.nextSibling)&&r.$$NG_REMOVED;);c.clone[0]!==r&&S.move(Y(c.clone),null,f),f=c.clone[c.clone.length-1],E(c.scope,n,x,s,C,o,i)}else d(function(t,e){c.scope=e;e=v.cloneNode(!1);t[t.length++]=e,S.enter(t,null,f),f=e,c.clone=t,h[c.id]=c,E(c.scope,n,x,s,C,o,i)});m=h})};throw O("badident",y)}}}],es=["$animate",function(r){return{restrict:"A",multiElement:!0,link:function(t,e,n){t.$watch(n.ngShow,function(t){r[t?"removeClass":"addClass"](e,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],ns=["$animate",function(r){return{restrict:"A",multiElement:!0,link:function(t,e,n){t.$watch(n.ngHide,function(t){r[t?"addClass":"removeClass"](e,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],rs=Pn(function(t,n,e){t.$watchCollection(e.ngStyle,function(t,e){e&&t!==e&&mt(e,function(t,e){n.css(e,"")}),t&&n.css(t)})}),is=["$animate","$compile",function(c,l){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(t,e,n,i){var o,s=[],a=[],u=[];t.$watch(n.ngSwitch||n.on,function(t){for(var e,n;a.length;)c.cancel(a.pop());for(e=0,n=u.length;e<n;++e){var r=Y(s[e].clone);u[e].$destroy(),(a[e]=c.leave(r)).done(function(e,n){return function(t){!1!==t&&e.splice(n,1)}}(a,e))}s.length=0,u.length=0,(o=i.cases["!"+t]||i.cases["?"])&&mt(o,function(n){n.transclude(function(t,e){u.push(e);e=n.element;t[t.length++]=l.$$createComment("end ngSwitchWhen"),s.push({clone:t}),c.enter(t,e.parent(),e)})})})}}}],os=Pn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){mt(n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(t,e,n){return n[e-1]!==t}),function(t){r.cases["!"+t]=r.cases["!"+t]||[],r.cases["!"+t].push({transclude:i,element:e})})}}),ss=Pn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:e})}}),as=M("ngTransclude"),us=["$compile",function(e){return{restrict:"EAC",compile:function(t){var i=e(t.contents());return t.empty(),function(t,o,e,n,r){function s(){i(t,function(t){o.append(t)})}if(!r)throw as("orphan",Dt(o));e.ngTransclude===e.$attr.ngTransclude&&(e.ngTransclude=""),r(function(t,e){if(n=t.length)t:{for(var n=0,r=t.length;n<r;n++){var i=t[n];if(i.nodeType!==kr||i.nodeValue.trim()){n=!0;break t}}n=void 0}n?o.append(t):(s(),e.$destroy())},null,e=e.ngTransclude||e.ngTranscludeSlot),e&&!r.isSlotFilled(e)&&s()}}}}],cs=["$templateCache",function(n){return{restrict:"E",terminal:!0,compile:function(t,e){"text/ng-template"===e.type&&n.put(e.id,t[0].text)}}}],ls={$setViewValue:E,$render:E},fs=["$element","$scope",function(n,e){function a(){t||(t=!0,e.$$postDigest(function(){t=!1,c.ngModelCtrl.$render()}))}function u(t){i||(i=!0,e.$$postDigest(function(){e.$$destroyed||(i=!1,c.ngModelCtrl.$setViewValue(c.readValue()),t&&c.ngModelCtrl.$render())}))}var c=this,r=new pi,t=(c.selectValueMap={},c.ngModelCtrl=ls,c.multiple=!1,c.unknownOption=At(dt.document.createElement("option")),c.hasEmptyOption=!1,c.emptyOption=void 0,c.renderUnknownOption=function(t){t=c.generateUnknownOptionValue(t),c.unknownOption.val(t),n.prepend(c.unknownOption),tr(c.unknownOption,!0),n.val(t)},c.updateUnknownOption=function(t){t=c.generateUnknownOptionValue(t),c.unknownOption.val(t),tr(c.unknownOption,!0),n.val(t)},c.generateUnknownOptionValue=function(t){return"? "+Yt(t)+" ?"},c.removeUnknownOption=function(){c.unknownOption.parent()&&c.unknownOption.remove()},c.selectEmptyOption=function(){c.emptyOption&&(n.val(""),tr(c.emptyOption,!0))},c.unselectEmptyOption=function(){c.hasEmptyOption&&tr(c.emptyOption,!1)},e.$on("$destroy",function(){c.renderUnknownOption=E}),c.readValue=function(){var t=(t=n.val())in c.selectValueMap?c.selectValueMap[t]:t;return c.hasOption(t)?t:null},c.writeValue=function(t){var e=n[0].options[n[0].selectedIndex];e&&tr(At(e),!1),c.hasOption(t)?(c.removeUnknownOption(),e=Yt(t),n.val(e in c.selectValueMap?e:t),tr(At(n[0].options[n[0].selectedIndex]),!0)):c.selectUnknownOrEmptyOption(t)},c.addOption=function(t,e){8!==e[0].nodeType&&(Z(t,'"option value"'),""===t&&(c.hasEmptyOption=!0,c.emptyOption=e),e=r.get(t)||0,r.set(t,e+1),a())},c.removeOption=function(t){var e=r.get(t);e&&(1===e?(r.delete(t),""===t&&(c.hasEmptyOption=!1,c.emptyOption=void 0)):r.set(t,e-1))},c.hasOption=function(t){return!!r.get(t)},c.$hasEmptyOption=function(){return c.hasEmptyOption},c.$isUnknownOptionSelected=function(){return n[0].options[0]===c.unknownOption[0]},c.$isEmptyOptionSelected=function(){return c.hasEmptyOption&&n[0].options[n[0].selectedIndex]===c.emptyOption[0]},!(c.selectUnknownOrEmptyOption=function(t){null==t&&c.emptyOption?(c.removeUnknownOption(),c.selectEmptyOption()):c.unknownOption.parent().length?c.updateUnknownOption(t):c.renderUnknownOption(t)})),i=!1;c.registerOption=function(t,r,i,e,n){var o,s;i.$attr.ngValue?i.$observe("value",function(t){var e,n=r.prop("selected");A(s)&&(c.removeOption(o),delete c.selectValueMap[s],e=!0),s=Yt(t),o=t,c.selectValueMap[s]=t,c.addOption(t,r),r.attr("value",s),e&&n&&u()}):e?i.$observe("value",function(t){c.readValue();var e,n=r.prop("selected");A(o)&&(c.removeOption(o),e=!0),o=t,c.addOption(t,r),e&&n&&u()}):n?t.$watch(n,function(t,e){i.$set("value",t);var n=r.prop("selected");e!==t&&c.removeOption(e),c.addOption(t,r),e&&n&&u()}):c.addOption(i.value,r),i.$observe("disabled",function(t){("true"===t||t&&r.prop("selected"))&&(c.multiple?u(!0):(c.ngModelCtrl.$setViewValue(null),c.ngModelCtrl.$render()))}),r.on("$destroy",function(){var t=c.readValue(),e=i.value;c.removeOption(e),a(),(c.multiple&&t&&-1!==t.indexOf(e)||t===e)&&u(!0)})}}],hs=["$interpolate",function(n){return{restrict:"E",priority:100,compile:function(t,e){var i,o;return A(e.ngValue)||(A(e.value)?i=n(e.value,!0):(o=n(t.text(),!0))||e.$set("value",t.text())),function(t,e,n){var r=e.parent();(r=r.data("$selectController")||r.parent().data("$selectController"))&&r.registerOption(t,e,n,i,o)}}}}],ps=["$parse",function(o){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){var i;r&&(i=n.hasOwnProperty("required")||o(n.ngRequired)(t),n.ngRequired||(n.required=!0),r.$validators.required=function(t,e){return!i||!r.$isEmpty(e)},n.$observe("required",function(t){i!==t&&(i=t,r.$validate())}))}}}],$s=["$parse",function(n){return{restrict:"A",require:"?ngModel",compile:function(t,e){var s,a;return e.ngPattern&&(a="/"===(s=e.ngPattern).charAt(0)&&ar.test(e.ngPattern)?function(){return e.ngPattern}:n(e.ngPattern)),function(t,n,e,r){var i,o;r&&(i=e.pattern,e.ngPattern?i=a(t):s=e.pattern,o=er(i,s,n),e.$observe("pattern",function(t){var e=o;o=er(t,s,n),(e&&e.toString())!==(o&&o.toString())&&r.$validate()}),r.$validators.pattern=function(t,e){return r.$isEmpty(e)||vt(o)||o.test(e)})}}}}],ds=["$parse",function(s){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){var i,o;r&&(i=n.maxlength||s(n.ngMaxlength)(t),o=nr(i),n.$observe("maxlength",function(t){i!==t&&(o=nr(t),i=t,r.$validate())}),r.$validators.maxlength=function(t,e){return o<0||r.$isEmpty(e)||e.length<=o})}}}],ms=["$parse",function(s){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){var i,o;r&&(i=n.minlength||s(n.ngMinlength)(t),o=nr(i)||-1,n.$observe("minlength",function(t){i!==t&&(o=nr(t)||-1,i=t,r.$validate())}),r.$validators.minlength=function(t,e){return r.$isEmpty(e)||e.length>=o})}}}];function gs(t,e,n){return t[e]||(t[e]=n())}dt.angular.bootstrap?dt.console&&console.log("WARNING: Tried to load AngularJS more than once."):(Er||(hr=br(),(go=vt(hr)?dt.jQuery:hr?dt[hr]:void 0)&&go.fn.on?gt((At=go).fn,{scope:Hr.scope,isolateScope:Hr.isolateScope,controller:Hr.controller,injector:Hr.injector,inheritedData:Hr.inheritedData}):At=u,fi=At.cleanData,At.cleanData=function(t){for(var e,n,r=0;null!=(n=t[r]);r++)(e=(At._data(n)||{}).events)&&e.$destroy&&At(n).triggerHandler("$destroy");fi(t)},b.element=At,Er=!0),gt(bo=b,{errorHandlingConfig:n,bootstrap:z,copy:I,extend:gt,merge:r,equals:St,element:At,forEach:mt,injector:te,noop:E,bind:Ut,toJson:i,fromJson:U,identity:Nt,isUndefined:vt,isDefined:A,isString:bt,isFunction:xt,isObject:yt,isNumber:g,isElement:j,isArray:wt,version:Ar,isDate:x,callbacks:{$$counter:0},getTestability:G,reloadWithDebugInfo:W,UNSAFE_restoreLegacyJqLiteXHTMLReplacement:K,$$minErr:M,$$csp:yr,$$encodeUriSegment:H,$$encodeUriQuery:o,$$lowercase:Ot,$$stringify:X,$$uppercase:cr}),bo=dt,ci=M("$injector"),li=M("ng"),(bo=gs(bo,"angular",Object)).$$minErr=bo.$$minErr||M,(rr=gs(bo,"module",function(){var t={};return function(a,u,c){var l={};if("hasOwnProperty"===a)throw li("badname","module");return u&&t.hasOwnProperty(a)&&(t[a]=null),gs(t,a,function(){function t(t,e,n,r){return r=r||o,function(){return r[n||"push"]([t,e,arguments]),s}}function e(n,r,i){return i=i||o,function(t,e){return e&&xt(e)&&(e.$$moduleName=a),i.push([n,r,arguments]),s}}var o,n,r,i,s;if(u)return o=[],i=t("$injector","invoke","push",n=[]),s={_invokeQueue:o,_configBlocks:n,_runBlocks:r=[],info:function(t){if(A(t)){if(yt(t))return l=t,this;throw li("aobj","value")}return l},requires:u,name:a,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:e("$provide","decorator",n),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),component:e("$compileProvider","component"),config:i,run:function(t){return r.push(t),this}},c&&i(c),s;throw ci("nomod",a)})}}))("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:rn}),t.provider("$compile",ue).directive({a:ao,input:Co,textarea:Co,form:lo,script:cs,select:si,option:hs,ngBind:Eo,ngBindHtml:Ao,ngBindTemplate:ko,ngClass:Mo,ngClassEven:Vo,ngClassOdd:To,ngCloak:No,ngController:jo,ngForm:fo,ngHide:ns,ngIf:Ro,ngInclude:Uo,ngInit:Lo,ngNonBindable:Go,ngPluralize:Yo,ngRef:Qo,ngRepeat:ts,ngShow:es,ngStyle:rs,ngSwitch:is,ngSwitchWhen:os,ngSwitchDefault:ss,ngOptions:Zo,ngTransclude:us,ngModel:zo,ngList:ii,ngChange:Oo,pattern:$s,ngPattern:$s,required:ps,ngRequired:ps,minlength:ms,ngMinlength:ms,maxlength:ds,ngMaxlength:ds,ngValue:ri,ngModelOptions:oi}).directive({ngInclude:Do,input:ni}).directive(uo).directive(Io),t.provider({$anchorScroll:ee,$animate:xi,$animateCss:Xr,$$animateJs:Kr,$$animateQueue:Jr,$$AnimateRunner:Yr,$$animateAsyncRun:Zr,$browser:oe,$cacheFactory:se,$controller:he,$document:pe,$$isDocumentHidden:$e,$exceptionHandler:de,$filter:vn,$$forceReflow:Qr,$interpolate:ke,$interval:Ae,$$intervalFactory:Oe,$http:Ce,$httpParamSerializer:ge,$httpParamSerializerJQLike:ve,$httpBackend:Ee,$xhrFactory:Se,$jsonpCallbacks:ti,$location:Le,$log:_e,$parse:Ye,$rootScope:nn,$q:Xe,$$q:Qe,$sce:an,$sceDelegate:sn,$sniffer:un,$$taskTrackerFactory:cn,$templateCache:ae,$templateRequest:fn,$$testability:hn,$timeout:pn,$window:dn,$$rAF:en,$$jqLite:Zt,$$Map:$i,$$cookieReader:gn})}]).info({angularVersion:"1.8.2"}),b.module("ngLocale",[],["$provide",function(t){t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,e){var n,r=0|t;return void 0===e&&(e=Math.min((t=t,-1==(n=(t+="").indexOf("."))?0:t.length-n-1),3)),Math.pow(10,e),1==r&&0==e?"one":"other"}})}]),At(function(){B(dt.document,z)}))}(window),window.angular.$$csp().noInlineStyle||window.angular.element(document.head).prepend(window.angular.element("<style>").text('@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}'));
!function(r,o){function s(t){return B(t)?t:Object.keys(t).map(function(e){return t[e]})}function l(e){return null===e}function n(t,r){return-1==Object.keys(t).map(function(e){return r[e]!==o&&r[e]==t[e]}).indexOf(!1)}function f(e,t){for(var r=0,n=0;n<=t.length;n++){var u=function(e,t,r){for(var n=0;t+n<=e.length;){if(e.charAt(t+n)==r)return n;n++}return-1}(e,r,t.charAt(n));if(-1==u)return!1;r+=u+1}return!0}function i(e,t,r){var n=0;return e.filter(function(e){e=w(r)?n<t&&r(e):n<t;return n=e?n+1:n,e})}function u(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function c(e){return e&&e.$evalAsync&&e.$watch}function e(){return function(e,t){return t<e}}function t(){return function(e,t){return t<=e}}function a(){return function(e,t){return e<t}}function m(){return function(e,t){return e<=t}}function d(){return function(e,t){return e==t}}function p(){return function(e,t){return e!=t}}function h(){return function(e,t){return e===t}}function b(){return function(e,t){return e!==t}}function g(r){return function(e,t){return e=M(e)?s(e):e,!(!B(e)||$(t))&&e.some(function(e){return x(t)&&M(e)||O(t)?r(t)(e):e===t})}}function v(r){return function(e,t){var n,u;return e=M(e)?s(e):e,B(e)?(n=[],u=r(t),$(t)?e.filter(function(e,t,r){return r.indexOf(e)===t}):e.filter(function(e){var t,r,e=u(e);return t=n,!(!$(r=e)&&t.some(function(e){return j(e,r)})||(n.push(e),0))})):e}}function y(){return function(e){return x(e)?e.split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.substring(1)}).join(" "):e}}var w=r.isDefined,$=r.isUndefined,O=r.isFunction,x=r.isString,E=r.isNumber,M=r.isObject,B=r.isArray,N=r.forEach,z=r.extend,F=r.copy,j=r.equals;String.prototype.contains||(String.prototype.contains=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),r.module("a8m.angular",[]).filter("isUndefined",function(){return function(e){return r.isUndefined(e)}}).filter("isDefined",function(){return function(e){return r.isDefined(e)}}).filter("isFunction",function(){return function(e){return r.isFunction(e)}}).filter("isString",function(){return function(e){return r.isString(e)}}).filter("isNumber",function(){return function(e){return r.isNumber(e)}}).filter("isArray",function(){return function(e){return r.isArray(e)}}).filter("isObject",function(){return function(e){return r.isObject(e)}}).filter("isEqual",function(){return function(e,t){return r.equals(e,t)}}),r.module("a8m.conditions",[]).filter({isGreaterThan:e,">":e,isGreaterThanOrEqualTo:t,">=":t,isLessThan:a,"<":a,isLessThanOrEqualTo:m,"<=":m,isEqualTo:d,"==":d,isNotEqualTo:p,"!=":p,isIdenticalTo:h,"===":h,isNotIdenticalTo:b,"!==":b}),r.module("a8m.is-null",[]).filter("isNull",function(){return l}),r.module("a8m.after-where",[]).filter("afterWhere",function(){return function(e,t){var r;return e=M(e)?s(e):e,!B(e)||$(t)?e:(r=e.map(function(e){return n(t,e)}).indexOf(!0),e.slice(-1===r?0:r))}}),r.module("a8m.after",[]).filter("after",function(){return function(e,t){return e=M(e)?s(e):e,B(e)?e.slice(t):e}}),r.module("a8m.before-where",[]).filter("beforeWhere",function(){return function(e,t){var r;return e=M(e)?s(e):e,!B(e)||$(t)?e:(r=e.map(function(e){return n(t,e)}).indexOf(!0),e.slice(0,-1===r?e.length:++r))}}),r.module("a8m.before",[]).filter("before",function(){return function(e,t){return e=M(e)?s(e):e,B(e)?e.slice(0,t&&--t):e}}),r.module("a8m.chunk-by",["a8m.filter-watcher"]).filter("chunkBy",["filterWatcher",function(i){return function(e,t,r){return i.isMemoized("chunkBy",arguments)||i.memoize("chunkBy",arguments,this,(n=t,u=r,B(t=e)?t.map(function(e,t,r){return e=r.slice(t*=n,t+n),!$(u)&&e.length<n?e.concat(function(e,t){for(var r=[];e--;)r[e]=t;return r}(n-e.length,u)):e}).slice(0,Math.ceil(t.length/n)):t));var n,u}}]),r.module("a8m.concat",[]).filter("concat",[function(){return function(e,t){var r;return $(t)?e:B(e)?M(t)?e.concat(s(t)):e.concat(t):M(e)?(r=s(e),M(t)?r.concat(s(t)):r.concat(t)):e}}]),r.module("a8m.contains",[]).filter({contains:["$parse",g],some:["$parse",g]}),r.module("a8m.count-by",[]).filter("countBy",["$parse",function(i){return function(e,t){var r,n={},u=i(t);return e=M(e)?s(e):e,!B(e)||$(t)?e:(e.forEach(function(e){r=u(e),n[r]||(n[r]=0),n[r]++}),n)}}]),r.module("a8m.defaults",[]).filter("defaults",["$parse",function(u){return function(e,n){var t;return e=M(e)?s(e):e,B(e)&&M(n)&&(t=function t(r,n,u){return n=n||[],Object.keys(r).forEach(function(e){M(r[e])&&!B(r[e])?t(r[e],n,u&&u+"."+e||e):n.push(u?u+"."+e:e)}),n}(n),e.forEach(function(r){t.forEach(function(e){var e=u(e),t=e.assign;$(e(r))&&t(r,e(n))})})),e}}]),r.module("a8m.every",[]).filter("every",["$parse",function(r){return function(e,t){return e=M(e)?s(e):e,!(B(e)&&!$(t))||e.every(function(e){return M(e)||O(t)?r(t)(e):e===t})}}]),r.module("a8m.filter-by",[]).filter("filterBy",["$parse",function(a){return function(e,r,n,u){var i;return n=x(n)||E(n)?String(n).toLowerCase():o,e=M(e)?s(e):e,!B(e)||$(n)?e:e.filter(function(t){return r.some(function(e){return i=~e.indexOf("+")?e.replace(/\s+/g,"").split("+").map(function(e){return a(e)(t)}).join(" "):a(e)(t),!(!x(i)&&!E(i))&&(i=String(i).toLowerCase(),u?i===n:i.contains(n))})})}}]),r.module("a8m.first",[]).filter("first",["$parse",function(u){return function(e){var t,r,n;return e=M(e)?s(e):e,B(e)?(n=Array.prototype.slice.call(arguments,1),t=E(n[0])?n[0]:1,r=E(n[0])?E(n[1])?o:n[1]:n[0],n.length?i(e,t,r&&u(r)):e[0]):e}}]),r.module("a8m.flatten",[]).filter("flatten",function(){return function(e,t){return t=t||!1,e=M(e)?s(e):e,B(e)?t?[].concat.apply([],e):function e(t,r){return(r=r||0)>=t.length?t:B(t[r])?e(t.slice(0,r).concat(t[r],t.slice(r+1)),r):e(t,r+1)}(e,0):e}}),r.module("a8m.fuzzy-by",[]).filter("fuzzyBy",["$parse",function(o){return function(e,t,r,n){var u,i,a=n||!1;return e=M(e)?s(e):e,!B(e)||$(t)||$(r)?e:(i=o(t),e.filter(function(e){return u=i(e),!!x(u)&&(u=a?u:u.toLowerCase(),r=a?r:r.toLowerCase(),!1!==f(u,r))}))}}]),r.module("a8m.fuzzy",[]).filter("fuzzy",function(){return function(e,i,t){var a=t||!1;return e=M(e)?s(e):e,!B(e)||$(i)?e:(i=a?i:i.toLowerCase(),e.filter(function(e){return x(e)?!1!==f(e=a?e:e.toLowerCase(),i):!!M(e)&&(t=e,r=i,0<Object.keys(t).filter(function(e){return n=t[e],!!u||!!x(n)&&(n=a?n:n.toLowerCase(),u=!1!==f(n,r))}).length);var t,r,n,u}))}}),r.module("a8m.group-by",["a8m.filter-watcher"]).filter("groupBy",["$parse","filterWatcher",function(i,a){return function(e,t){return!M(e)||$(t)?e:a.isMemoized("groupBy",arguments)||a.memoize("groupBy",arguments,this,(e=e,r=i(t),u={},N(e,function(e){n=r(e),u[n]||(u[n]=[]),u[n].push(e)}),u));var r,n,u}}]),r.module("a8m.is-empty",[]).filter("isEmpty",function(){return function(e){return M(e)?!s(e).length:!e.length}}),r.module("a8m.join",[]).filter("join",function(){return function(e,t){return $(e)||!B(e)?e:($(t)&&(t=" "),e.join(t))}}),r.module("a8m.last",[]).filter("last",["$parse",function(u){return function(e){var t,r,n,e=F(e),e=M(e)?s(e):e;return B(e)?(n=Array.prototype.slice.call(arguments,1),t=E(n[0])?n[0]:1,r=E(n[0])?E(n[1])?o:n[1]:n[0],n.length?i(e.reverse(),t,r&&u(r)).reverse():e[e.length-1]):e}}]),r.module("a8m.map",[]).filter("map",["$parse",function(r){return function(e,t){return e=M(e)?s(e):e,!B(e)||$(t)?e:e.map(function(e){return r(t)(e)})}}]),r.module("a8m.omit",[]).filter("omit",["$parse",function(r){return function(e,t){return e=M(e)?s(e):e,!B(e)||$(t)?e:e.filter(function(e){return!r(t)(e)})}}]),r.module("a8m.pick",[]).filter("pick",["$parse",function(r){return function(e,t){return e=M(e)?s(e):e,!B(e)||$(t)?e:e.filter(function(e){return r(t)(e)})}}]),r.module("a8m.range",[]).filter("range",function(){return function(e,t,r,n,u){r=r||0,n=n||1;for(var i=0;i<parseInt(t);i++){var a=r+i*n;e.push(O(u)?u(a):a)}return e}}),r.module("a8m.remove-with",[]).filter("removeWith",function(){return function(e,t){return $(t)?e:(e=M(e)?s(e):e).filter(function(e){return!n(t,e)})}}),r.module("a8m.remove",[]).filter("remove",function(){return function(e){e=M(e)?s(e):e;var r=Array.prototype.slice.call(arguments,1);return B(e)?e.filter(function(t){return!r.some(function(e){return j(e,t)})}):e}}),r.module("a8m.reverse",[]).filter("reverse",[function(){return function(e){return e=M(e)?s(e):e,x(e)?e.split("").reverse().join(""):B(e)?e.slice().reverse():e}}]),r.module("a8m.search-field",[]).filter("searchField",["$parse",function(u){return function(e){e=M(e)?s(e):e;var r,n=Array.prototype.slice.call(arguments,1);return B(e)&&n.length?e.map(function(t){return r=n.map(function(e){return u(e)(t)}).join(" "),z(t,{searchField:r})}):e}}]),r.module("a8m.to-array",[]).filter("toArray",function(){return function(t,e){return M(t)?e?Object.keys(t).map(function(e){return z(t[e],{$key:e})}):s(t):t}}),r.module("a8m.unique",[]).filter({unique:["$parse",v],uniq:["$parse",v]}),r.module("a8m.where",[]).filter("where",function(){return function(e,t){return $(t)?e:(e=M(e)?s(e):e).filter(function(e){return n(t,e)})}}),r.module("a8m.xor",[]).filter("xor",["$parse",function(i){return function(t,r,n){function u(t,e){var r=i(n);return e.some(function(e){return n?j(r(e),r(t)):j(e,t)})}return n=n||!1,t=M(t)?s(t):t,r=M(r)?s(r):r,B(t)&&B(r)?t.concat(r).filter(function(e){return!(u(e,t)&&u(e,r))}):t}}]),r.module("a8m.math.abs",[]).filter("abs",function(){return function(e){return Math.abs(e)}}),r.module("a8m.math.byteFmt",[]).filter("byteFmt",function(){var n=[{str:"B",val:1024}];return["KB","MB","GB","TB","PB","EB","ZB","YB"].forEach(function(e,t){n.push({str:e,val:1024*n[t].val})}),function(e,t){if(E(t)&&isFinite(t)&&t%1==0&&0<=t&&E(e)&&isFinite(e)){for(var r=0;r<n.length-1&&e>=n[r].val;)r++;return u(e/=0<r?n[r-1].val:1,t)+" "+n[r].str}return"NaN"}}),r.module("a8m.math.degrees",[]).filter("degrees",function(){return function(e,t){return E(t)&&isFinite(t)&&t%1==0&&0<=t&&E(e)&&isFinite(e)?(e=180*e/Math.PI,Math.round(e*Math.pow(10,t))/Math.pow(10,t)):"NaN"}}),r.module("a8m.math.kbFmt",[]).filter("kbFmt",function(){var n=[{str:"KB",val:1024}];return["MB","GB","TB","PB","EB","ZB","YB"].forEach(function(e,t){n.push({str:e,val:1024*n[t].val})}),function(e,t){if(E(t)&&isFinite(t)&&t%1==0&&0<=t&&E(e)&&isFinite(e)){for(var r=0;r<n.length-1&&e>=n[r].val;)r++;return u(e/=0<r?n[r-1].val:1,t)+" "+n[r].str}return"NaN"}}),r.module("a8m.math.max",[]).filter("max",["$parse",function(n){return function(e,t){return B(e)?$(t)?Math.max.apply(Math,e):e[r=t,(t=(t=e).map(function(e){return n(r)(e)})).indexOf(Math.max.apply(Math,t))]:e;var r}}]),r.module("a8m.math.min",[]).filter("min",["$parse",function(n){return function(e,t){return B(e)?$(t)?Math.min.apply(Math,e):e[r=t,(t=(t=e).map(function(e){return n(r)(e)})).indexOf(Math.min.apply(Math,t))]:e;var r}}]),r.module("a8m.math.percent",[]).filter("percent",function(){return function(e,t,r){var n=x(e)?Number(e):e;return t=t||100,r=r||!1,!E(n)||isNaN(n)?e:r?Math.round(n/t*100):n/t*100}}),r.module("a8m.math.radians",[]).filter("radians",function(){return function(e,t){return E(t)&&isFinite(t)&&t%1==0&&0<=t&&E(e)&&isFinite(e)?Math.round(3.14159265359*e/180*Math.pow(10,t))/Math.pow(10,t):"NaN"}}),r.module("a8m.math.radix",[]).filter("radix",function(){return function(e,t){return E(e)&&/^[2-9]$|^[1-2]\d$|^3[0-6]$/.test(t)?e.toString(t).toUpperCase():e}}),r.module("a8m.math.shortFmt",[]).filter("shortFmt",function(){return function(e,t){return E(t)&&isFinite(t)&&t%1==0&&0<=t&&E(e)&&isFinite(e)?e<1e3?""+e:e<1e6?u(e/1e3,t)+" K":e<1e9?u(e/1e6,t)+" M":u(e/1e9,t)+" B":"NaN"}}),r.module("a8m.math.sum",[]).filter("sum",function(){return function(e,t){return B(e)?e.reduce(function(e,t){return e+t},t||0):e}}),r.module("a8m.ends-with",[]).filter("endsWith",function(){return function(e,t,r){var n,r=r||!1;return!x(e)||$(t)?e:(n=(e=r?e:e.toLowerCase()).length-t.length,-1!==e.indexOf(r?t:t.toLowerCase(),n))}}),r.module("a8m.latinize",[]).filter("latinize",[function(){for(var e=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],t={},r=0;r<e.length;r++)for(var n=e[r].letters.split(""),u=0;u<n.length;u++)t[n[u]]=e[r].base;return function(e){return x(e)?e.replace(/[^\u0000-\u007E]/g,function(e){return t[e]||e}):e}}]),r.module("a8m.ltrim",[]).filter("ltrim",function(){return function(e,t){t=t||"\\s";return x(e)?e.replace(new RegExp("^"+t+"+"),""):e}}),r.module("a8m.match",[]).filter("match",function(){return function(e,t,r){t=new RegExp(t,r);return x(e)?e.match(t):null}}),r.module("a8m.phoneUS",[]).filter("phoneUS",function(){return function(e){return"("+(e+="").slice(0,3)+") "+e.slice(3,6)+"-"+e.slice(6)}}),r.module("a8m.repeat",[]).filter("repeat",[function(){return function(e,t,r){var n=~~t;return x(e)&&n?function e(t,r,n){return r?t+n+e(t,--r,n):t}(e,--t,r||""):e}}]),r.module("a8m.rtrim",[]).filter("rtrim",function(){return function(e,t){t=t||"\\s";return x(e)?e.replace(new RegExp(t+"+$"),""):e}}),r.module("a8m.slugify",[]).filter("slugify",[function(){return function(e,t){t=$(t)?"-":t;return x(e)?e.toLowerCase().replace(/\s+/g,t):e}}]),r.module("a8m.split",[]).filter("split",function(){return function(e,t,r){var n;return $(e)||!x(e)?null:($(t)&&(t=""),isNaN(r)&&(r=0),n=new RegExp(t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"g"),l(n=e.match(n))||r>=n.length?[e]:0===r?e.split(t):(e=(n=e.split(t)).splice(0,r+1),n.unshift(e.join(t)),n))}}),r.module("a8m.starts-with",[]).filter("startsWith",function(){return function(e,t,r){r=r||!1;return!x(e)||$(t)?e:!(e=r?e:e.toLowerCase()).indexOf(r?t:t.toLowerCase())}}),r.module("a8m.stringular",[]).filter("stringular",function(){return function(e){var r=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,function(e,t){return $(r[t])?e:r[t]})}}),r.module("a8m.strip-tags",[]).filter("stripTags",function(){return function(e){return x(e)?e.replace(/<\S[^><]*>/g,""):e}}),r.module("a8m.test",[]).filter("test",function(){return function(e,t,r){t=new RegExp(t,r);return x(e)?t.test(e):e}}),r.module("a8m.trim",[]).filter("trim",function(){return function(e,t){t=t||"\\s";return x(e)?e.replace(new RegExp("^"+t+"+|"+t+"+$","g"),""):e}}),r.module("a8m.truncate",[]).filter("truncate",function(){return function(e,t,r,n){return t=$(t)?e.length:t,n=n||!1,r=r||"",!x(e)||e.length<=t?e:e.substring(0,n?-1===e.indexOf(" ",t)?e.length:e.indexOf(" ",t):t)+r}}),r.module("a8m.ucfirst",[]).filter({ucfirst:y,titleize:y}),r.module("a8m.uri-component-encode",[]).filter("uriComponentEncode",["$window",function(t){return function(e){return x(e)?t.encodeURIComponent(e):e}}]),r.module("a8m.uri-encode",[]).filter("uriEncode",["$window",function(t){return function(e){return x(e)?t.encodeURI(e):e}}]),r.module("a8m.wrap",[]).filter("wrap",function(){return function(e,t,r){return x(e)&&w(t)?[t,e,r||t].join(""):e}}),r.module("a8m.filter-watcher",[]).provider("filterWatcher",function(){this.$get=["$window","$rootScope",function(n,u){function i(e,t){return[e,JSON.stringify(t,(r=[],function(e,t){if(M(t)&&!l(t)){if(~r.indexOf(t))return"[Circular]";r.push(t)}return n==t?"$WINDOW":n.document==t?"$DOCUMENT":c(t)?"$SCOPE":t}))].join("#").replace(/"/g,"");var r}function a(e){e=e.targetScope.$id;N(s[e],function(e){delete o[e]}),delete s[e]}var o={},s={},f=n.setTimeout;return{isMemoized:function(e,t){return e=i(e,t),o[e]},memoize:function(e,t,r,n){var e=i(e,t);return o[e]=n,c(r)?(t=e,r=(e=r).$id,$(s[r])&&(e.$on("$destroy",a),s[r]=[]),s[r].push(t)):f(function(){u.$$phase||(o={})},2e3),n}}}]}),r.module("angular.filter",["a8m.ucfirst","a8m.uri-encode","a8m.uri-component-encode","a8m.slugify","a8m.latinize","a8m.strip-tags","a8m.stringular","a8m.truncate","a8m.starts-with","a8m.ends-with","a8m.wrap","a8m.trim","a8m.ltrim","a8m.rtrim","a8m.repeat","a8m.test","a8m.match","a8m.split","a8m.phoneUS","a8m.to-array","a8m.concat","a8m.contains","a8m.unique","a8m.is-empty","a8m.after","a8m.after-where","a8m.before","a8m.before-where","a8m.defaults","a8m.where","a8m.reverse","a8m.remove","a8m.remove-with","a8m.group-by","a8m.count-by","a8m.chunk-by","a8m.search-field","a8m.fuzzy-by","a8m.fuzzy","a8m.omit","a8m.pick","a8m.every","a8m.filter-by","a8m.xor","a8m.map","a8m.first","a8m.last","a8m.flatten","a8m.join","a8m.range","a8m.math.max","a8m.math.min","a8m.math.abs","a8m.math.percent","a8m.math.radix","a8m.math.sum","a8m.math.degrees","a8m.math.radians","a8m.math.byteFmt","a8m.math.kbFmt","a8m.math.shortFmt","a8m.angular","a8m.conditions","a8m.is-null","a8m.filter-watcher"])}((window,window.angular));
angular.module("cgNotify",[]).factory("notify",["$timeout","$http","$compile","$templateCache","$rootScope",function(r,a,c,o,l){function e(i){(i="object"!=typeof i?{message:i}:i).duration=i.duration||p,i.templateUrl=i.templateUrl||f,i.container=i.container||d,i.classes=i.classes||"";var s=(i.scope||l).$new();if(s.$position=i.position||u,s.$message=i.message,s.$classes=i.classes,s.$messageTemplate=i.messageTemplate,s.$fromBottom=i.fromBottom,0<y)for(var e=h.length+1-y,n=0;n<e;n++)h[n].$close();a.get(i.templateUrl,{cache:o}).then(function(e){var n=c(e.data)(s);if(n.bind("webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd",function(e){("opacity"===e.propertyName||0===e.currentTarget.style.opacity||e.originalEvent&&"opacity"===e.originalEvent.propertyName)&&(n.remove(),$.splice($.indexOf(n),1),h.splice(h.indexOf(s),1),o())}),i.messageTemplate){for(var t,a=0;a<n.children().length;a++)if(angular.element(n.children()[a]).hasClass("cg-notify-message-template")){t=angular.element(n.children()[a]);break}if(!t)throw new Error("cgNotify could not find the .cg-notify-message-template element in "+i.templateUrl+".");t.append(c(i.messageTemplate)(s))}angular.element(i.container).append(n),$.push(n),"center"===s.$position&&r(function(){s.$centerMargin="-"+n[0].offsetWidth/2+"px"}),s.$close=function(){n.css("opacity",0).attr("data-closing","true"),o()};var o=function(){for(var e=g,n=$.length-1;0<=n;n--){var t=$[n],a=t[0].offsetHeight,o=e+a+10;t.attr("data-closing")?o+=20:e+=a+m,(s.$fromBottom?t.css("bottom",o+"px").css("margin-bottom","-"+(a+10)+"px"):t.css("top",o+"px").css("margin-top","-"+(a+10)+"px")).css("visibility","visible"),0}};r(function(){o()}),0<i.duration&&r(function(){s.$close()},i.duration)},function(e){throw new Error("Template specified for cgNotify ("+i.templateUrl+") could not be loaded. "+e)});var t={close:function(){s.$close&&s.$close()}};return Object.defineProperty(t,"message",{get:function(){return s.$message},set:function(e){s.$message=e}}),h.push(s),t}var g=10,m=15,p=1e4,f="angular-notify.html",u="center",d=document.body,y=0,$=[],h=[];return e.config=function(e){g=angular.isUndefined(e.startTop)?g:e.startTop,m=angular.isUndefined(e.verticalSpacing)?m:e.verticalSpacing,p=angular.isUndefined(e.duration)?p:e.duration,f=e.templateUrl||f,u=angular.isUndefined(e.position)?u:e.position,d=e.container||d,y=e.maximumOpen||y},e.closeAll=function(){for(var e=$.length-1;0<=e;e--)$[e].css("opacity",0)},e}]),angular.module("cgNotify").run(["$templateCache",function(e){e.put("angular-notify.html","<div class=\"cg-notify-message\" ng-class=\"[$classes, \n    $position === 'center' ? 'cg-notify-message-center' : '',\n    $position === 'left' ? 'cg-notify-message-left' : '',\n    $position === 'right' ? 'cg-notify-message-right' : '']\"\n    ng-style=\"{'margin-left': $centerMargin}\">\n\n    <div ng-show=\"!$messageTemplate\">\n        {{$message}}\n    </div>\n\n"+'    <div ng-show="$messageTemplate" class="cg-notify-message-template">\n        \n    </div>\n\n    <button type="button" class="cg-notify-close" ng-click="$close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="cg-notify-sr-only">Close</span>\n    </button>\n\n</div>')}]);
angular.module("ngLocale",[],["$provide",function(e){var m="one",M="few",a="many",r="other";e.value("$locale",{DATETIME_FORMATS:{AMPMS:{0:"до полудня",1:"после полудня"},DAY:{0:"воскресенье",1:"понедельник",2:"вторник",3:"среда",4:"четверг",5:"пятница",6:"суббота"},MONTH:{0:"января",1:"февраля",2:"марта",3:"апреля",4:"мая",5:"июня",6:"июля",7:"августа",8:"сентября",9:"октября",10:"ноября",11:"декабря"},SHORTDAY:{0:"вс",1:"пн",2:"вт",3:"ср",4:"чт",5:"пт",6:"сб"},SHORTMONTH:{0:"янв.",1:"февр.",2:"марта",3:"апр.",4:"мая",5:"июня",6:"июля",7:"авг.",8:"сент.",9:"окт.",10:"нояб.",11:"дек."},fullDate:"EEEE, d MMMM y 'г'.",longDate:"d MMMM y 'г'.",medium:"dd.MM.yyyy H:mm:ss",mediumDate:"dd.MM.yyyy",mediumTime:"H:mm:ss",short:"dd.MM.yy H:mm",shortDate:"dd.MM.yy",shortTime:"H:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"руб.",DECIMAL_SEP:",",GROUP_SEP:" ",PATTERNS:{0:{gSize:3,lgSize:3,macFrac:0,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},1:{gSize:3,lgSize:3,macFrac:0,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}}},id:"ru",pluralCat:function(e){return e%10==1&&e%100!=11?m:e==(0|e)&&2<=e%10&&e%10<=4&&(e%100<12||14<e%100)?M:e%10==0||e==(0|e)&&5<=e%10&&e%10<=9||e==(0|e)&&11<=e%100&&e%100<=14?a:r}})}]);
!function(c){function e(e,r,n){var s=n.baseHref(),u=e[0];return function(e,n,o){var t=(o=o||{}).expires,i=c.isDefined(o.path)?o.path:s;c.isUndefined(n)&&(t="Thu, 01 Jan 1970 00:00:00 GMT",n=""),c.isString(t)&&(t=new Date(t)),n=(n=encodeURIComponent(e)+"="+encodeURIComponent(n))+(i?";path="+i:"")+(o.domain?";domain="+o.domain:""),4096<(o=(n=(n=(n+=t?";expires="+t.toUTCString():"")+(o.secure?";secure":""))+(o.samesite?";samesite="+o.samesite:"")).length+1)&&r.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+o+" > 4096 bytes)!"),u.cookie=n}}c.module("ngCookies",["ng"]).info({angularVersion:"1.7.9"}).provider("$cookies",[function(){var i=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(n,t){return{get:function(e){return n()[e]},getObject:function(e){return(e=this.get(e))&&c.fromJson(e)},getAll:function(){return n()},put:function(e,n,o){t(e,n,o?c.extend({},i,o):i)},putObject:function(e,n,o){this.put(e,c.toJson(n),o)},remove:function(e,n){t(e,void 0,n?c.extend({},i,n):i)}}}]}]),e.$inject=["$document","$log","$browser"],c.module("ngCookies").provider("$$cookieWriter",function(){this.$get=e})}((window,window.angular));
!function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("angular")):"function"==typeof define&&define.amd?define(["angular"],t):t(e.angular)}(window,function(e){e.module("angucomplete-alt",[]).directive("angucompleteAlt",["$q","$parse","$http","$sce","$timeout","$templateCache","$interpolate",function(_,e,M,W,z,t,r){var n="/angucomplete-alt.html";function l(s,e,t,n){var r,o,l,a,c,i,u=e.find("input"),d=3,p=null,g="error-field",h=null,f=null,m=!1,v=e[0].querySelector(".angucomplete-dropdown"),S=!1,w=null;function x(e,t){e&&("object"==typeof e?(s.searchStr=y(e),C({originalObject:e}),setTimeout(function(){s.currentIndex=s.localData&&s.selectedObject?s.localData.indexOf(s.selectedObject.originalObject):s.currentIndex},0)):"string"==typeof e&&0<e.length?s.searchStr=e:console&&console.error&&console.error("Tried to set "+(t?"initial":"")+" value of angucomplete to",e,"which is an invalid value"),O(!0))}function b(e){w=null,s.hideResults(e),document.body.removeEventListener("click",b)}function I(e){return e.which||e.keyCode}function C(e){"function"==typeof s.selectedObject?s.selectedObject(e,s.selectedObjectData):s.selectedObject=e,O(!!e)}function y(t){return s.titleField.split(",").map(function(e){return R(t,e)}).join(" ")}function R(e,t){if(t)for(var n=t.split("."),r=e,l=0;l<n.length;l++)r=r[n[l]];else r=e;return r}function D(e,t){var n,t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"i");if(e)return t=(n=(e=e.match&&e.replace?e:e.toString()).match(t))?e.replace(t,'<span class="'+s.matchClass+'">'+n[0]+"</span>"):e,W.trustAsHtml(t)}function O(e){s.notEmpty=e,h=s.searchStr,s.fieldRequired&&n&&s.inputName&&n[s.inputName].$setValidity(g,e)}function F(e){!s.overrideSuggestions||s.selectedObject&&s.selectedObject.originalObject===s.searchStr||(e&&e.preventDefault(),z.cancel(p),H(),C({originalObject:s.searchStr}),s.clearSelected&&(s.searchStr=null),T())}function $(){return e[0].querySelectorAll(".angucomplete-row")[s.currentIndex]}function j(e){v.scrollTop=v.scrollTop+e}function q(){var e=s.results[s.currentIndex];s.matchClass?u.val(y(e.originalObject)):u.val(e.title)}function U(l){return function(e,t,n,r){t||n||r||!e.data||(e=e.data),s.searching=!1,N(R(o(e),s.remoteUrlDataField),l)}}function k(e,t,n,r){s.searching=m,0!==(t=t||n||r?t:e.status)&&-1!==t&&(s.remoteUrlErrorCallback?s.remoteUrlErrorCallback(e,t,n,r):console&&console.error&&console.error("http error"))}function H(){f&&f.resolve()}function E(e){var t={},n=s.remoteUrl+encodeURIComponent(e);s.remoteUrlRequestFormatter&&(t={params:s.remoteUrlRequestFormatter(e)},n=s.remoteUrl),s.remoteUrlRequestWithCredentials&&(t.withCredentials=!0),H(),f=_.defer(),t.timeout=f.promise,m=!0,M.get(n,t).then(U(e)).catch(k).finally(function(){m=!1})}function A(e){H(),f=_.defer(),s.remoteApiHandler(e,f.promise).then(U(e)).catch(k)}function T(){s.showDropdown=!1,s.results=[],v&&(v.scrollTop=0)}function B(){s.showDropdown=a,s.currentIndex=s.focusFirst?0:-1,s.results=[]}function L(t){!t||t.length<d||(s.localData?s.$apply(function(){var e=void 0!==s.localSearch()?s.localSearch()(t,s.localData):function(e){var t,n,r,l,o=s.searchFields.split(","),a=[];for(void 0!==s.parseInput()&&(e=s.parseInput()(e)),t=0;t<s.localData.length;t++){for(n=!1,r=0;r<o.length;r++)l=R(s.localData[t],o[r])||"",n=n||0<=l.toString().toLowerCase().indexOf(e.toString().toLowerCase());n&&(a[a.length]=s.localData[t])}return a}(t);s.searching=!1,N(e,t)}):(s.remoteApiHandler?A:E)(t))}function N(e,t){var n,r,l,o,a,i;if(e&&0<e.length)for(s.results=[],n=0;n<e.length;n++)s.titleField&&""!==s.titleField&&(o=a=y(e[n])),r="",s.descriptionField&&(r=i=R(e[n],s.descriptionField)),l="",s.imageField&&(l=R(e[n],s.imageField)),s.matchClass&&(a=D(o,t),i=D(r,t)),s.results[s.results.length]={title:a,description:i,image:l,originalObject:e[n]};else s.results=[];(!s.autoMatch||1!==s.results.length||!function(e,t,n){if(n)for(var r in t)if(t[r].toLowerCase()===n.toLowerCase())return s.selectResult(e),1}(s.results[0],{title:o,desc:r||""},s.searchStr))&&(0!==s.results.length||c)?s.showDropdown=!0:s.showDropdown=!1}function V(){s.localData?(s.searching=!1,N(s.localData,"")):(s.remoteApiHandler?(s.searching=!0,A):(s.searching=!0,E))("")}e.on("mousedown",function(e){e.target.id?(w=e.target.id)===s.id+"_dropdown"&&document.body.addEventListener("click",b):w=e.target.className}),s.currentIndex=s.focusFirst?0:null,s.searching=!1,l=s.$watch("initialValue",function(e){e&&(l(),x(e,!0))}),s.$watch("fieldRequired",function(e,t){e!==t&&(e?h&&-1!==s.currentIndex?O(!0):O(!1):n[s.inputName].$setValidity(g,!0))}),s.$on("angucomplete-alt:clearInput",function(e,t){t&&t!==s.id||(s.searchStr=null,C(),O(!1),T())}),s.clear=function(e){s.$broadcast("angucomplete-alt:clearInput",e)},s.$on("angucomplete-alt:changeInput",function(e,t,n){t&&t===s.id&&x(n)}),s.onFocusHandler=function(){s.focusIn&&s.focusIn(),!s.dropdownOnFocus&&(0!==d||s.searchStr&&0!==s.searchStr.length)||(z(function(){document.documentElement.clientHeight-e[0].getBoundingClientRect().bottom<v.clientHeight?s.showDropdownOnTop=!0:s.showDropdownOnTop=!1},0),s.currentIndex=s.focusFirst?0:s.currentIndex,s.showDropdown=!0,V())},s.hideResults=function(){w&&(w===s.id+"_dropdown"||0<=w.indexOf("angucomplete"))?w=null:(r=z(function(){T(),s.$apply(function(){s.searchStr&&0<s.searchStr.length&&u.val(s.searchStr)})},200),H(),s.focusOut&&s.focusOut(),s.overrideSuggestions&&s.searchStr&&0<s.searchStr.length&&-1===s.currentIndex&&F())},s.resetHideResults=function(){r&&z.cancel(r)},s.hoverRow=function(e){s.currentIndex=e},s.selectResult=function(e){s.matchClass&&(e.title=y(e.originalObject),e.description=R(e.originalObject,s.descriptionField)),s.searchStr=s.clearSelected?null:e.title,C(e),T()},s.inputChangeHandler=function(e){return e.length<d?(H(),T()):0===e.length&&0===d&&V(),e=s.inputChanged?s.inputChanged(e):e},s.fieldRequiredClass&&""!==s.fieldRequiredClass&&(g=s.fieldRequiredClass),s.minlength&&""!==s.minlength&&(d=parseInt(s.minlength,10)),s.pause||(s.pause=500),s.clearSelected||(s.clearSelected=!1),s.overrideSuggestions||(s.overrideSuggestions=!1),s.fieldRequired&&n&&O(!!s.initialValue),s.inputType=t.type||"text",s.textSearching=t.textSearching||"Поиск...",s.textNoResults=t.textNoResults||"Не найдено",a="false"!==s.textSearching,c="false"!==s.textNoResults,s.maxlength=t.maxlength||524288,u.on("keydown",function(e){var t,n=I(e),r=null;13===n&&s.results?(0<=s.currentIndex&&s.currentIndex<s.results.length?(e.preventDefault(),s.selectResult(s.results[s.currentIndex])):(F(e),T()),s.$apply()):40===n&&s.results?(e.preventDefault(),s.currentIndex+1<s.results.length&&s.showDropdown&&(s.$apply(function(){s.currentIndex++,q()}),S)&&(r=$(),v.getBoundingClientRect().top+parseInt(getComputedStyle(v).maxHeight,10)<r.getBoundingClientRect().bottom)&&j((r=r,t=getComputedStyle(r),r.offsetHeight+parseInt(t.marginTop,10)+parseInt(t.marginBottom,10)))):38===n&&s.results?(e.preventDefault(),1<=s.currentIndex?(s.$apply(function(){s.currentIndex--,q()}),S&&(r=$().getBoundingClientRect().top-(v.getBoundingClientRect().top+parseInt(getComputedStyle(v).paddingTop,10)))<0&&j(r-1)):0===s.currentIndex&&s.$apply(function(){s.currentIndex=-1,u.val(s.searchStr)})):9===n?s.results&&0<s.results.length&&s.showDropdown?-1===s.currentIndex&&s.overrideSuggestions?F():(-1===s.currentIndex&&(s.currentIndex=0),s.selectResult(s.results[s.currentIndex]),s.$digest()):s.searchStr&&0<s.searchStr.length&&F():27===n&&e.preventDefault()}),u.on("keyup compositionend",function(e){var t=I(e);37!==t&&39!==t&&(38===t||13===t?e.preventDefault():40===t?(e.preventDefault(),!s.showDropdown&&s.searchStr&&s.searchStr.length>=d&&(B(),s.searching=!0,L(s.searchStr))):27===t?(T(),s.$apply(function(){u.val(s.searchStr)})):0===d&&!s.searchStr||(s.searchStr&&""!==s.searchStr?s.searchStr.length>=d&&(B(),p&&z.cancel(p),s.searching=!0,p=z(function(){L(s.searchStr)},s.pause)):s.showDropdown=!1,!h)||h===s.searchStr||s.clearSelected||s.$apply(function(){C()}))}),i="remoteUrlResponseFormatter",o=function(e){return s[i]?s[i](e):e},z(function(){var e=getComputedStyle(v);S=e.maxHeight&&"auto"===e.overflowY})}return t.put(n,'<div class="angucomplete-holder" ng-class="{\'angucomplete-dropdown-visible\': showDropdown}">  <input id="{{id}}_value" name="{{inputName}}" tabindex="{{fieldTabindex}}" ng-class="{\'angucomplete-input-not-empty\': notEmpty}" ng-model="searchStr" ng-readonly="readOnlyInput" ng-disabled="disableInput" type="{{inputType}}" maxlength="{{maxlength}}" ng-focus="onFocusHandler()" class="ng-untouched {{inputClass}}" ng-focus="resetHideResults()" ng-blur="hideResults($event)" autocapitalize="off" autocorrect="off" autocomplete="off" ng-change="inputChangeHandler(searchStr)"/><span class="ep-erasefield" ng-click="clear(id)"></span><label class="ep-labelfield">{{placeholder}}</label><span class="ep-errorfield">Заполните это поле</span>  <div id="{{id}}_dropdown" class="angucomplete-dropdown" ng-show="showDropdown" ng-class="{\'angucomplete-dropdown-on-top\': showDropdownOnTop}">    <div class="angucomplete-searching" ng-show="searching" ng-bind="textSearching"></div>    <div class="angucomplete-searching" ng-show="!searching && (!results || results.length == 0)" ng-bind="textNoResults"></div>    <div class="angucomplete-row" ng-repeat="result in results" ng-click="selectResult(result)" ng-mouseenter="hoverRow($index)" ng-class="{\'angucomplete-selected-row\': $index == currentIndex}">      <div ng-if="imageField" class="angucomplete-image-holder">        <img ng-if="result.image && result.image != \'\'" ng-src="{{result.image}}" class="angucomplete-image"/>        <div ng-if="!result.image && result.image != \'\'" class="angucomplete-image-default"></div>      </div>      <div class="angucomplete-title" ng-if="matchClass" ng-bind-html="result.title"></div>      <div class="angucomplete-title" ng-if="!matchClass">{{ result.title }}</div>      <div ng-if="matchClass && result.description && result.description != \'\'" class="angucomplete-description" ng-bind-html="result.description"></div>      <div ng-if="!matchClass && result.description && result.description != \'\'" class="angucomplete-description">{{result.description}}</div>    </div>  </div></div>'),{restrict:"EA",require:"^?form",scope:{selectedObject:"=",selectedObjectData:"=",disableInput:"=",initialValue:"=",localData:"=",localSearch:"&",remoteUrlRequestFormatter:"=",remoteUrlRequestWithCredentials:"@",remoteUrlResponseFormatter:"=",remoteUrlErrorCallback:"=",remoteApiHandler:"=",id:"@",type:"@",placeholder:"@",textSearching:"@",textNoResults:"@",remoteUrl:"@",remoteUrlDataField:"@",titleField:"@",descriptionField:"@",imageField:"@",inputClass:"@",pause:"@",searchFields:"@",minlength:"@",matchClass:"@",clearSelected:"@",overrideSuggestions:"@",fieldRequired:"=",fieldRequiredClass:"@",inputChanged:"=",autoMatch:"@",focusOut:"&",focusIn:"&",fieldTabindex:"@",inputName:"@",focusFirst:"@",parseInput:"&",readOnlyInput:"=",dropdownOnFocus:"@"},templateUrl:function(e,t){return t.templateUrl||n},compile:function(e){var t=r.startSymbol(),n=r.endSymbol();return"{{"===t&&"}}"===n||(t=e.html().replace(/\{\{/g,t).replace(/\}\}/g,n),e.html(t)),l}}}])});
!function(e){var m="application/x-dnd",E="application/json",b="Text",w=["move","copy","link"];function C(e,n){return"all"==n?e:e.filter(function(e){return-1!=n.toLowerCase().indexOf(e)})}e.directive("dndDraggable",["$parse","$timeout",function(l,e){return function(d,o,i){o.attr("draggable","true"),i.dndDisableIf&&d.$watch(i.dndDisableIf,function(e){o.attr("draggable",!e)}),o.on("dragstart",function(n){if(n=n.originalEvent||n,"false"==o.attr("draggable"))return!0;x.isDragging=!0,x.itemType=i.dndType&&d.$eval(i.dndType).toLowerCase(),x.dropEffect="none",x.effectAllowed=i.dndEffectAllowed||w[0],n.dataTransfer.effectAllowed=x.effectAllowed;var t,a=d.$eval(i.dndDraggable),r=m+(x.itemType?"-"+x.itemType:"");try{n.dataTransfer.setData(r,angular.toJson(a))}catch(e){r=angular.toJson({item:a,type:x.itemType});try{n.dataTransfer.setData(E,r)}catch(e){a=C(w,x.effectAllowed);n.dataTransfer.effectAllowed=a[0],n.dataTransfer.setData(b,r)}}o.addClass("dndDragging"),e(function(){o.addClass("dndDraggingSource")},0),n._dndHandle&&n.dataTransfer.setDragImage&&n.dataTransfer.setDragImage(o[0],0,0),l(i.dndDragstart)(d,{event:n}),i.dndCallback&&(t=l(i.dndCallback),x.callback=function(e){return t(d,e||{})}),n.stopPropagation()}),o.on("dragend",function(n){n=n.originalEvent||n,d.$apply(function(){var e=x.dropEffect;l(i[{copy:"dndCopied",link:"dndLinked",move:"dndMoved",none:"dndCanceled"}[e]])(d,{event:n}),l(i.dndDragend)(d,{event:n,dropEffect:e})}),x.isDragging=!1,x.callback=void 0,o.removeClass("dndDragging"),o.removeClass("dndDraggingSource"),n.stopPropagation(),e(function(){o.removeClass("dndDraggingSource")},0)}),o.on("click",function(e){i.dndSelected&&(e=e.originalEvent||e,d.$apply(function(){l(i.dndSelected)(d,{event:e})}),e.stopPropagation())}),o.on("selectstart",function(){this.dragDrop&&this.dragDrop()})}}]),e.directive("dndList",["$parse",function(h){return function(o,d,i){angular.forEach(d.children(),function(e){e=angular.element(e);e.hasClass("dndPlaceholder")&&(n=e)});var n,l=n||angular.element("<li class='dndPlaceholder'></li>"),f=(l.remove(),l[0]),c=d[0],s={};function g(e){if(!e)return b;for(var n=0;n<e.length;n++)if(e[n]==b||e[n]==E||e[n].substr(0,m.length)==m)return e[n];return null}function u(e){return x.isDragging?x.itemType||void 0:e==b||e==E?null:e&&e.substr(m.length+1)||void 0}function p(e){return!s.disabled&&(s.externalSources||x.isDragging)&&(!s.allowedTypes||null===e||e&&-1!=s.allowedTypes.indexOf(e))}function v(e,n){var t=w;return n||(t=C(t,e.dataTransfer.effectAllowed)),x.isDragging&&(t=C(t,x.effectAllowed)),(t=i.dndEffectAllowed?C(t,i.dndEffectAllowed):t).length?e.ctrlKey&&-1!=t.indexOf("copy")?"copy":e.altKey&&-1!=t.indexOf("link")?"link":t[0]:"none"}function D(){return l.remove(),d.removeClass("dndDragover"),!0}function y(e,n,t,a,r,d){return h(e)(o,{callback:x.callback,dropEffect:t,event:n,external:!x.isDragging,index:void 0!==r?r:T(),item:d||void 0,type:a})}function T(){return Array.prototype.indexOf.call(c.children,f)}d.on("dragenter",function(e){e=e.originalEvent||e;var n=i.dndAllowedTypes&&o.$eval(i.dndAllowedTypes),n=(s={allowedTypes:angular.isArray(n)&&n.join("|").toLowerCase().split("|"),disabled:i.dndDisableIf&&o.$eval(i.dndDisableIf),externalSources:i.dndExternalSources&&o.$eval(i.dndExternalSources),horizontal:i.dndHorizontalList&&o.$eval(i.dndHorizontalList)},g(e.dataTransfer.types));if(!n||!p(u(n)))return!0;e.preventDefault()}),d.on("dragover",function(e){var n=g((e=e.originalEvent||e).dataTransfer.types),t=u(n);if(!n||!p(t))return!0;if(f.parentNode!=c&&d.append(l),e.target!=c){for(var a=e.target;a.parentNode!=c&&a.parentNode;)a=a.parentNode;a.parentNode==c&&a!=f&&(r=a.getBoundingClientRect(),r=s.horizontal?e.clientX<r.left+r.width/2:e.clientY<r.top+r.height/2,c.insertBefore(f,r?a:a.nextSibling))}var r=n==b,n=v(e,r);return"none"==n||i.dndDragover&&!y(i.dndDragover,e,n,t)?D():(e.preventDefault(),r||(e.dataTransfer.dropEffect=n),d.addClass("dndDragover"),e.stopPropagation(),!1)}),d.on("drop",function(e){var n,t,a=g((e=e.originalEvent||e).dataTransfer.types),r=u(a);if(!a||!p(r))return!0;e.preventDefault();try{var d=JSON.parse(e.dataTransfer.getData(a))}catch(e){return D()}return!(a!=b&&a!=E||(r=d.type||void 0,d=d.item,p(r)))||"none"==(n=v(e,a=a==b))||(t=T(),i.dndDrop&&!(d=y(i.dndDrop,e,n,r,t,d)))?D():(x.dropEffect=n,a||(e.dataTransfer.dropEffect=n),!0!==d&&o.$apply(function(){o.$eval(i.dndList).splice(t,0,d)}),y(i.dndInserted,e,n,r,t,d),D(),e.stopPropagation(),!1)}),d.on("dragleave",function(e){e=e.originalEvent||e;var n=document.elementFromPoint(e.clientX,e.clientY);c.contains(n)&&!e._dndPhShown?e._dndPhShown=!0:D()})}}]),e.directive("dndNodrag",function(){return function(e,n,t){n.attr("draggable","true"),n.on("dragstart",function(e){(e=e.originalEvent||e)._dndHandle||(e.dataTransfer.types&&e.dataTransfer.types.length||e.preventDefault(),e.stopPropagation())}),n.on("dragend",function(e){(e=e.originalEvent||e)._dndHandle||e.stopPropagation()})}}),e.directive("dndHandle",function(){return function(e,n,t){n.attr("draggable","true"),n.on("dragstart dragend",function(e){(e=e.originalEvent||e)._dndHandle=!0})}});var x={}}(angular.module("dndLists",[]));
!function(i,t){var s;"function"==typeof define&&define.amd?define(["angular"],t):"object"==typeof module&&module.exports?((s=angular||require("angular"))&&s.module||"undefined"==typeof angular||(s=angular),module.exports=t(s)):t(i.angular)}(this,function(r){var i=r.module("rzSlider",[]).factory("RzSliderOptions",function(){var t={floor:0,ceil:null,step:1,precision:0,minRange:null,maxRange:null,restrictedRange:null,pushRange:!1,minLimit:null,maxLimit:null,id:null,translate:null,getLegend:null,stepsArray:null,bindIndexForStepsArray:!1,draggableRange:!1,draggableRangeOnly:!1,showSelectionBar:!1,showSelectionBarEnd:!1,showSelectionBarFromValue:null,showOuterSelectionBars:!1,hidePointerLabels:!1,hideLimitLabels:!1,autoHideLimitLabels:!0,readOnly:!1,disabled:!1,interval:350,showTicks:!1,showTicksValues:!1,ticksArray:null,ticksTooltip:null,ticksValuesTooltip:null,vertical:!1,getSelectionBarColor:null,getTickColor:null,getPointerColor:null,keyboardSupport:!0,scale:1,enforceStep:!0,enforceRange:!1,noSwitching:!1,onlyBindHandles:!1,disableAnimation:!1,onStart:null,onChange:null,onEnd:null,rightToLeft:!1,reversedControls:!1,boundPointerLabels:!0,mergeRangeLabelsIfSame:!1,labelOverlapSeparator:" - ",customTemplateScope:null,logScale:!1,customValueToPosition:null,customPositionToValue:null,selectionBarGradient:null,ariaLabel:null,ariaLabelledBy:null,ariaLabelHigh:null,ariaLabelledByHigh:null},s={},i={options:function(i){r.extend(s,i)},getOptions:function(i){return r.extend({},t,s,i)}};return i}).factory("rzThrottle",["$timeout",function(c){return function(s,e,n){function o(){p=r(),u=null,l=s.apply(a,h),a=h=null}var a,h,l,r=Date.now||function(){return(new Date).getTime()},u=null,p=0;n=n||{};return function(){var i=r(),t=e-(i-p);return a=this,h=arguments,t<=0?(c.cancel(u),u=null,p=i,l=s.apply(a,h),a=h=null):u||!1===n.trailing||(u=c(o,t)),l}}}]).factory("RzSlider",["$timeout","$document","$window","$compile","RzSliderOptions","rzThrottle",function(e,n,t,i,s,o){function a(i,t){this.scope=i,this.lowValue=0,this.highValue=0,this.sliderElem=t,this.range=void 0!==this.scope.rzSliderModel&&void 0!==this.scope.rzSliderHigh,this.dragging={active:!1,value:0,difference:0,position:0,lowLimit:0,highLimit:0},this.positionProperty="left",this.dimensionProperty="width",this.handleHalfDim=0,this.maxPos=0,this.precision=0,this.step=1,this.tracking="",this.minValue=0,this.maxValue=0,this.valueRange=0,this.intermediateTicks=!1,this.initHasRun=!1,this.firstKeyDown=!1,this.internalChange=!1,this.cmbLabelShown=!1,this.currentFocusElement=null,this.moving=!1,this.fullBar=null,this.selBar=null,this.minH=null,this.maxH=null,this.flrLab=null,this.ceilLab=null,this.minLab=null,this.maxLab=null,this.cmbLab=null,this.ticks=null,this.init()}return a.prototype={init:function(){function i(){n.calcViewDimensions()}var s,e,n=this;this.applyOptions(),this.syncLowValue(),this.range&&this.syncHighValue(),this.initElemHandles(),this.manageElementsStyle(),this.setDisabledState(),this.calcViewDimensions(),this.setMinAndMax(),this.updateRestrictionBar(),this.addAccessibility(),this.updateCeilLab(),this.updateFloorLab(),this.initHandles(),this.manageEventsBindings(),this.scope.$on("reCalcViewDimensions",i),r.element(t).on("resize",i),this.initHasRun=!0,this.options.disableAnimation&&this.sliderElem.addClass("noanimate"),s=o(function(){n.onLowHandleChange()},n.options.interval),e=o(function(){n.onHighHandleChange()},n.options.interval),this.scope.$on("rzSliderForceRender",function(){n.resetLabelsValue(),s(),n.range&&e(),n.resetSlider()}),this.scope.$watchCollection("rzSliderOptions()",function(i,t){i!==t&&(n.applyOptions(),n.syncLowValue(),n.range&&n.syncHighValue(),n.resetSlider())}),this.scope.$watch("rzSliderModel",function(i,t){n.internalChange||i!==t&&s()}),this.scope.$watch("rzSliderHigh",function(i,t){n.internalChange||i!==t&&(null!=i&&e(),n.range&&null==i||!n.range&&null!=i)&&(n.applyOptions(),n.resetSlider())}),this.scope.$on("$destroy",function(){n.unbindEvents(),r.element(t).off("resize",i),n.currentFocusElement=null})},findStepIndex:function(i){for(var t=0,s=0;s<this.options.stepsArray.length;s++){var e=this.options.stepsArray[s];if(e===i){t=s;break}if(r.isDate(e)){if(e.getTime()===i.getTime()){t=s;break}}else if(r.isObject(e)&&(r.isDate(e.value)&&e.value.getTime()===i.getTime()||e.value===i)){t=s;break}}return t},syncLowValue:function(){!this.options.stepsArray||this.options.bindIndexForStepsArray?this.lowValue=this.scope.rzSliderModel:this.lowValue=this.findStepIndex(this.scope.rzSliderModel)},syncHighValue:function(){!this.options.stepsArray||this.options.bindIndexForStepsArray?this.highValue=this.scope.rzSliderHigh:this.highValue=this.findStepIndex(this.scope.rzSliderHigh)},getStepValue:function(i){i=this.options.stepsArray[i];return!r.isDate(i)&&r.isObject(i)?i.value:i},applyLowValue:function(){!this.options.stepsArray||this.options.bindIndexForStepsArray?this.scope.rzSliderModel=this.lowValue:this.scope.rzSliderModel=this.getStepValue(this.lowValue)},applyHighValue:function(){!this.options.stepsArray||this.options.bindIndexForStepsArray?this.scope.rzSliderHigh=this.highValue:this.scope.rzSliderHigh=this.getStepValue(this.highValue)},onLowHandleChange:function(){this.syncLowValue(),this.range&&this.syncHighValue(),this.setMinAndMax(),this.updateLowHandle(this.valueToPosition(this.lowValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCmbLabel()},onHighHandleChange:function(){this.syncLowValue(),this.syncHighValue(),this.setMinAndMax(),this.updateHighHandle(this.valueToPosition(this.highValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateCmbLabel(),this.updateAriaAttributes()},applyOptions:function(){var i=this.scope.rzSliderOptions?this.scope.rzSliderOptions():{};this.options=s.getOptions(i),this.options.step<=0&&(this.options.step=1),this.range=void 0!==this.scope.rzSliderModel&&void 0!==this.scope.rzSliderHigh,this.options.draggableRange=this.range&&this.options.draggableRange,this.options.draggableRangeOnly=this.range&&this.options.draggableRangeOnly,this.options.draggableRangeOnly&&(this.options.draggableRange=!0),this.options.showTicks=this.options.showTicks||this.options.showTicksValues||!!this.options.ticksArray,this.scope.showTicks=this.options.showTicks,(r.isNumber(this.options.showTicks)||this.options.ticksArray)&&(this.intermediateTicks=!0),this.options.showSelectionBar=this.options.showSelectionBar||this.options.showSelectionBarEnd||null!==this.options.showSelectionBarFromValue,this.options.stepsArray?this.parseStepsArray():(this.options.translate?this.customTrFn=this.options.translate:this.customTrFn=function(i){return String(i)},this.getLegend=this.options.getLegend),this.options.vertical?(this.positionProperty="bottom",this.dimensionProperty="height"):(this.positionProperty="left",this.dimensionProperty="width"),this.options.customTemplateScope&&(this.scope.custom=this.options.customTemplateScope)},parseStepsArray:function(){this.options.floor=0,this.options.ceil=this.options.stepsArray.length-1,this.options.step=1,this.options.translate?this.customTrFn=this.options.translate:this.customTrFn=function(i){return this.options.bindIndexForStepsArray?this.getStepValue(i):i},this.getLegend=function(i){i=this.options.stepsArray[i];return r.isObject(i)?i.legend:null}},resetSlider:function(){this.resetLabelsValue(),this.manageElementsStyle(),this.addAccessibility(),this.setMinAndMax(),this.updateCeilLab(),this.updateFloorLab(),this.unbindEvents(),this.manageEventsBindings(),this.setDisabledState(),this.calcViewDimensions(),this.updateRestrictionBar(),this.refocusPointerIfNeeded()},refocusPointerIfNeeded:function(){this.currentFocusElement&&(this.onPointerFocus(this.currentFocusElement.pointer,this.currentFocusElement.ref),this.focusElement(this.currentFocusElement.pointer))},initElemHandles:function(){r.forEach(this.sliderElem.children(),function(i,t){var s=r.element(i);switch(t){case 0:this.leftOutSelBar=s;break;case 1:this.rightOutSelBar=s;break;case 2:this.fullBar=s;break;case 3:this.selBar=s;break;case 4:this.restrictedBar=s;break;case 5:this.minH=s;break;case 6:this.maxH=s;break;case 7:this.flrLab=s;break;case 8:this.ceilLab=s;break;case 9:this.minLab=s;break;case 10:this.maxLab=s;break;case 11:this.cmbLab=s;break;case 12:this.ticks=s}},this),this.selBar.rzsp=0,this.minH.rzsp=0,this.maxH.rzsp=0,this.flrLab.rzsp=0,this.ceilLab.rzsp=0,this.minLab.rzsp=0,this.maxLab.rzsp=0,this.cmbLab.rzsp=0},manageElementsStyle:function(){this.range?this.maxH.css("display",""):this.maxH.css("display","none"),this.alwaysHide(this.flrLab,this.options.showTicksValues||this.options.hideLimitLabels),this.alwaysHide(this.ceilLab,this.options.showTicksValues||this.options.hideLimitLabels);var i=this.options.showTicksValues&&!this.intermediateTicks;this.alwaysHide(this.minLab,i||this.options.hidePointerLabels),this.alwaysHide(this.maxLab,i||!this.range||this.options.hidePointerLabels),this.alwaysHide(this.cmbLab,i||!this.range||this.options.hidePointerLabels),this.alwaysHide(this.selBar,!this.range&&!this.options.showSelectionBar),this.alwaysHide(this.leftOutSelBar,!this.range||!this.options.showOuterSelectionBars),this.alwaysHide(this.restrictedBar,!this.options.restrictedRange),this.alwaysHide(this.rightOutSelBar,!this.range||!this.options.showOuterSelectionBars),this.range&&this.options.showOuterSelectionBars&&this.fullBar.addClass("rz-transparent"),this.options.vertical?this.sliderElem.addClass("rz-vertical"):this.sliderElem.removeClass("rz-vertical"),this.options.draggableRange?this.selBar.addClass("rz-draggable"):this.selBar.removeClass("rz-draggable"),this.intermediateTicks&&this.options.showTicksValues&&this.ticks.addClass("rz-ticks-values-under")},alwaysHide:function(i,t){(i.rzAlwaysHide=t)?this.hideEl(i):this.showEl(i)},manageEventsBindings:function(){this.options.disabled||this.options.readOnly?this.unbindEvents():this.bindEvents()},setDisabledState:function(){this.options.disabled?this.sliderElem.attr("disabled","disabled"):this.sliderElem.attr("disabled",null)},resetLabelsValue:function(){this.minLab.rzsv=void 0,this.maxLab.rzsv=void 0,this.flrLab.rzsv=void 0,this.ceilLab.rzsv=void 0,this.cmbLab.rzsv=void 0,this.resetPosition(this.flrLab),this.resetPosition(this.ceilLab),this.resetPosition(this.cmbLab),this.resetPosition(this.minLab),this.resetPosition(this.maxLab)},initHandles:function(){this.updateLowHandle(this.valueToPosition(this.lowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.highValue)),this.updateSelectionBar(),this.range&&this.updateCmbLabel(),this.updateTicksScale()},translateFn:function(i,t,s,e){e=void 0===e||e;var n="",o=!1,a=t.hasClass("no-label-injection"),n=e?(this.options.stepsArray&&!this.options.bindIndexForStepsArray&&(i=this.getStepValue(i)),String(this.customTrFn(i,this.options.id,s))):String(i);(void 0===t.rzsv||t.rzsv.length!==n.length||0<t.rzsv.length&&0===t.rzsd)&&(o=!0,t.rzsv=n),a||t.html(n),this.scope[s+"Label"]=n,o&&this.getDimension(t)},setMinAndMax:function(){if(this.step=+this.options.step,this.precision=+this.options.precision,this.minValue=this.options.floor,this.options.logScale&&0===this.minValue)throw Error("Can't use floor=0 with logarithmic scale");this.options.enforceStep&&(this.lowValue=this.roundStep(this.lowValue),this.range)&&(this.highValue=this.roundStep(this.highValue)),null!=this.options.ceil?this.maxValue=this.options.ceil:this.maxValue=this.options.ceil=this.range?this.highValue:this.lowValue,this.options.enforceRange&&(this.lowValue=this.sanitizeValue(this.lowValue),this.range)&&(this.highValue=this.sanitizeValue(this.highValue)),this.applyLowValue(),this.range&&this.applyHighValue(),this.valueRange=this.maxValue-this.minValue},addAccessibility:function(){this.minH.attr("role","slider"),this.updateAriaAttributes(),!this.options.keyboardSupport||this.options.readOnly||this.options.disabled?this.minH.attr("tabindex",""):this.minH.attr("tabindex","0"),this.options.vertical?this.minH.attr("aria-orientation","vertical"):this.minH.attr("aria-orientation","horizontal"),this.options.ariaLabel?this.minH.attr("aria-label",this.options.ariaLabel):this.options.ariaLabelledBy&&this.minH.attr("aria-labelledby",this.options.ariaLabelledBy),this.range&&(this.maxH.attr("role","slider"),!this.options.keyboardSupport||this.options.readOnly||this.options.disabled?this.maxH.attr("tabindex",""):this.maxH.attr("tabindex","0"),this.options.vertical?this.maxH.attr("aria-orientation","vertical"):this.maxH.attr("aria-orientation","horizontal"),this.options.ariaLabelHigh?this.maxH.attr("aria-label",this.options.ariaLabelHigh):this.options.ariaLabelledByHigh&&this.maxH.attr("aria-labelledby",this.options.ariaLabelledByHigh))},updateAriaAttributes:function(){this.minH.attr({"aria-valuenow":this.scope.rzSliderModel,"aria-valuetext":this.customTrFn(this.scope.rzSliderModel,this.options.id,"model"),"aria-valuemin":this.minValue,"aria-valuemax":this.maxValue}),this.range&&this.maxH.attr({"aria-valuenow":this.scope.rzSliderHigh,"aria-valuetext":this.customTrFn(this.scope.rzSliderHigh,this.options.id,"high"),"aria-valuemin":this.minValue,"aria-valuemax":this.maxValue})},calcViewDimensions:function(){var i,t=this.getDimension(this.minH);this.handleHalfDim=t/2,this.barDimension=this.getDimension(this.fullBar),this.maxPos=this.barDimension-t,this.getDimension(this.sliderElem),this.sliderElem.rzsp=this.sliderElem[0].getBoundingClientRect()[this.positionProperty],this.initHasRun&&(this.updateFloorLab(),this.updateCeilLab(),this.initHandles(),i=this,e(function(){i.updateTicksScale()}))},updateTicksScale:function(){var i,e,n;this.options.showTicks&&(i=this.options.ticksArray||this.getTicksArray(),e=this.options.vertical?"translateY":"translateX",(n=this).options.rightToLeft&&i.reverse(),this.scope.ticks=i.map(function(i){var t=null,s=(r.isObject(i)&&(t=i.legend,i=i.value),n.valueToPosition(i)),s=(n.options.vertical&&(s=n.maxPos-s),e+"("+Math.round(s)+"px)"),s={legend:t,selected:n.isTickSelected(i),style:{"-webkit-transform":s,"-moz-transform":s,"-o-transform":s,"-ms-transform":s,transform:s}};return s.selected&&n.options.getSelectionBarColor&&(s.style["background-color"]=n.getSelectionBarColor()),!s.selected&&n.options.getTickColor&&(s.style["background-color"]=n.getTickColor(i)),n.options.ticksTooltip&&(s.tooltip=n.options.ticksTooltip(i),s.tooltipPlacement=n.options.vertical?"right":"top"),!0!==n.options.showTicksValues&&i%n.options.showTicksValues!=0||(s.value=n.getDisplayValue(i,"tick-value"),n.options.ticksValuesTooltip&&(s.valueTooltip=n.options.ticksValuesTooltip(i),s.valueTooltipPlacement=n.options.vertical?"right":"top")),n.getLegend&&(t=n.getLegend(i,n.options.id))&&(s.legend=t),s}))},getTicksArray:function(){var i=this.step,t=[];this.intermediateTicks&&(i=this.options.showTicks);for(var s=this.minValue;s<=this.maxValue;s+=i)t.push(s);return t},isTickSelected:function(i){if(!this.range)if(null!==this.options.showSelectionBarFromValue){var t=this.options.showSelectionBarFromValue;if(this.lowValue>t&&t<=i&&i<=this.lowValue)return!0;if(this.lowValue<t&&i<=t&&i>=this.lowValue)return!0}else if(this.options.showSelectionBarEnd){if(i>=this.lowValue)return!0}else if(this.options.showSelectionBar&&i<=this.lowValue)return!0;return!!(this.range&&i>=this.lowValue&&i<=this.highValue)},updateFloorLab:function(){this.translateFn(this.minValue,this.flrLab,"floor"),this.getDimension(this.flrLab);var i=this.options.rightToLeft?this.barDimension-this.flrLab.rzsd:0;this.setPosition(this.flrLab,i)},updateCeilLab:function(){this.translateFn(this.maxValue,this.ceilLab,"ceil"),this.getDimension(this.ceilLab);var i=this.options.rightToLeft?0:this.barDimension-this.ceilLab.rzsd;this.setPosition(this.ceilLab,i)},updateHandles:function(i,t){"lowValue"===i?this.updateLowHandle(t):this.updateHighHandle(t),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCmbLabel()},getHandleLabelPos:function(i,t){var s=this[i].rzsd,t=t-s/2+this.handleHalfDim,s=this.barDimension-s;return this.options.boundPointerLabels?this.options.rightToLeft&&"minLab"===i||!this.options.rightToLeft&&"maxLab"===i?Math.min(t,s):Math.min(Math.max(t,0),s):t},updateLowHandle:function(i){this.setPosition(this.minH,i),this.translateFn(this.lowValue,this.minLab,"model"),this.setPosition(this.minLab,this.getHandleLabelPos("minLab",i)),this.options.getPointerColor&&(i=this.getPointerColor("min"),this.scope.minPointerStyle={backgroundColor:i}),this.options.autoHideLimitLabels&&this.shFloorCeil()},updateHighHandle:function(i){this.setPosition(this.maxH,i),this.translateFn(this.highValue,this.maxLab,"high"),this.setPosition(this.maxLab,this.getHandleLabelPos("maxLab",i)),this.options.getPointerColor&&(i=this.getPointerColor("max"),this.scope.maxPointerStyle={backgroundColor:i}),this.options.autoHideLimitLabels&&this.shFloorCeil()},shFloorCeil:function(){var i,t,s,e,n,o,a;this.options.hidePointerLabels||(t=i=!1,s=this.isLabelBelowFloorLab(this.minLab),o=this.isLabelAboveCeilLab(this.minLab),e=this.isLabelAboveCeilLab(this.maxLab),n=this.isLabelBelowFloorLab(this.cmbLab),a=this.isLabelAboveCeilLab(this.cmbLab),s?(i=!0,this.hideEl(this.flrLab)):(i=!1,this.showEl(this.flrLab)),o?(t=!0,this.hideEl(this.ceilLab)):(t=!1,this.showEl(this.ceilLab)),this.range&&(o=this.cmbLabelShown?a:e,a=this.cmbLabelShown?n:s,o?this.hideEl(this.ceilLab):t||this.showEl(this.ceilLab),a?this.hideEl(this.flrLab):i||this.showEl(this.flrLab)))},isLabelBelowFloorLab:function(i){var t=this.options.rightToLeft,s=i.rzsp,e=this.flrLab.rzsp,n=this.flrLab.rzsd;return t?e-2<=s+i.rzsd:s<=e+n+2},isLabelAboveCeilLab:function(i){var t=this.options.rightToLeft,s=i.rzsp,e=this.ceilLab.rzsp,n=this.ceilLab.rzsd;return t?s<=e+n+2:e-2<=s+i.rzsd},updateRestrictionBar:function(){var i,t,s=0,e=0;this.options.restrictedRange&&(i=this.valueToPosition(this.options.restrictedRange.from),t=this.valueToPosition(this.options.restrictedRange.to),e=Math.abs(t-i),s=this.options.rightToLeft?t+this.handleHalfDim:i+this.handleHalfDim,this.setDimension(this.restrictedBar,e),this.setPosition(this.restrictedBar,s))},updateSelectionBar:function(){var i,t=0,s=0,e=this.options.rightToLeft?!this.options.showSelectionBarEnd:this.options.showSelectionBarEnd,n=this.options.rightToLeft?this.maxH.rzsp+this.handleHalfDim:this.minH.rzsp+this.handleHalfDim;t=this.range?(s=Math.abs(this.maxH.rzsp-this.minH.rzsp),n):null!==this.options.showSelectionBarFromValue?(n=this.options.showSelectionBarFromValue,i=this.valueToPosition(n),(this.options.rightToLeft?this.lowValue<=n:this.lowValue>n)?(s=this.minH.rzsp-i,i+this.handleHalfDim):(s=i-this.minH.rzsp,this.minH.rzsp+this.handleHalfDim)):e?(s=Math.abs(this.maxPos-this.minH.rzsp)+this.handleHalfDim,this.minH.rzsp+this.handleHalfDim):(s=this.minH.rzsp+this.handleHalfDim,0),this.setDimension(this.selBar,s),this.setPosition(this.selBar,t),this.range&&this.options.showOuterSelectionBars&&(this.options.rightToLeft?(this.setDimension(this.rightOutSelBar,t),this.setPosition(this.rightOutSelBar,0),this.setDimension(this.leftOutSelBar,this.getDimension(this.fullBar)-(t+s)),this.setPosition(this.leftOutSelBar,t+s)):(this.setDimension(this.leftOutSelBar,t),this.setPosition(this.leftOutSelBar,0),this.setDimension(this.rightOutSelBar,this.getDimension(this.fullBar)-(t+s)),this.setPosition(this.rightOutSelBar,t+s))),this.options.getSelectionBarColor?(n=this.getSelectionBarColor(),this.scope.barStyle={backgroundColor:n}):this.options.selectionBarGradient&&(n=0<(i=null!==this.options.showSelectionBarFromValue?this.valueToPosition(this.options.showSelectionBarFromValue):0)-t^e,e=this.options.vertical?n?"bottom":"top":n?"left":"right",this.scope.barStyle={backgroundImage:"linear-gradient(to "+e+", "+this.options.selectionBarGradient.from+" 0%,"+this.options.selectionBarGradient.to+" 100%)"},this.options.vertical?(this.scope.barStyle.backgroundPosition="center "+(i+s+t+(n?-this.handleHalfDim:0))+"px",this.scope.barStyle.backgroundSize="100% "+(this.barDimension-this.handleHalfDim)+"px"):(this.scope.barStyle.backgroundPosition=i-t+(n?this.handleHalfDim:0)+"px center",this.scope.barStyle.backgroundSize=this.barDimension-this.handleHalfDim+"px 100%"))},getSelectionBarColor:function(){return this.range?this.options.getSelectionBarColor(this.scope.rzSliderModel,this.scope.rzSliderHigh):this.options.getSelectionBarColor(this.scope.rzSliderModel)},getPointerColor:function(i){return"max"===i?this.options.getPointerColor(this.scope.rzSliderHigh,i):this.options.getPointerColor(this.scope.rzSliderModel,i)},getTickColor:function(i){return this.options.getTickColor(i)},updateCmbLabel:function(){var i,t,s;(this.options.rightToLeft?this.minLab.rzsp-this.minLab.rzsd-10<=this.maxLab.rzsp:this.minLab.rzsp+this.minLab.rzsd+10>=this.maxLab.rzsp)?(s=this.getDisplayValue(this.lowValue,"model"),i=this.getDisplayValue(this.highValue,"high"),t="",t=this.options.mergeRangeLabelsIfSame&&s===i?s:this.options.rightToLeft?i+this.options.labelOverlapSeparator+s:s+this.options.labelOverlapSeparator+i,this.translateFn(t,this.cmbLab,"cmb",!1),s=this.options.boundPointerLabels?Math.min(Math.max(this.selBar.rzsp+this.selBar.rzsd/2-this.cmbLab.rzsd/2,0),this.barDimension-this.cmbLab.rzsd):this.selBar.rzsp+this.selBar.rzsd/2-this.cmbLab.rzsd/2,this.setPosition(this.cmbLab,s),this.cmbLabelShown=!0,this.hideEl(this.minLab),this.hideEl(this.maxLab),this.showEl(this.cmbLab)):(this.cmbLabelShown=!1,this.updateHighHandle(this.valueToPosition(this.highValue)),this.updateLowHandle(this.valueToPosition(this.lowValue)),this.showEl(this.maxLab),this.showEl(this.minLab),this.hideEl(this.cmbLab)),this.options.autoHideLimitLabels&&this.shFloorCeil()},getDisplayValue:function(i,t){return this.options.stepsArray&&!this.options.bindIndexForStepsArray&&(i=this.getStepValue(i)),this.customTrFn(i,this.options.id,t)},roundStep:function(i,t){t=t||this.step,i=parseFloat((i-this.minValue)/t).toPrecision(12),i=Math.round(+i)*t;return+(this.minValue+i).toFixed(this.precision)},hideEl:function(i){return i.css({visibility:"hidden"})},showEl:function(i){return i.rzAlwaysHide?i:i.css({visibility:"visible"})},setPosition:function(i,t){i.rzsp=t;var s={};return s[this.positionProperty]=Math.round(t)+"px",i.css(s),t},resetPosition:function(i){i.css({left:null,bottom:null})},getDimension:function(i){var t=i[0].getBoundingClientRect();return this.options.vertical?i.rzsd=(t.bottom-t.top)*this.options.scale:i.rzsd=(t.right-t.left)*this.options.scale,i.rzsd},setDimension:function(i,t){i.rzsd=t;var s={};return s[this.dimensionProperty]=Math.round(t)+"px",i.css(s),t},sanitizeValue:function(i){return Math.min(Math.max(i,this.minValue),this.maxValue)},valueToPosition:function(i){var t=this.linearValueToPosition,t=(this.options.customValueToPosition?t=this.options.customValueToPosition:this.options.logScale&&(t=this.logValueToPosition),t(i=this.sanitizeValue(i),this.minValue,this.maxValue)||0);return(t=this.options.rightToLeft?1-t:t)*this.maxPos},linearValueToPosition:function(i,t,s){return(i-t)/(s-t)},logValueToPosition:function(i,t,s){return((i=Math.log(i))-(t=Math.log(t)))/((s=Math.log(s))-t)},positionToValue:function(i){var i=i/this.maxPos,t=(this.options.rightToLeft&&(i=1-i),this.linearPositionToValue);return this.options.customPositionToValue?t=this.options.customPositionToValue:this.options.logScale&&(t=this.logPositionToValue),t(i,this.minValue,this.maxValue)||0},linearPositionToValue:function(i,t,s){return i*(s-t)+t},logPositionToValue:function(i,t,s){return t=Math.log(t),s=Math.log(s),Math.exp(i*(s-t)+t)},getEventAttr:function(i,t){return(void 0===i.originalEvent?i:i.originalEvent)[t]},getEventXY:function(i,t){var s=this.options.vertical?"clientY":"clientX";if(void 0!==i[s])return i[s];var e=this.getEventAttr(i,"touches");if(void 0!==t)for(var n=0;n<e.length;n++)if(e[n].identifier===t)return e[n][s];return e[0][s]},getEventPosition:function(i,t){var s=this.sliderElem.rzsp;return(this.options.vertical?-this.getEventXY(i,t)+s:this.getEventXY(i,t)-s)*this.options.scale-this.handleHalfDim},getEventNames:function(i){var t={moveEvent:"",endEvent:""};return this.getEventAttr(i,"touches")?(t.moveEvent="touchmove",t.endEvent="touchend"):(t.moveEvent="mousemove",t.endEvent="mouseup"),t},getNearestHandle:function(i){var t,s;return!this.range||(i=this.getEventPosition(i),(t=Math.abs(i-this.minH.rzsp))<(s=Math.abs(i-this.maxH.rzsp)))?this.minH:s<t?this.maxH:this.options.rightToLeft?i>this.minH.rzsp?this.minH:this.maxH:i<this.minH.rzsp?this.minH:this.maxH},focusElement:function(i){i[0].focus()},bindEvents:function(){var i,t,s=this.options.draggableRange?(i="rzSliderDrag",t=this.onDragStart,this.onDragMove):(i="lowValue",t=this.onStart,this.onMove);this.options.onlyBindHandles||(this.selBar.on("mousedown",r.bind(this,t,null,i)),this.selBar.on("mousedown",r.bind(this,s,this.selBar))),this.options.draggableRangeOnly?(this.minH.on("mousedown",r.bind(this,t,null,i)),this.maxH.on("mousedown",r.bind(this,t,null,i))):(this.minH.on("mousedown",r.bind(this,this.onStart,this.minH,"lowValue")),this.range&&this.maxH.on("mousedown",r.bind(this,this.onStart,this.maxH,"highValue")),this.options.onlyBindHandles||(this.fullBar.on("mousedown",r.bind(this,this.onStart,null,null)),this.fullBar.on("mousedown",r.bind(this,this.onMove,this.fullBar)),this.ticks.on("mousedown",r.bind(this,this.onStart,null,null)),this.ticks.on("mousedown",r.bind(this,this.onTickClick,this.ticks)))),this.options.onlyBindHandles||(this.selBar.on("touchstart",r.bind(this,t,null,i)),this.selBar.on("touchstart",r.bind(this,s,this.selBar))),this.options.draggableRangeOnly?(this.minH.on("touchstart",r.bind(this,t,null,i)),this.maxH.on("touchstart",r.bind(this,t,null,i))):(this.minH.on("touchstart",r.bind(this,this.onStart,this.minH,"lowValue")),this.range&&this.maxH.on("touchstart",r.bind(this,this.onStart,this.maxH,"highValue")),this.options.onlyBindHandles||(this.fullBar.on("touchstart",r.bind(this,this.onStart,null,null)),this.fullBar.on("touchstart",r.bind(this,this.onMove,this.fullBar)),this.ticks.on("touchstart",r.bind(this,this.onStart,null,null)),this.ticks.on("touchstart",r.bind(this,this.onTickClick,this.ticks)))),this.options.keyboardSupport&&(this.minH.on("focus",r.bind(this,this.onPointerFocus,this.minH,"lowValue")),this.range)&&this.maxH.on("focus",r.bind(this,this.onPointerFocus,this.maxH,"highValue"))},unbindEvents:function(){this.minH.off(),this.maxH.off(),this.fullBar.off(),this.selBar.off(),this.ticks.off()},onStart:function(i,t,s){var e=this.getEventNames(s),t=(s.stopPropagation(),s.preventDefault(),this.calcViewDimensions(),i?this.tracking=t:(i=this.getNearestHandle(s),this.tracking=i===this.minH?"lowValue":"highValue"),i.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(i),t=r.bind(this,this.dragging.active?this.onDragMove:this.onMove,i),i=r.bind(this,this.onEnd,t),n.on(e.moveEvent,t),n.on(e.endEvent,i),this.endHandlerToBeRemovedOnEnd=i,this.callOnStart(),this.getEventAttr(s,"changedTouches"));t&&!this.touchId&&(this.isDragging=!0,this.touchId=t[0].identifier)},onMove:function(i,t,s){this.options.disableAnimation||this.moving&&this.sliderElem.addClass("noanimate"),this.moving=!0;var e,n,o,a,h=this.getEventAttr(t,"changedTouches");if(h)for(var l=0;l<h.length;l++)if(h[l].identifier===this.touchId){e=h[l];break}h&&!e||(t=this.getEventPosition(t,e?e.identifier:void 0),n=this.options.rightToLeft?this.minValue:this.maxValue,o=this.options.rightToLeft?this.maxValue:this.minValue,a=t<=0?o:t>=this.maxPos?n:(a=this.positionToValue(t),s&&r.isNumber(this.options.showTicks)?this.roundStep(a,this.options.showTicks):this.roundStep(a)),this.positionTrackingHandle(a))},onEnd:function(i,t){this.moving=!1,this.options.disableAnimation||this.sliderElem.removeClass("noanimate");var s=this.getEventAttr(t,"changedTouches");s&&s[0].identifier!==this.touchId||(this.isDragging=!1,this.touchId=null,this.options.keyboardSupport||(this.minH.removeClass("rz-active"),this.maxH.removeClass("rz-active"),this.tracking=""),this.dragging.active=!1,s=this.getEventNames(t),n.off(s.moveEvent,i),n.off(s.endEvent,this.endHandlerToBeRemovedOnEnd),this.endHandlerToBeRemovedOnEnd=null,this.callOnEnd())},onTickClick:function(i,t){this.onMove(i,t,!0)},onPointerFocus:function(i,t){this.tracking=t,i.one("blur",r.bind(this,this.onPointerBlur,i)),i.on("keydown",r.bind(this,this.onKeyboardEvent)),i.on("keyup",r.bind(this,this.onKeyUp)),this.firstKeyDown=!0,i.addClass("rz-active"),this.currentFocusElement={pointer:i,ref:t}},onKeyUp:function(){this.firstKeyDown=!0,this.callOnEnd()},onPointerBlur:function(i){i.off("keydown"),i.off("keyup"),i.removeClass("rz-active"),this.isDragging||(this.tracking="",this.currentFocusElement=null)},getKeyActions:function(i){var t=i+this.step,s=i-this.step,e=i+this.valueRange/10,n=i-this.valueRange/10,i=(this.options.reversedControls&&(t=i-this.step,s=i+this.step,e=i-this.valueRange/10,n=i+this.valueRange/10),{UP:t,DOWN:s,LEFT:s,RIGHT:t,PAGEUP:e,PAGEDOWN:n,HOME:this.options.reversedControls?this.maxValue:this.minValue,END:this.options.reversedControls?this.minValue:this.maxValue});return this.options.rightToLeft&&(i.LEFT=t,i.RIGHT=s,this.options.vertical)&&(i.UP=s,i.DOWN=t),i},onKeyboardEvent:function(i){var n,t=this[this.tracking],s=i.keyCode||i.which,o=this.getKeyActions(t)[{38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"}[s]];null!=o&&""!==this.tracking&&(i.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.callOnStart()),n=this,e(function(){var i,t,s,e=n.roundStep(n.sanitizeValue(o));n.options.draggableRangeOnly?(i=n.highValue-n.lowValue,"lowValue"===n.tracking?(s=(t=e)+i)>n.maxValue&&(t=(s=n.maxValue)-i):(t=(s=e)-i)<n.minValue&&(s=(t=n.minValue)+i),n.positionTrackingBar(t,s)):n.positionTrackingHandle(e)}))},onDragStart:function(i,t,s){var e=this.getEventPosition(s);this.dragging={active:!0,value:this.positionToValue(e),difference:this.highValue-this.lowValue,lowLimit:this.options.rightToLeft?this.minH.rzsp-e:e-this.minH.rzsp,highLimit:this.options.rightToLeft?e-this.maxH.rzsp:this.maxH.rzsp-e},this.onStart(i,t,s)},getValue:function(i,t,s,e){var n=this.options.rightToLeft,o=null,o="min"===i?s?e?n?this.minValue:this.maxValue-this.dragging.difference:n?this.maxValue-this.dragging.difference:this.minValue:n?this.positionToValue(t+this.dragging.lowLimit):this.positionToValue(t-this.dragging.lowLimit):s?e?n?this.minValue+this.dragging.difference:this.maxValue:n?this.maxValue:this.minValue+this.dragging.difference:n?this.positionToValue(t+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(t-this.dragging.lowLimit)+this.dragging.difference;return this.roundStep(o)},onDragMove:function(i,t){this.options.disableAnimation||this.moving&&this.sliderElem.addClass("noanimate"),this.moving=!0;var s,e,n,o,t=this.getEventPosition(t),a=this.options.rightToLeft?(h=this.dragging.lowLimit,n=this.dragging.highLimit,o=this.maxH,this.minH):(h=this.dragging.highLimit,n=this.dragging.lowLimit,o=this.minH,this.maxH),h=t>=this.maxPos-h;if(t<=n){if(0===o.rzsp)return;s=this.getValue("min",t,!0,!1),e=this.getValue("max",t,!0,!1)}else if(h){if(a.rzsp===this.maxPos)return;e=this.getValue("max",t,!0,!0),s=this.getValue("min",t,!0,!0)}else s=this.getValue("min",t,!1),e=this.getValue("max",t,!1);this.positionTrackingBar(s,e)},positionTrackingBar:function(i,t){null!=this.options.minLimit&&i<this.options.minLimit&&(t=(i=this.options.minLimit)+this.dragging.difference),null!=this.options.maxLimit&&t>this.options.maxLimit&&(i=(t=this.options.maxLimit)-this.dragging.difference),this.lowValue=i,this.highValue=t,this.applyLowValue(),this.range&&this.applyHighValue(),this.applyModel(!0),this.updateHandles("lowValue",this.valueToPosition(i)),this.updateHandles("highValue",this.valueToPosition(t))},positionTrackingHandle:function(i){var t=!1;i=this.applyMinMaxLimit(i),i=this.applyRestrictedRange(i),this.range&&(this.options.pushRange?(i=this.applyPushRange(i),t=!0):(this.options.noSwitching&&("lowValue"===this.tracking&&i>this.highValue?i=this.applyMinMaxRange(this.highValue):"highValue"===this.tracking&&i<this.lowValue&&(i=this.applyMinMaxRange(this.lowValue))),i=this.applyMinMaxRange(i),"lowValue"===this.tracking&&i>this.highValue?(this.lowValue=this.highValue,this.applyLowValue(),this.applyModel(),this.updateHandles(this.tracking,this.maxH.rzsp),this.updateAriaAttributes(),this.tracking="highValue",this.minH.removeClass("rz-active"),this.maxH.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(this.maxH),t=!0):"highValue"===this.tracking&&i<this.lowValue&&(this.highValue=this.lowValue,this.applyHighValue(),this.applyModel(),this.updateHandles(this.tracking,this.minH.rzsp),this.updateAriaAttributes(),this.tracking="lowValue",this.maxH.removeClass("rz-active"),this.minH.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(this.minH),t=!0))),this[this.tracking]!==i&&(this[this.tracking]=i,"lowValue"===this.tracking?this.applyLowValue():this.applyHighValue(),this.applyModel(),this.updateHandles(this.tracking,this.valueToPosition(i)),this.updateAriaAttributes(),t=!0),t&&this.applyModel(!0)},applyMinMaxLimit:function(i){return null!=this.options.minLimit&&i<this.options.minLimit?this.options.minLimit:null!=this.options.maxLimit&&i>this.options.maxLimit?this.options.maxLimit:i},applyMinMaxRange:function(i){var t="lowValue"===this.tracking?this.highValue:this.lowValue,t=Math.abs(i-t);return null!=this.options.minRange&&t<this.options.minRange?"lowValue"===this.tracking?this.highValue-this.options.minRange:this.lowValue+this.options.minRange:null!=this.options.maxRange&&t>this.options.maxRange?"lowValue"===this.tracking?this.highValue-this.options.maxRange:this.lowValue+this.options.maxRange:i},applyRestrictedRange:function(i){if(null!=this.options.restrictedRange&&i>this.options.restrictedRange.from&&i<this.options.restrictedRange.to){var t=(this.options.restrictedRange.to-this.options.restrictedRange.from)/2;if("lowValue"===this.tracking)return i>this.options.restrictedRange.from+t?this.options.restrictedRange.to:this.options.restrictedRange.from;if("highValue"===this.tracking)return i<this.options.restrictedRange.to-t?this.options.restrictedRange.from:this.options.restrictedRange.to}return i},applyPushRange:function(i){var t="lowValue"===this.tracking?this.highValue-i:i-this.lowValue,s=null!==this.options.minRange?this.options.minRange:this.options.step,e=this.options.maxRange;return t<s?("lowValue"===this.tracking?(this.highValue=Math.min(i+s,this.maxValue),i=this.highValue-s,this.applyHighValue(),this.updateHandles("highValue",this.valueToPosition(this.highValue))):(this.lowValue=Math.max(i-s,this.minValue),i=this.lowValue+s,this.applyLowValue(),this.updateHandles("lowValue",this.valueToPosition(this.lowValue))),this.updateAriaAttributes()):null!==e&&e<t&&("lowValue"===this.tracking?(this.highValue=i+e,this.applyHighValue(),this.updateHandles("highValue",this.valueToPosition(this.highValue))):(this.lowValue=i-e,this.applyLowValue(),this.updateHandles("lowValue",this.valueToPosition(this.lowValue))),this.updateAriaAttributes()),i},applyModel:function(i){this.internalChange=!0,this.scope.$apply(),i&&this.callOnChange(),this.internalChange=!1},callOnStart:function(){var i,t;this.options.onStart&&(t="lowValue"===(i=this).tracking?"min":"max",this.scope.$evalAsync(function(){i.options.onStart(i.options.id,i.scope.rzSliderModel,i.scope.rzSliderHigh,t)}))},callOnChange:function(){var i,t;this.options.onChange&&(t="lowValue"===(i=this).tracking?"min":"max",this.scope.$evalAsync(function(){i.options.onChange(i.options.id,i.scope.rzSliderModel,i.scope.rzSliderHigh,t)}))},callOnEnd:function(){var i,t;this.options.onEnd&&(t="lowValue"===(i=this).tracking?"min":"max",this.scope.$evalAsync(function(){i.options.onEnd(i.options.id,i.scope.rzSliderModel,i.scope.rzSliderHigh,t)})),this.scope.$emit("slideEnded")}},a}]).directive("rzslider",["RzSlider",function(s){return{restrict:"AE",replace:!0,scope:{rzSliderModel:"=?",rzSliderHigh:"=?",rzSliderOptions:"&?",rzSliderTplUrl:"@"},templateUrl:function(i,t){return t.rzSliderTplUrl||"rzSliderTpl.html"},link:function(i,t){i.slider=new s(i,t)}}}]);return i.run(["$templateCache",function(i){i.put("rzSliderTpl.html",'<div class=rzslider><span class="rz-bar-wrapper rz-left-out-selection"><span class=rz-bar></span></span> <span class="rz-bar-wrapper rz-right-out-selection"><span class=rz-bar></span></span> <span class=rz-bar-wrapper><span class=rz-bar></span></span> <span class=rz-bar-wrapper><span class="rz-bar rz-selection" ng-style=barStyle></span></span> <span class=rz-bar-wrapper><span class="rz-bar rz-restricted" ng-style=restrictionStyle></span></span> <span class="rz-pointer rz-pointer-min" ng-style=minPointerStyle></span> <span class="rz-pointer rz-pointer-max" ng-style=maxPointerStyle></span> <span class="rz-bubble rz-limit rz-floor"></span> <span class="rz-bubble rz-limit rz-ceil"></span> <span class="rz-bubble rz-model-value"></span> <span class="rz-bubble rz-model-high"></span> <span class=rz-bubble></span><ul ng-show=showTicks class=rz-ticks><li ng-repeat="t in ticks track by $index" class=rz-tick ng-class="{\'rz-selected\': t.selected}" ng-style=t.style ng-attr-uib-tooltip="{{ t.tooltip }}" ng-attr-tooltip-placement={{t.tooltipPlacement}} ng-attr-tooltip-append-to-body="{{ t.tooltip ? true : undefined}}"><span ng-if="t.value != null" class=rz-tick-value ng-attr-uib-tooltip="{{ t.valueTooltip }}" ng-attr-tooltip-placement={{t.valueTooltipPlacement}}>{{ t.value }}</span> <span ng-if="t.legend != null" class=rz-tick-legend>{{ t.legend }}</span></li></ul></div>')}]),i.name});
angular.module("ui.mask",[]).value("uiMaskConfig",{maskDefinitions:{9:/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/}}).directive("uiMaskPlaceholder",["uiMaskConfig","$parse",function(e,R){return{priority:100,require:"ngModel",restrict:"A",compile:function(){var $=e;return function(y,k,u,w){var x,a,o,l,s,t,n,c,V,M,O,A,f=!1,h=!1,e=u.maxlength;var g={},i=(u.uiOptions?(g=y.$eval("["+u.uiOptions+"]"),angular.isObject(g[0])&&(g=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]?angular.extend(t[n],e[n]):t[n]=angular.copy(e[n]));return t}($,g[0]))):g=$,u.$observe("uiMaskPlaceholder",function(e){var i,r;return angular.isDefined(e)&&(r=0,x=[],a=[],o="","string"==typeof e&&(s=0,i=!1,e=e.split(""),angular.forEach(e,function(e,t){var n;g.maskDefinitions[e]?(x.push(r),o+=(t=t,void 0!==(n=u.uiMaskFormat)&&n[t]?n[t]:"_"),a.push(g.maskDefinitions[e]),r++,i||s++):"?"===e?i=!0:(o+=e,r++)})),x.push(x.slice().pop()+1),l=o.replace(/[_]+/g,"_").replace(/([^_]+)([a-zA-Z0-9])([^_])/g,"$1$2_$3").split("_"),f=1<x.length)?(t=M=S(w.$modelValue||""),n=V=_(t),e=(c=p(t))&&t.length?n:"",u.maxlength&&k.attr("maxlength",2*x[x.length-1]),k.val(e),w.$viewValue=e,h||(k.bind("blur",m),k.bind("mousedown mouseup",v),k.bind("input keyup click focus",b),h=!0),!0):d()}),u.$observe("uiMaskFormat",function(e){angular.isDefined(e)&&(o=e,f)&&b()}),!1);function d(){return f=!1,h&&(k.unbind("blur",m),k.unbind("mousedown",v),k.unbind("mouseup",v),k.unbind("input",b),k.unbind("keyup",b),k.unbind("click",b),k.unbind("focus",b),h=!1),angular.isDefined(e)?k.attr("maxlength",e):k.removeAttr("maxlength"),k.val(w.$modelValue),w.$viewValue=w.$modelValue,!1}function p(e){return!e.length||s<=e.length}function S(t){var n="",i=a.slice();return t=t.toString(),angular.forEach(l,function(e){t=t.replace(e,"")}),angular.forEach(t.split(""),function(e){i.length&&i[0].test(e)&&(n+=e,i.shift())}),n}function _(n){var i="",r=x.slice();return angular.forEach(o.split(""),function(e,t){n.length&&t===r[0]?(i+=n.charAt(0)||"_",n=n.substr(1),r.shift()):i+=e}),i}function m(){A=O=0,c&&0!==t.length||(n="",k.val(""),y.$apply(function(){w.$setViewValue("")}))}function v(e){"mousedown"===e.type?k.bind("mouseout",r):k.unbind("mouseout",r)}function r(){A=D(this),k.unbind("mouseout",r)}function b(e){var t=(e=e||{}).which,n=e.type;if(16!==t&&91!==t){var i=k.val(),r=V,u=S(i),a=M,o=!1,l=function(e){if(e){if(void 0!==e.selectionStart)return e.selectionStart;var t;if(document.selection)return e.focus(),(t=document.selection.createRange()).moveStart("character",e.value?-e.value.length:0),t.text.length}return 0}(this)||0,s=O||0,c=l-s,f=x[0],h=x[u.length]||x.slice().shift(),g=A||0,d=0<D(this),p=0<g,m=i.length>r.length||g&&r.length-g<i.length,i=i.length<r.length||g&&i.length===r.length-g,r=37<=t&&t<=40&&e.shiftKey,v=8===t||"keyup"!==n&&i&&-1==c,b=46===t||"keyup"!==n&&i&&0==c&&!p,$=(37===t||v||"click"===n)&&f<l;if(A=D(this),!r&&(!d||"click"!==n&&"keyup"!==n)){if("input"===n&&i&&!p&&u===a){for(;v&&f<l&&!E(l);)l--;for(;b&&l<h&&-1===x.indexOf(l);)l++;g=x.indexOf(l),u=u.substring(0,g)+u.substring(g+1),o=!0}for(e=_(u),V=e,M=u,k.val(e),o&&y.$apply(function(){w.$setViewValue(u)}),m&&l<=f&&(l=f+1),$&&l--,l=h<l?h:l<f?f:l;!E(l)&&f<l&&l<h;)l+=$?-1:1;($&&l<h||m&&!E(s))&&l++;c=this,t=O=l;c&&0!==c.offsetWidth&&0!==c.offsetHeight&&(c.setSelectionRange?(c.focus(),c.setSelectionRange(t,t)):c.createTextRange&&((c=c.createTextRange()).collapse(!0),c.moveEnd("character",t),c.moveStart("character",t),c.select()))}}}function E(e){return-1<x.indexOf(e)}function D(e){return e?void 0!==e.selectionStart?e.selectionEnd-e.selectionStart:document.selection?document.selection.createRange().text.length:0:0}u.$observe("modelViewValue",function(e){"true"===e&&(i=!0)}),y.$watch(u.ngModel,function(e){i&&e&&R(u.ngModel).assign(y,w.$viewValue)}),w.$formatters.push(function(e){return f?(t=S(e||""),c=p(t),w.$setValidity("mask",c),c&&t.length?_(t):void 0):e}),w.$parsers.push(function(e){return f?(t=S(e||""),c=p(t),w.$viewValue=t.length?_(t):"",w.$setValidity("mask",c),""===t&&u.required&&w.$setValidity("required",!1),c?t:void 0):e}),k.bind("mousedown mouseup",v),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0!=n){var i=0;if(1<arguments.length&&((i=Number(arguments[1]))!=i?i=0:0!==i&&i!==1/0&&i!==-1/0&&(i=(0<i||-1)*Math.floor(Math.abs(i)))),!(n<=i))for(var r=0<=i?i:Math.max(n-Math.abs(i),0);r<n;r++)if(r in t&&t[r]===e)return r}return-1})}}}}]);
!function(){function e(s,e){function d(){return h?g.scrollTop:window.pageYOffset||document.documentElement.scrollTop}var b=(e=e||{}).duration||800,k=e.offset||0,m=e.easing||"easeInOutQuart",I=e.callbackBefore||function(){},v=e.callbackAfter||function(){},g=document.getElementById(e.containerId)||null,h=null!=g;setTimeout(function(){var e,t,n,c,r=null,o=d(),a=function(e){var t=0;if(e.offsetParent)for(;t+=e.offsetTop,e=e.offsetParent;);return t=Math.max(t-k,0)}(s),l=0,u=a-o,f=function(){r=d(),c=h?(n=g.scrollHeight,g.clientHeight+r):(n=document.body.scrollheight,window.innerHeight+r),(t==a||r==a||n<=c)&&(clearInterval(i),v(s))},i=(I(s),setInterval(function(){t=o+u*function(e,t){switch(e){case"easeInQuad":return t*t;case"easeOutQuad":return t*(2-t);case"easeInOutQuad":return t<.5?2*t*t:(4-2*t)*t-1;case"easeInCubic":return t*t*t;case"easeOutCubic":return--t*t*t+1;case"easeInOutCubic":return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1;case"easeInQuart":return t*t*t*t;case"easeOutQuart":return 1- --t*t*t*t;case"easeInOutQuart":return t<.5?8*t*t*t*t:1-8*--t*t*t*t;case"easeInQuint":return t*t*t*t*t;case"easeOutQuint":return 1+--t*t*t*t*t;case"easeInOutQuint":return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t;default:return t}}(m,1<(e=(l+=16)/b)?1:e),h?g.scrollTop=t:window.scrollTo(0,t),f()},16))},0)}var t=angular.module("smoothScroll",[]);t.factory("smoothScroll",function(){return e}),t.directive("smoothScroll",["smoothScroll",function(t){return{restrict:"A",scope:{callbackBefore:"&",callbackAfter:"&"},link:function(n,e,c){void 0!==c.scrollIf&&"true"!==c.scrollIf||setTimeout(function(){t(e[0],{duration:c.duration,offset:c.offset,easing:c.easing,callbackBefore:function(e){var t;c.callbackBefore&&"function"==typeof(t=n.callbackBefore({element:e}))&&t(e)},callbackAfter:function(e){var t;c.callbackAfter&&"function"==typeof(t=n.callbackAfter({element:e}))&&t(e)},containerId:c.containerId})},0)}}}]),t.directive("scrollTo",["smoothScroll",function(r){return{restrict:"A",scope:{callbackBefore:"&",callbackAfter:"&"},link:function(n,e,c){var t;e.on("click",function(e){if(e.preventDefault(),t=document.getElementById(c.scrollTo))return r(t,{duration:c.duration,offset:c.offset,easing:c.easing,callbackBefore:function(e){var t;c.callbackBefore&&"function"==typeof(t=n.callbackBefore({element:e}))&&t(e)},callbackAfter:function(e){var t;c.callbackAfter&&"function"==typeof(t=n.callbackAfter({element:e}))&&t(e)},containerId:c.containerId}),!1})}}}])}();
!function(i){var e=i.module("ngDropdowns",[]);e.run(["$templateCache",function(e){e.put("ngDropdowns/templates/dropdownSelect.html",['<div ng-class="{\'disabled\': dropdownDisabled}" class="wrap-dd-select {{dropdownClass}}" tabindex="0">','<span class="selected">{{dropdownModel[labelField]}}</span>','<ul class="dropdown">','<li ng-repeat="item in dropdownSelect"',' class="dropdown-item"',' dropdown-select-item="item"',' dropdown-item-label="labelField">',"</li>","</ul>","</div>"].join("")),e.put("ngDropdowns/templates/dropdownSelectItem.html",["<li ng-class=\"{divider: (dropdownSelectItem.divider && !dropdownSelectItem[dropdownItemLabel]), 'divider-label': (dropdownSelectItem.divider && dropdownSelectItem[dropdownItemLabel])}\">",'<a href="" class="dropdown-item"',' ng-if="!dropdownSelectItem.divider"',' ng-href="{{dropdownSelectItem.href}}"',' ng-click="selectItem()">',"{{dropdownSelectItem[dropdownItemLabel]}}","</a>",'<span ng-if="dropdownSelectItem.divider">',"{{dropdownSelectItem[dropdownItemLabel]}}","</span>","</li>"].join("")),e.put("ngDropdowns/templates/dropdownMenu.html",['<ul class="dropdown">','<li ng-repeat="item in dropdownMenu"',' class="dropdown-item"',' dropdown-item-label="labelField"',' dropdown-menu-item="item">',"</li>","</ul>"].join("")),e.put("ngDropdowns/templates/dropdownMenuItem.html",["<li ng-class=\"{divider: dropdownMenuItem.divider, 'divider-label': dropdownMenuItem.divider && dropdownMenuItem[dropdownItemLabel]}\">",'<a href="" class="dropdown-item"',' ng-if="!dropdownMenuItem.divider"',' ng-href="{{dropdownMenuItem.href}}"',' ng-click="selectItem()">',"{{dropdownMenuItem[dropdownItemLabel]}}","</a>",'<span ng-if="dropdownMenuItem.divider">',"{{dropdownMenuItem[dropdownItemLabel]}}","</span>","</li>"].join("")),e.put("ngDropdowns/templates/dropdownMenuWrap.html",'<div class="wrap-dd-menu" ng-class="{\'disabled\': dropdownDisabled}"></div>')}]),e.directive("dropdownSelect",["DropdownService",function(n){return{restrict:"A",replace:!0,scope:{dropdownSelect:"=",dropdownModel:"=",dropdownItemLabel:"@",dropdownOnchange:"&",dropdownDisabled:"=",dropdownClass:"@"},controller:["$scope","$element",function(o,d){o.labelField=o.dropdownItemLabel||"text",n.register(d),this.select=function(e){i.equals(e,o.dropdownModel)||(o.dropdownModel=e),o.dropdownOnchange({selected:e}),d[0].blur()},d.bind("click",function(e){e.stopPropagation(),o.dropdownDisabled||n.toggleActive(d)}),o.$on("$destroy",function(){n.unregister(d)})}],templateUrl:"ngDropdowns/templates/dropdownSelect.html"}}]),e.directive("dropdownSelectItem",[function(){return{require:"^dropdownSelect",replace:!0,scope:{dropdownItemLabel:"=",dropdownSelectItem:"="},link:function(e,o,d,n){e.selectItem=function(){e.dropdownSelectItem.href||n.select(e.dropdownSelectItem)}},templateUrl:"ngDropdowns/templates/dropdownSelectItem.html"}}]),e.directive("dropdownMenu",["$parse","$compile","DropdownService","$templateCache",function(e,r,l,p){return{restrict:"A",replace:!1,scope:{dropdownMenu:"=",dropdownModel:"=",dropdownItemLabel:"@",dropdownOnchange:"&",dropdownDisabled:"="},controller:["$scope","$element",function(o,e){o.labelField=o.dropdownItemLabel||"text";var d=i.element(p.get("ngDropdowns/templates/dropdownMenu.html")),n=(d.data("$dropdownMenuController",this),r(d)(o)),t=r(i.element(p.get("ngDropdowns/templates/dropdownMenuWrap.html")))(o);e.replaceWith(t),t.append(e),t.append(d),l.register(n),this.select=function(e){i.equals(e,o.dropdownModel)||(o.dropdownModel=e),o.dropdownOnchange({selected:e})},e.bind("click",function(e){e.stopPropagation(),o.dropdownDisabled||l.toggleActive(n)}),o.$on("$destroy",function(){l.unregister(n)})}]}}]),e.directive("dropdownMenuItem",[function(){return{require:"^dropdownMenu",replace:!0,scope:{dropdownMenuItem:"=",dropdownItemLabel:"="},link:function(e,o,d,n){e.selectItem=function(){e.dropdownMenuItem.href||n.select(e.dropdownMenuItem)}},templateUrl:"ngDropdowns/templates/dropdownMenuItem.html"}}]),e.factory("DropdownService",["$document",function(e){var e=e.find("body"),o={},d=[];return e.bind("click",function(){i.forEach(d,function(e){e.removeClass("active")})}),o.register=function(e){d.push(e)},o.unregister=function(e){e=d.indexOf(e);-1<e&&d.splice(e,1)},o.toggleActive=function(o){i.forEach(d,function(e){e!==o&&e.removeClass("active")}),o.toggleClass("active")},o.clearActive=function(){i.forEach(d,function(e){e.removeClass("active")})},o.isActive=function(e){return e.hasClass("active")},o}])}((window,window.angular));
!function(f,n){var _,nn,q=1,tn="-add",en="-remove",$n="ng-",w="ng-animate",K="$$ngAnimateChildren",Cn=void 0===f.ontransitionend&&void 0!==f.onwebkittransitionend?(_="WebkitTransition","webkitTransitionEnd transitionend"):(_="transition","transitionend"),yn=void 0===f.onanimationend&&void 0!==f.onwebkitanimationend?(nn="WebkitAnimation","webkitAnimationEnd animationend"):(nn="animation","animationend"),a="Duration",Dn="Property",t="Delay",An="TimingFunction",i="PlayState",e=nn+t,an=nn+a,r=_+t,t=_+a,o=n.$$minErr("ng");function v(n,t,e){if(!n)throw o("areq","Argument '{0}' is {1}",t||"?",e||"required")}function T(n,t){return n||t?n?t?(n=hn(n)?n.join(" "):n)+" "+(t=hn(t)?t.join(" "):t):n:t:""}function rn(n,e,a){var r="";return n=hn(n)?n:n&&B(n)&&n.length?n.split(/\s+/):[],vn(n,function(n,t){n&&0<n.length&&(r=r+(0<t?" ":"")+(a?e+n:n+e))}),r}function V(n){if(n instanceof Q)switch(n.length){case 0:return n;case 1:if(n[0].nodeType===q)return n;break;default:return Q(m(n))}if(n.nodeType===q)return Q(n)}function m(n){if(!n[0])return n;for(var t=0;t<n.length;t++){var e=n[t];if(e.nodeType===q)return e}}function p(o){return function(n,t){var e,a,r,i;t.addClass&&(e=o,a=t.addClass,vn(n,function(n){e.addClass(n,a)}),t.addClass=null),t.removeClass&&(r=o,i=t.removeClass,vn(n,function(n){r.removeClass(n,i)}),t.removeClass=null)}}function on(n){var t;return(n=n||{}).$$prepared||(t=n.domOperation||gn,n.domOperation=function(){n.$$domOperationFired=!0,t(),t=gn},n.$$prepared=!0),n}function sn(n,t){bn(n,t),kn(n,t)}function bn(n,t){t.from&&(n.css(t.from),t.from=null)}function kn(n,t){t.to&&(n.css(t.to),t.to=null)}function L(n,t,e){var r,a,i,o=t.options||{},e=e.options||{},s=(o.addClass||"")+" "+(e.addClass||""),u=(o.removeClass||"")+" "+(e.removeClass||""),u=(r=n.attr("class"),n=s,s=u,a={},r=l(r),n=l(n),vn(n,function(n,t){a[t]=1}),s=l(s),vn(s,function(n,t){a[t]=1===a[t]?null:-1}),i={addClass:"",removeClass:""},vn(a,function(n,t){var e,a;1===n?(e="addClass",a=!r[t]||r[t+en]):-1===n&&(e="removeClass",a=r[t]||r[t+tn]),a&&(i[e].length&&(i[e]+=" "),i[e]+=t)}),i);function l(n){B(n)&&(n=n.split(" "));var t={};return vn(n,function(n){n.length&&(t[n]=!0)}),t}e.preparationClasses&&(o.preparationClasses=H(e.preparationClasses,o.preparationClasses),delete e.preparationClasses);n=o.domOperation!==gn?o.domOperation:null;return z(o,e),n&&(o.domOperation=n),o.addClass=u.addClass||null,o.removeClass=u.removeClass||null,t.addClass=o.addClass,t.removeClass=o.removeClass,o}function un(n){return n instanceof Q?n[0]:n}function ln(n,t){var t=t?"paused":"",e=nn+i;return cn(n,[e,t]),[e,t]}function cn(n,t){var e=t[0];n.style[e]=t[1]}function H(n,t){return n?t?n+" "+t:n:t}var fn=function(n,t){t=t?"-"+t+"s":"";return cn(n,[r,t]),[r,t]},s=["$interpolate",function(i){return{link:function(n,t,e){var a=e.ngAnimateChildren;function r(n){t.data(K,n="on"===n||"true"===n)}B(a)&&0===a.length?t.data(K,!0):(r(i(a)(n)),e.$observe("ngAnimateChildren",r))}}}],mn="$$animateCss",u={transitionDuration:t,transitionDelay:r,transitionProperty:_+Dn,animationDuration:an,animationDelay:e,animationIterationCount:nn+"IterationCount"},wn={transitionDuration:t,transitionDelay:r,animationDuration:an,animationDelay:e};function dn(n,t){return[t?e:r,n+"s"]}function Tn(n,t,e){var r=Object.create(null),i=n.getComputedStyle(t)||{};return vn(e,function(n,t){var e,a,n=i[n];n&&(("-"===(e=n.charAt(0))||"+"===e||0<=e)&&(a=0,e=(e=n).split(/\s*,\s*/),vn(e,function(n){"s"===n.charAt(n.length-1)&&(n=n.substring(0,n.length-1)),n=parseFloat(n)||0,a=a?Math.max(n,a):n}),n=a),0===n&&(n=null),r[t]=n)}),r}function pn(n){return 0===n||null!=n}function Sn(n,t){var e=_,n=n+"s";return t?e+=a:n+=" linear all",[e,n]}function jn(t,e,n){vn(n,function(n){t[n]=G(t[n])?t[n]:e.style.getPropertyValue(n)})}var xn,z,vn,hn,G,d,y,W,B,J,Q,gn,t=["$animateProvider",function(n){this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$animateCache","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(B,J,Q,U,V,e,z,t,G){var X=p(J);var a=[];function Y(n){a.push(n),t.waitUntilQuiet(function(){V.flush();for(var n=e(),t=0;t<a.length;t++)a[t](n);a.length=0})}function Z(n,t,e,a){n=n,e=e,a=a,i=u,(r=V.get(e))||"infinite"===(r=Tn(B,n,i)).animationIterationCount&&(r.animationIterationCount=1),n=a||0<r.transitionDuration||0<r.animationDuration,V.put(e,r,n);var r,i=r,a=i.animationDelay,e=i.transitionDelay;return i.maxDelay=a&&e?Math.max(a,e):a||e,i.maxDuration=Math.max(i.animationDuration*i.animationIterationCount,i.transitionDuration),i}return function(o,n){var s=n||{},u=(s.$$prepared||(s=on(xn(s))),{}),l=un(o);if(!l||!l.parentNode||!G.enabled())return E();var c,a,r,e,f,m,d,I,p=[],t=(o.attr("class"),n={},(t=s)&&(t.to||t.from)&&(n.to=t.to,n.from=t.from),n),v=[];if(0===s.duration||!z.animations&&!z.transitions)return E();var h=s.event&&hn(s.event)?s.event.join(" "):s.event,n=h&&s.structural,i="",g="",$=(n?i=rn(h,$n,!0):h&&(i=h),s.addClass&&(g+=rn(s.addClass,tn)),s.removeClass&&(g.length&&(g+=" "),g+=rn(s.removeClass,en)),s.applyClassesEarly&&g.length&&X(o,s),[i,g].join(" ").trim()),i=t.to&&0<Object.keys(t.to).length;if(!(0<(s.keyframeStyle||"").length)&&!i&&!$)return E();var C,y,R,D,A,b,k=V.cacheKey(l,h,s.addClass,s.removeClass);if(V.containsCachedAnimationWithoutDuration(k))return $=null,E();C=0<s.stagger?{transitionDelay:t=parseFloat(s.stagger),animationDelay:t,transitionDuration:0,animationDuration:0}:(t=l,D=$,b=wn,R="stagger-"+(S=k),0<V.count(S)&&((y=V.get(R))||(S=rn(D,"-stagger"),J.addClass(t,S),(y=Tn(B,t,b)).animationDuration=Math.max(y.animationDuration,0),y.transitionDuration=Math.max(y.transitionDuration,0),J.removeClass(t,S),V.put(R,y,!0))),y||{}),s.$$skipPreparationClasses||J.addClass(o,$),s.transitionStyle&&(D=[_,s.transitionStyle],cn(l,D),p.push(D)),0<=s.duration&&(A=0<l.style[_].length,b=Sn(s.duration,A),cn(l,b),p.push(b)),s.keyframeStyle&&(t=[nn,s.keyframeStyle],cn(l,t),p.push(t));var w,T,q=C?0<=s.staggerIndex?s.staggerIndex:V.count(k):0,S=0===q,j=(S&&!s.skipBlocking&&fn(l,9999),Z(l,0,k,!n)),x=j.maxDelay,O=Math.max(x,0),P=j.maxDuration,N={};return N.hasTransitions=0<j.transitionDuration,N.hasAnimations=0<j.animationDuration,N.hasTransitionAll=N.hasTransitions&&"all"===j.transitionProperty,N.applyTransitionDuration=i&&(N.hasTransitions&&!N.hasTransitionAll||N.hasAnimations&&!N.hasTransitions),N.applyAnimationDuration=s.duration&&N.hasAnimations,N.applyTransitionDelay=pn(s.delay)&&(N.applyTransitionDuration||N.hasTransitions),N.applyAnimationDelay=pn(s.delay)&&N.hasAnimations,N.recalculateTimingStyles=0<g.length,(N.applyTransitionDuration||N.applyAnimationDuration)&&(P=s.duration?parseFloat(s.duration):P,N.applyTransitionDuration&&(N.hasTransitions=!0,j.transitionDuration=P,A=0<l.style[_+Dn].length,p.push(Sn(P,A))),N.applyAnimationDuration)&&(N.hasAnimations=!0,j.animationDuration=P,p.push([an,P+"s"])),0!==P||N.recalculateTimingStyles?(w=rn($,"-active"),null!=s.delay&&("boolean"!=typeof s.delay&&(T=parseFloat(s.delay),O=Math.max(T,0)),N.applyTransitionDelay&&p.push(dn(T)),N.applyAnimationDelay)&&p.push(dn(T,!0)),null==s.duration&&0<j.transitionDuration&&(N.recalculateTimingStyles=N.recalculateTimingStyles||S),m=1e3*O,d=1e3*P,s.skipBlocking||(N.blockTransition=0<j.transitionDuration,N.blockKeyframeAnimation=0<j.animationDuration&&0<C.animationDelay&&0===C.animationDuration),s.from&&(s.cleanupStyles&&jn(u,l,Object.keys(s.from)),bn(o,s)),N.blockTransition||N.blockKeyframeAnimation?L(P):s.skipBlocking||fn(l,!1),{$$willAnimate:!0,end:F,start:function(){if(!c)return e=new Q(f={end:F,cancel:K,resume:null,pause:null}),Y(W),e}}):E();function F(){M()}function K(){M(!0)}function M(n){var t;c||r&&a||(a=!(c=!0),$&&!s.$$skipPreparationClasses&&J.removeClass(o,$),w&&J.removeClass(o,w),ln(l,!1),fn(l,!1),vn(p,function(n){l.style[n[0]]=""}),X(o,s),sn(o,s),Object.keys(u).length&&vn(u,function(n,t){n?l.style.setProperty(t,n):l.style.removeProperty(t)}),s.onDone&&s.onDone(),v&&v.length&&o.off(v.join(" "),H),(t=o.data(mn))&&(U.cancel(t[0].timer),o.removeData(mn)),e&&e.complete(!n))}function L(n){N.blockTransition&&fn(l,n),N.blockKeyframeAnimation&&ln(l,!!n)}function E(){return e=new Q({end:F,cancel:K}),Y(gn),M(),{$$willAnimate:!1,start:function(){return e},end:F}}function H(n){n.stopPropagation();var t,n=n.originalEvent||n;n.target===l&&(t=n.$manualTimeStamp||Date.now(),n=parseFloat(n.elapsedTime.toFixed(3)),Math.max(t-I,0)>=m)&&P<=n&&(r=!0,M())}function W(){var n,t;function e(){if(!c){if(L(!1),vn(p,function(n){var t=n[0];l.style[t]=n[1]}),X(o,s),J.addClass(o,w),N.recalculateTimingStyles){if(l.getAttribute("class"),k=V.cacheKey(l,h,s.addClass,s.removeClass),j=Z(l,0,k,!1),x=j.maxDelay,O=Math.max(x,0),0===(P=j.maxDuration))return void M();N.hasTransitions=0<j.transitionDuration,N.hasAnimations=0<j.animationDuration}N.applyAnimationDelay&&(x="boolean"!=typeof s.delay&&pn(s.delay)?parseFloat(s.delay):x,O=Math.max(x,0),j.animationDelay=x,T=dn(x,!0),p.push(T),l.style[T[0]]=T[1]),m=1e3*O,d=1e3*P,s.easing&&(e=s.easing,N.hasTransitions&&(t=_+An,p.push([t,e]),l.style[t]=e),N.hasAnimations)&&(t=nn+An,p.push([t,e]),l.style[t]=e),j.transitionDuration&&v.push(Cn),j.animationDuration&&v.push(yn),I=Date.now();var n,t=m+1.5*d,e=I+t,a=o.data(mn)||[],r=!0;a.length&&((r=e>(n=a[0]).expectedEndTime)?U.cancel(n.timer):a.push(M)),r&&(n=U(i,t,!1),a[0]={timer:n,expectedEndTime:e},a.push(M),o.data(mn,a)),v.length&&o.on(v.join(" "),H),s.to&&(s.cleanupStyles&&jn(u,l,Object.keys(s.to)),kn(o,s))}}function i(){var n=o.data(mn);if(n){for(var t=1;t<n.length;t++)n[t]();o.removeData(mn)}}c||(l.parentNode?(n=function(n){var t,e;r?a&&n&&(a=!1,M()):(a=!n,j.animationDuration&&(n=ln(l,a),a?p.push(n):(n=n,e=(t=p).indexOf(n),0<=n&&t.splice(e,1))))},(t=0<q&&(j.transitionDuration&&0===C.transitionDuration||j.animationDuration&&0===C.animationDuration)&&Math.max(C.animationDelay,C.transitionDelay))?U(e,Math.floor(t*q*1e3),!1):e(),f.resume=function(){n(!0)},f.pause=function(){n(!1)}):M())}}}]}],l=["$$animationProvider",function(n){n.drivers.push("$$animateCssDriver");var g="ng-animate-shim",$="ng-anchor-out";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(f,n,m,t,e,a,r){var d,p;return e.animations||e.transitions?(d=r[0].body,e=un(t),p=Q((r=e).parentNode&&11===r.parentNode.nodeType||d.contains(e)?e:d),function(n){{var t,e,a,r,i,o;if(n.from&&n.to)return e=n.to,a=n.anchors,r=s(t=n.from),i=s(e),o=[],vn(a,function(n){n=function(t,e){var a=Q(un(t).cloneNode(!0)),r=v(u(a));t.addClass(g),e.addClass(g),a.addClass("ng-anchor"),p.append(a);var i,n=function(){var n=f(a,{addClass:$,delay:!0,from:s(t)});return n.$$willAnimate?n:null}();if(!n&&!(i=l()))return c();var o=n||i;return{start:function(){var n,t=o.start();return t.done(function(){if(t=null,!i&&(i=l()))return(t=i.start()).done(function(){t=null,c(),n.complete()}),t;c(),n.complete()}),n=new m({end:e,cancel:e});function e(){t&&t.end()}}};function s(n){var e={},a=un(n).getBoundingClientRect();return vn(["width","height","top","left"],function(n){var t=a[n];switch(n){case"top":t+=d.scrollTop;break;case"left":t+=d.scrollLeft}e[n]=Math.floor(t)+"px"}),e}function u(n){return n.attr("class")||""}function l(){var n=v(u(e)),t=h(n,r),n=h(r,n),t=f(a,{to:s(e),addClass:"ng-anchor-in "+t,removeClass:$+" "+n,delay:!0});return t.$$willAnimate?t:null}function c(){a.remove(),t.removeClass(g),e.removeClass(g)}}(n.out,n.in);n&&o.push(n)}),r||i||0!==o.length?{start:function(){var t=[],e=(r&&t.push(r.start()),i&&t.push(i.start()),vn(o,function(n){t.push(n.start())}),new m({end:n,cancel:n}));return m.all(t,function(n){e.complete(n)}),e;function n(){vn(t,function(n){n.end()})}}}:void 0}return s(n)}):gn;function v(n){return n.replace(/\bng-\S+\b/g,"")}function h(n,t){return B(n)&&(n=n.split(" ")),B(t)&&(t=t.split(" ")),n.filter(function(n){return-1===t.indexOf(n)}).join(" ")}function s(n){var t=n.element,e=n.options||{},n=(n.structural&&(e.event=n.event,e.structural=!0,e.applyClassesEarly=!0,"leave"===n.event)&&(e.onDone=e.domOperation),e.preparationClasses&&(e.event=H(e.event,e.preparationClasses)),f(t,e));return n.$$willAnimate?n:null}}]}],c=["$animateProvider",function(C){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(h,g,n){var $=p(n);return function(n,t,e,a){var r,i,o,s,u,l=!1,c=(3===arguments.length&&W(e)&&(a=e,e=null),a=on(a),e||(e=n.attr("class")||"",a.addClass&&(e+=" "+a.addClass),a.removeClass&&(e+=" "+a.removeClass)),a.addClass),f=a.removeClass,e=function(n){n=hn(n)?n:n.split(" ");for(var t=[],e={},a=0;a<n.length;a++){var r=n[a],i=C.$$registeredAnimations[r];i&&!e[r]&&(t.push(h.get(i)),e[r]=!0)}return t}(e);if(e.length&&(s="leave"===t?(o="leave","afterLeave"):(o="before"+t.charAt(0).toUpperCase()+t.substr(1),t),"enter"!==t&&"move"!==t&&(r=v(n,t,a,e,o)),i=v(n,t,a,e,s)),r||i)return{$$willAnimate:!0,end:function(){return u?u.end():(d(),(u=new g).complete(!0)),u},start:function(){var t,n;return u||(u=new g,n=[],r&&n.push(function(n){t=r(n)}),n.length?n.push(function(n){m(),n(!0)}):m(),i&&n.push(function(n){t=i(n)}),u.setHost({end:function(){a()},cancel:function(){a(!0)}}),g.chain(n,e)),u;function e(n){d(),u.complete(n)}function a(n){l||((t||gn)(n),e(n))}}};function m(){a.domOperation(),$(n,a)}function d(){l=!0,m(),sn(n,a)}function p(o,s,u,n,t){var e=[];return vn(n,function(n){var i=n[t];i&&e.push(function(){function t(n){e||(e=!0,(r||gn)(n),a.complete(!n))}var e=!1,a=new g({end:function(){t()},cancel:function(){t(!0)}}),r=function(n,t,e,a,r){var i;switch(e){case"animate":i=[t,a.from,a.to,r];break;case"setClass":i=[t,c,f,r];break;case"addClass":i=[t,c,r];break;case"removeClass":i=[t,f,r];break;default:i=[t,r]}if(i.push(a),e=n.apply(n,i))if((e=y(e.start)?e.start():e)instanceof g)e.done(r);else if(y(e))return e;return gn}(i,o,s,u,function(n){t(!1===n)});return a})}),e}function v(n,t,e,a,r){var i,o,s=p(n,t,e,a,r);if(0!==(s=0===s.length&&("beforeSetClass"===r?(i=p(n,"removeClass",e,a,"beforeRemoveClass"),o=p(n,"addClass",e,a,"beforeAddClass")):"setClass"===r&&(i=p(n,"removeClass",e,a,"removeClass"),o=p(n,"addClass",e,a,"addClass")),i&&(s=s.concat(i)),o)?s.concat(o):s).length)return function(n){var e=[];return s.length&&vn(s,function(n){e.push(n())}),e.length?g.all(e,n):n(),function(t){vn(e,function(n){t?n.cancel():n.end()})}}}}}]}],h=["$$animationProvider",function(n){n.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,i){return function(n){var a,r;return n.from&&n.to?(a=t(n.from),r=t(n.to),a||r?{start:function(){var n=[],t=(a&&n.push(a.start()),r&&n.push(r.start()),i.all(n,function(n){t.complete(n)}),new i({end:e(),cancel:e()}));return t;function e(){return function(){vn(n,function(n){n.end()})}}}}:void 0):t(n)};function t(n){var t=n.element;return e(t,n.event,n.classes,n.options)}}]}],U="data-ng-animate",X="$ngAnimatePin",g=["$animateProvider",function(c){var r=" ",a=this.rules={skip:[],cancel:[],join:[]};function E(n){return{addClass:n.addClass,removeClass:n.removeClass,from:n.from,to:n.to}}function i(n,t){var e,a;if(n&&t)return e=(t=t)?(t=t.split(r),a=Object.create(null),vn(t,function(n){a[n]=!0}),a):null,n.split(r).some(function(n){return e[n]})}function I(n,t,e){return a[n].some(function(n){return n(t,e)})}function R(n,t){var e=0<(n.addClass||"").length,n=0<(n.removeClass||"").length;return t?e&&n:e||n}a.join.push(function(n,t){return!n.structural&&R(n)}),a.skip.push(function(n,t){return!n.structural&&!R(n)}),a.skip.push(function(n,t){return"leave"===t.event&&n.structural}),a.skip.push(function(n,t){return t.structural&&2===t.state&&!n.structural}),a.cancel.push(function(n,t){return t.structural&&n.structural}),a.cancel.push(function(n,t){return 2===t.state&&n.structural}),a.cancel.push(function(n,t){var e,a;return!(t.structural||(e=n.addClass,n=n.removeClass,a=t.addClass,t=t.removeClass,J(e)&&J(n))||J(a)&&J(t))&&(i(e,t)||i(n,a))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(h,g,$,C,n,y,D,t,e,a,A){var b=new n,k=new n,w=null;function r(n){k.delete(n.target)}function i(){return!0}var o=g.$watch(function(){return 0===t.totalPendingRequests},function(n){n&&(o(),g.$$postDigest(function(){g.$$postDigest(function(){null===w&&(w=!0)})}))}),T=Object.create(null),n=c.customFilter(),s=c.classNameFilter(),S=n||i,j=s?function(n,t){n=[n.getAttribute("class"),t.addClass,t.removeClass].join(" ");return s.test(n)}:i,x=p(e);function O(n,t){L(n,t,{})}var P=f.Node.prototype.contains||function(n){return this===n||!!(16&this.compareDocumentPosition(n))};function u(n,t,e){var a=m(t);return n.filter(function(n){return!(n.node===a&&(!e||n.callback===e))})}function N(n,t){"close"!==n||t.parentNode||l.off(t)}var l={on:function(n,t,e){var a=m(t);T[n]=T[n]||[],T[n].push({node:a,callback:e}),Q(t).on("$destroy",function(){b.get(a)||l.off(n,t,e)})},off:function(n,t,e){if(1!==arguments.length||B(n)){var a=T[n];a&&(T[n]=1===arguments.length?null:u(a,t,e))}else for(var r in t=n,T)T[r]=u(T[r],t)},pin:function(n,t){v(d(n),"element","not an element"),v(d(t),"parentElement","not an element"),n.data(X,t)},push:function(n,t,e,a){(e=e||{}).domOperation=a;var r=n,i=t,o=xn(a=e),l=V(r),c=un(l),f=c&&c.parentNode,s=(o=on(o),new D),m=function(){var t=!1;return function(n){t?n():g.$$postDigest(function(){t=!0,n()})}}();if(hn(o.addClass)&&(o.addClass=o.addClass.join(" ")),o.addClass&&!B(o.addClass)&&(o.addClass=null),hn(o.removeClass)&&(o.removeClass=o.removeClass.join(" ")),o.removeClass&&!B(o.removeClass)&&(o.removeClass=null),o.from&&!W(o.from)&&(o.from=null),o.to&&!W(o.to)&&(o.to=null),w&&c&&S(c,i,a)&&j(c,o)){var u=0<=["enter","move","leave"].indexOf(i),a=A(),n=a||k.get(c),t=!n&&b.get(c)||{},e=!!t.state;if(n=n||e&&1===t.state?n:!function(n,t){var e,a=C[0].body,r=un($),i=n===a||"HTML"===n.nodeName,o=n===r,s=!1,u=k.get(n),l=Q.data(n,X);l&&(t=un(l));for(;t&&(o=o||t===r,t.nodeType===q);){var c=b.get(t)||{};if(!s){var f=k.get(t);if(!0===f&&!1!==u){u=!0;break}!1===f&&(u=!1),s=c.structural}if((J(e)||!0===e)&&(f=Q.data(t,K),G(f))&&(e=f),s&&!1===e)break;if((i=i||t===a)&&o)break;t=!o&&(l=Q.data(t,X))?un(l):t.parentNode}return(!s||e)&&!0!==u&&o&&i}(c,f))a&&p(s,i,"start",E(o)),v(),a&&p(s,i,"close",E(o));else{u&&!function(n){n=n.querySelectorAll("["+U+"]");vn(n,function(n){var t=parseInt(n.getAttribute(U),10),e=b.get(n);if(e)switch(t){case 2:e.runner.end();case 1:b.delete(n)}})}(c);n={structural:u,element:l,event:i,addClass:o.addClass,removeClass:o.removeClass,close:v,options:o,runner:s};if(e){if(I("skip",n,t))return 2===t.state?(v(),s):(L(l,t,n),t.runner);a=I("cancel",n,t);if(a)if(2===t.state)t.runner.end();else{if(!t.structural)return L(l,t,n),t.runner;t.close()}else if(I("join",n,t)){if(2!==t.state)return function(n,t,e){var a="";t&&(a=rn(t,$n,!0)),e.addClass&&(a=H(a,rn(e.addClass,tn))),(a=e.removeClass?H(a,rn(e.removeClass,en)):a).length&&(e.preparationClasses=a,n.addClass(a))}(l,u?i:null,o),i=n.event=t.event,o=L(l,t,n),t.runner;O(l,n)}}else O(l,n);var d,e=n.structural;(e=e||"animate"===n.event&&0<Object.keys(n.options.to||{}).length||R(n))?(n.counter=d=(t.counter||0)+1,M(c,1,n),g.$$postDigest(function(){l=V(r);var n=!(t=b.get(c)),t=t||{},e=0<(l.parent()||[]).length&&("animate"===t.event||t.structural||R(t));n||t.counter!==d||!e?(n&&(x(l,o),sn(l,o)),(n||u&&t.event!==i)&&(o.domOperation(),s.end()),e||F(c)):(i=!t.structural&&R(t,!0)?"setClass":t.event,M(c,2),n=y(l,i,t.options),s.setHost(n),p(s,i,"start",E(o)),n.done(function(n){v(!n);n=b.get(c);n&&n.counter===d&&F(c),p(s,i,"close",E(o))}))})):(v(),F(c))}}else v();return s;function p(n,o,s,u){m(function(){t=f,e=c,r=[],(n=T[a=o])&&vn(n,function(n){(P.call(n.node,e)||"leave"===a&&P.call(n.node,t))&&r.push(n.callback)});var t,e,a,r,n,i=r;i.length?h(function(){vn(i,function(n){n(l,s,u)}),N(s,c)}):N(s,c)}),n.progress(o,s,u)}function v(n){var t,e;t=l,(e=o).preparationClasses&&(t.removeClass(e.preparationClasses),e.preparationClasses=null),e.activeClasses&&(t.removeClass(e.activeClasses),e.activeClasses=null),x(l,o),sn(l,o),o.domOperation(),s.complete(!n)}},enabled:function(n,t){var e,a=arguments.length;return 0===a?t=!!w:d(n)?(e=un(n),1===a?t=!k.get(e):(k.has(e)||Q(n).on("$destroy",r),k.set(e,!t))):t=w=!!n,t}};return l;function F(n){n.removeAttribute(U),b.delete(n)}function M(n,t,e){(e=e||{}).state=t,n.setAttribute(U,t);t=b.get(n),t=t?z(t,e):e;b.set(n,t)}}]}],$=["$animateProvider",function(n){var D="ng-animate-ref",A=this.drivers=[],f="$$animationRunner",b="$$animatePrepareClasses";function k(n){return n.data(f)}this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler","$$animateCache",function(v,u,h,l,d,g,$){var C=[],c=p(v);function y(n){for(var i={children:[]},o=new d,t=0;t<n.length;t++){var e=n[t];o.set(e.domNode,n[t]={domNode:e.domNode,element:e.element,fn:e.fn,children:[]})}for(t=0;t<n.length;t++)!function n(t){if(t.processed)return t;t.processed=!0;var e=t.domNode;var a=e.parentNode;o.set(e,t);var r;for(;a;){if(r=o.get(a)){r.processed||(r=n(r));break}a=a.parentNode}(r||i).children.push(t);return t}(n[t]);var a,r=i,s=[],u=[];for(a=0;a<r.children.length;a++)u.push(r.children[a]);var l=u.length,c=0,f=[];for(a=0;a<u.length;a++){var m=u[a];l<=0&&(l=c,c=0,s.push(f),f=[]),f.push(m),m.children.forEach(function(n){c++,u.push(n)}),l--}return f.length&&s.push(f),s}return function(t,e,p){p=on(p);var n,a,r=0<=["enter","move","leave"].indexOf(e),i=new l({end:function(){s()},cancel:function(){s(!0)}});return A.length?(n=T(t.attr("class"),T(p.addClass,p.removeClass)),(a=p.tempClasses)&&(n+=" "+a,p.tempClasses=null),r&&t.data(b,"ng-"+e+"-prepare"),t.data(f,i),C.push({element:t,classes:n,event:e,structural:r,options:p,beforeStart:function(){a=(a?a+" ":"")+w,v.addClass(t,a);var n=t.data(b);n&&(v.removeClass(t,n),n=null)},close:s}),t.on("$destroy",o),1<C.length||u.$$postDigest(function(){for(var s,u,o,l,c,t=[],n=(vn(C,function(n){k(n.element)?t.push(n):n.close()}),C.length=0,u=[],o={},vn(s=t,function(n,e){var a,r,t=un(n.element),i=0<=["enter","move"].indexOf(n.event),t=n.structural?(t=(t=t).hasAttribute(D)?[t]:t.querySelectorAll("[ng-animate-ref]"),a=[],vn(t,function(n){var t=n.getAttribute(D);t&&t.length&&a.push(n)}),a):[];t.length?(r=i?"to":"from",vn(t,function(n){var t=n.getAttribute(D);o[t]=o[t]||{},o[t][r]={animationID:e,element:Q(n)}})):u.push(n)}),l={},c={},vn(o,function(n,t){var e,a,r,i,o=n.from,n=n.to;o&&n?(e=s[o.animationID],a=s[n.animationID],r=o.animationID.toString(),c[r]||((i=c[r]={structural:!0,beforeStart:function(){e.beforeStart(),a.beforeStart()},close:function(){e.close(),a.close()},classes:function(n,t){n=n.split(" "),t=t.split(" ");for(var e=[],a=0;a<n.length;a++){var r=n[a];if("ng-"!==r.substring(0,3))for(var i=0;i<t.length;i++)if(r===t[i]){e.push(r);break}}return e.join(" ")}(e.classes,a.classes),from:e,to:a,anchors:[]}).classes.length?u.push(i):(u.push(e),u.push(a))),c[r].anchors.push({out:o.element,in:n.element})):(r=(i=(o||n).animationID).toString(),l[r]||(l[r]=!0,u.push(s[i])))}),u),e=[],a=(vn(n,function(i){var n=(i.from||i).element,t=p.addClass,o=$.cacheKey(n[0],i.event,(t?t+" ":"")+w,p.removeClass);e.push({element:n,domNode:un(n),fn:function(){var n,t,e,a=i.close;function r(n){n=k(n);n&&n.setHost(e)}!$.containsCachedAnimationWithoutDuration(o)&&(i.beforeStart(),t=k(i.anchors?i.from.element||i.to.element:i.element)&&(n=function(n){for(var t=A.length-1;0<=t;t--){var e=A[t],e=h.get(e)(n);if(e)return e}}(i))?n.start:t)?((n=t()).done(function(n){a(!n)}),e=n,(t=i).from&&t.to?(r(t.from.element),r(t.to.element)):r(t.element)):a()}})}),y(e)),r=0;r<a.length;r++)for(var i=a[r],f=0;f<i.length;f++){var m=i[f],d=m.element;a[r][f]=m.fn,0===r?d.removeData(b):(m=d.data(b))&&v.addClass(d,m)}g(a)})):s(),i;function o(){var n=k(t);!n||"leave"===e&&p.$$domOperationFired||n.end()}function s(n){t.off("$destroy",o),t.removeData(f),c(t,p),sn(t,p),p.domOperation(),a&&v.removeClass(t,a),i.complete(!n)}}}]}];n.module("ngAnimate",[],function(){gn=n.noop,xn=n.copy,z=n.extend,Q=n.element,vn=n.forEach,hn=n.isArray,B=n.isString,W=n.isObject,J=n.isUndefined,G=n.isDefined,y=n.isFunction,d=n.isElement}).info({angularVersion:"1.8.2"}).directive("ngAnimateSwap",["$animate",function(s){return{restrict:"A",transclude:"element",terminal:!0,priority:550,link:function(n,e,t,a,r){var i,o;n.$watchCollection(t.ngAnimateSwap||t.for,function(n){i&&s.leave(i),o&&(o.$destroy(),o=null),!n&&0!==n||r(function(n,t){i=n,o=t,s.enter(n,null,e)})})}}}]).directive("ngAnimateChildren",s).factory("$$rAFScheduler",["$$rAF",function(e){var a,r;function n(n){a=a.concat(n),i()}return a=n.queue=[],n.waitUntilQuiet=function(n){r&&r(),r=e(function(){r=null,n(),i()})},n;function i(){if(a.length){for(var n=a.shift(),t=0;t<n.length;t++)n[t]();r||e(function(){r||i()})}}}]).provider("$$animateQueue",g).provider("$$animateCache",function(){var i="$$ngAnimateParentKey",o=0,a=Object.create(null);this.$get=[function(){return{cacheKey:function(n,t,e,a){var r=n.parentNode,r=[r[i]||(r[i]=++o),t,n.getAttribute("class")];return e&&r.push(e),a&&r.push(a),r.join(" ")},containsCachedAnimationWithoutDuration:function(n){n=a[n];return n&&!n.isValid||!1},flush:function(){a=Object.create(null)},count:function(n){n=a[n];return n?n.total:0},get:function(n){n=a[n];return n&&n.value},put:function(n,t,e){a[n]?(a[n].total++,a[n].value=t):a[n]={total:1,value:t,isValid:e}}}}]}).provider("$$animation",$).provider("$animateCss",t).provider("$$animateCssDriver",l).provider("$$animateJs",c).provider("$$animateJsDriver",h)}(window,window.angular);
angular.module("templateCache",[]).run(["$templateCache",function(e){e.put("/components/auto-search/auto-search.html",'<div class="ep-autostock"><div class="ep-autostock__block"><div class="ep-autostock__tabs"><div class="ep-autostock__tab" ng-class="{\'ep-autostock__tab--activ\' : $ctrl.searchFilter.pageType == 3 }" ng-click="$ctrl.searchFilter.pageType = 3"><div class="ep-autostock__tab-item">Все</div></div><div class="ep-autostock__tab" ng-class="{\'ep-autostock__tab--activ\' : $ctrl.searchFilter.pageType == 2 }" ng-click="$ctrl.searchFilter.pageType = 2"><div class="ep-autostock__tab-item">Новые</div></div><div class="ep-autostock__tab" ng-class="{\'ep-autostock__tab--activ\' : $ctrl.searchFilter.pageType == 1 }" ng-click="$ctrl.searchFilter.pageType = 1"><div class="ep-autostock__tab-item">С пробегом</div></div></div><div class="ep-autostock__tabs-contents"><div class="ep-autostock__marks"><a ng-repeat="l in $ctrl.brandsWithLogos" ng-href="/auto{{l.url}}" class="ep-autostock__marks-item"><picture><source type="image/webp" data-srcset="/image/make/{{l.brandId}}?w=48&h=48&logo=true&crop=false&f=webp"><img class="ep-autostock__marks-pic lazy" data-src="/image/make/{{l.brandId}}?w=48&h=48&logo=true&crop=false"></picture></a></div></div><div class="ep-autostock__choise"><div class="ep-autostock__choise-item"><angucomplete-alt id="vehicleSuperTypesInput" auto-match="true" placeholder="Тип ТС" pause="100" selected-object="$ctrl.selectedVehicleSuperType" local-data="$ctrl.vehicleSuperTypes" disable-input="$ctrl.filterNotReady" title-field="label" search-fields="label" minlength="0" read-only-input="true" dropdown-on-focus="true" input-class="ep-selectfield ep-inputfield ep-inputfield--l"></div><div class="ep-autostock__choise-item"><angucomplete-alt id="brandsInput" auto-match="true" placeholder="Марка" pause="100" selected-object="$ctrl.selectedBrand" local-data="$ctrl.filterValues.brands" title-field="label" search-fields="label,aliases" dropdown-on-focus="true" minlength="0" disable-input="$ctrl.filterNotReady" input-class="ep-selectfield ep-inputfield ep-inputfield--l"></div><div class="ep-autostock__choise-item"><angucomplete-alt id="modelsInput" auto-match="true" placeholder="Модель" pause="100" selected-object="$ctrl.selectedModel" local-data="$ctrl.filterValues.models" disable-input="!$ctrl.filterValues.models || $ctrl.filterNotReady" title-field="label" search-fields="label,aliases" dropdown-on-focus="true" minlength="0" input-class="ep-selectfield ep-inputfield ep-inputfield--l"></div><div class="ep-autostock__choise-item"><a class="ep-btn ep-btn__main ep-btn--l" ng-href="/auto{{$ctrl.getClearUrl($ctrl.filterValues.url, true)}}" ng-class="{\'ep-btn__load\':$ctrl.filterNotReady}" ng-disabled="$ctrl.filterNotReady" ng-bind="$ctrl.filterNotReady ? \'\' : \'Показать предложения\'"></a></div></div></div></div>'),e.put("/components/calc-lfl/calc-lfl.html",'<div class="ep-lflcalc"><h2>Настройте свой лизинг</h2><div class="ep-tabs"><div class="ep-tab" ng-repeat="p in $ctrl.calcPresets" ng-class="{\'ep-tab--activ\': $ctrl.calcPreset == p.type}" ng-click="$ctrl.calcPreset=p.type"><div class="ep-tab-item" ng-bind="p.label"></div></div></div><div class="ep-tabs-contents"><div class="ep-calcsetup"><div class="ep-calculation"><div id="tab-1" class="ep-tab-content ep-tab-content--activ"><div class="ep-typecalc__calc"><div class="ep-typecalc__paybox"><div class="ep-typecalc__payitem"><div class="ep-autoscalc__data"><label class="ep-autoscalc__label" for="amount">Стоимость</label><div class="ep-autoscalc__total">{{$ctrl.calc.price | number}} ₽</div></div><rzslider rz-slider-model="$ctrl.calc.price" rz-slider-options="$ctrl.rzSliderOptions.price"></rzslider><div class="ep-autoscalc__limit"><span>{{$ctrl.rzSliderOptions.price.floor | number}} ₽</span> <span>{{$ctrl.rzSliderOptions.price.ceil | number}} ₽</span></div></div><div class="ep-typecalc__payitem"><div class="ep-autoscalc__data"><label class="ep-autoscalc__label" for="amount">Аванс</label><div class="ep-autoscalc__total">{{$ctrl.calc.price * ($ctrl.calc.advance / 100) | number:0}} ₽</div><div class="ep-autoscalc__prc">{{$ctrl.calc.advance}}%</div></div><rzslider rz-slider-model="$ctrl.calc.advance" rz-slider-options="$ctrl.rzSliderOptions.advance"></rzslider><div class="ep-autoscalc__limit"><span>{{ $ctrl.rzSliderOptions.advance.floor }}%</span> <span>{{ $ctrl.rzSliderOptions.advance.ceil }}%</span></div></div><div class="ep-typecalc__payitem"><div class="ep-autoscalc__data"><label class="ep-autoscalc__label" for="amount">Срок лизинга</label><div class="ep-autoscalc__total">{{$ctrl.calc.term}} мес.</div></div><rzslider rz-slider-model="$ctrl.calc.term" rz-slider-options="$ctrl.rzSliderOptions.term"></rzslider><div class="ep-autoscalc__limit"><span>{{$ctrl.rzSliderOptions.term.floor}} мес.</span> <span>{{$ctrl.rzSliderOptions.term.ceil}} мес.</span></div></div></div><div class="ep-typecalc__result"><div class="ep-autoscalc__result"><dl class="ep-autoscalc__result-dl"><dt class="ep-autoscalc__result-dt">Сумма договора лизинга&nbsp;<i flow="up" tooltip="{{$ctrl.tooltips.agreementAmount}}">?</i></dt><dd class="ep-autoscalc__result-dd">{{ $ctrl.payment.agreementAmount | number:0 }} ₽</dd></dl><dl class="ep-autoscalc__result-dl"><dt class="ep-autoscalc__result-dt ep-clr--activ ep-f--l">Ежемесячный платёж&nbsp;<i flow="up" tooltip="{{$ctrl.tooltips.payment}}">?</i></dt><dd class="ep-autoscalc__result-dd ep-clr--activ">{{ $ctrl.payment.payment | number }} ₽</dd></dl><div class="ep--divider"></div><dl class="ep-autoscalc__result-dl"><dt class="ep-autoscalc__result-dt">Минимальный официальный доход<br>для одобрения лизинга<i style="margin:-15px 0 0 5px" flow="up" tooltip="Сумма ежемесячного платежа не должна превышать 60% от официального дохода">?</i></dt><dd class="ep-autoscalc__result-dd">{{ $ctrl.payment.payment * 1.4 | number:0 }} ₽</dd></dl><dl class="ep-autoscalc__result-dl"><dt class="ep-autoscalc__result-dt">Выкупной платеж&nbsp;<i flow="up" tooltip="Вы можете настроить выкупной платёж сами, для этого обратитесь к менеджеру Европлана.">?</i></dt><dd class="ep-autoscalc__result-dd">{{ $ctrl.redemptionPayment | number:0 }} ₽</dd></dl><dl class="ep-autoscalc__result-dl"><dt class="ep-autoscalc__result-dt">Удорожание</dt><dd class="ep-autoscalc__result-dd">{{ $ctrl.appreciation | number:1 }}% в год</dd></dl></div></div></div></div></div><ng-transclude></ng-transclude></div></div></div>'),e.put("/components/calculator/calc-main.html",'<div class="ep-autoscalc__calc ep-bg--type1 lazy" data-bg="/img/calc-bg1.png"><div class="ep-autoscalc__payment"><div class="ep-autoscalc__item"><p class="ep-popup__note" style="text-align:left">Расчёт предварительный, не&nbsp;является публичной офертой. Расчёт не&nbsp;распространяется на&nbsp;операционный лизинг, финальные условия уточняйте у&nbsp;менеджера.</p><div class="ep-autoscalc__data"><label class="ep-autoscalc__label" for="amount">Стоимость {{$ctrl.category != \'special\' ? \'автомобиля\' :\'техники\'}}, ₽</label> <input type="text" class="ep-autoscalc__total" number-input="$ctrl.calc.price" suffix="\' ₽\'" numbers-only range="{min: $ctrl.rzSliderOptions.price.floor, max: $ctrl.rzSliderOptions.price.ceil }"></div><rzslider rz-slider-model="$ctrl.calc.price" rz-slider-options="$ctrl.rzSliderOptions.price"></rzslider><div class="ep-autoscalc__limit"><span>{{$ctrl.rzSliderOptions.price.floor | number}} ₽</span> <span>{{$ctrl.rzSliderOptions.price.ceil | number}} ₽</span></div></div><div class="ep-autoscalc__item"><div class="ep-autoscalc__data" ng-class="{\'ep-inputfield__danger\': $ctrl.advanceWarning}"><label class="ep-autoscalc__label" for="amount">Аванс</label><div class="ep-autoscalc__total">{{$ctrl.calc.price * ($ctrl.calc.advance / 100) | number:0}} ₽</div><div class="ep-autoscalc__prc">{{$ctrl.calc.advance}}%</div></div><span class="ep-errorfield" flow="down" ng-if="$ctrl.advanceWarning">При сроке лизинга от&nbsp;60&nbsp;месяцев аванс от&nbsp;10%</span><rzslider rz-slider-model="$ctrl.calc.advance" rz-slider-options="$ctrl.rzSliderOptions.advance"></rzslider><div class="ep-autoscalc__limit"><span>{{ $ctrl.rzSliderOptions.advance.floor }}%</span> <span>{{ $ctrl.rzSliderOptions.advance.ceil }}%</span></div></div><div class="ep-autoscalc__item"><div class="ep-autoscalc__data"><label class="ep-autoscalc__label" for="amount">Срок лизинга</label><div class="ep-autoscalc__total">{{$ctrl.calc.term}} мес.</div></div><rzslider rz-slider-model="$ctrl.calc.term" rz-slider-options="$ctrl.rzSliderOptions.term"></rzslider><div class="ep-autoscalc__limit"><span>{{$ctrl.rzSliderOptions.term.floor}} мес.</span> <span>{{$ctrl.rzSliderOptions.term.ceil}} мес.</span></div></div></div><div class="ep-autoscalc__result"><div class="ep-autoscalc__result-head">Результат расчёта</div><dl class="ep-autoscalc__result-dl"><dt class="ep-autoscalc__result-dt">Сумма договора лизинга&nbsp;<i class="tooltip" tooltip="{{$ctrl.tooltips.agreementAmount}}"><img class="ep--tooltip" src="/img/tool.svg"></i></dt><dd class="ep-autoscalc__result-dd" ng-if="!$ctrl.isCalculating">{{ $ctrl.payment.agreementAmount | number:0 }} ₽</dd><dd class="ep-autoscalc__result-dd ph-item" ng-if="$ctrl.isCalculating"><div class="ph-row"><div class="ph-col-12">&nbsp;</div></div></dd></dl><dl class="ep-autoscalc__result-dl"><dt class="ep-autoscalc__result-dt ep-f--l ep-clr--activ">Ежемесячный платёж&nbsp;<i class="tooltip" tooltip="{{$ctrl.tooltips.payment}}"><img class="ep--tooltip" src="/img/tool.svg"></i></dt><dd class="ep-autoscalc__result-dd ep-clr--activ" ng-if="!$ctrl.isCalculating">{{ $ctrl.payment.payment | number }} ₽</dd><dd class="ep-autoscalc__result-dd ph-item" ng-if="$ctrl.isCalculating"><div class="ph-row"><div class="ph-col-12">&nbsp;</div></div></dd></dl><dl class="ep-autoscalc__result-dl" ng-if="$ctrl.calc.term != $ctrl.rzSliderOptions.term.ceil"><dt class="ep-autoscalc__result-link" ng-click="$ctrl.calc.term = $ctrl.rzSliderOptions.term.ceil;$ctrl.calc.advance = $ctrl.rzSliderOptions.advance.ceil">Уменьшить платёж в месяц&nbsp;<i class="tooltip tooltip-n" tooltip="{{$ctrl.tooltips.minPayment}}"></i></dt></dl><div class="ep--divider"></div><dl class="ep-autoscalc__result-dl"><dt class="ep-autoscalc__result-dt">Общая сумма затрат<br>с учётом выгоды по налогам</dt><dd class="ep-autoscalc__result-dd" ng-if="!$ctrl.isCalculating">{{ $ctrl.payment.acquisitionCost | number }} ₽</dd><dd class="ep-autoscalc__result-dd ph-item" ng-if="$ctrl.isCalculating"><div class="ph-row"><div class="ph-col-12">&nbsp;</div></div></dd></dl><dl class="ep-autoscalc__result-dl"><dt class="ep-autoscalc__result-dt">—&nbsp;Возмещение НДС&nbsp;<i class="tooltip" tooltip="{{$ctrl.tooltips.creditedVAT}}"><img class="ep--tooltip" src="/img/tool.svg"></i></dt><dd class="ep-autoscalc__result-dd" ng-if="!$ctrl.isCalculating">{{ $ctrl.payment.creditedVAT | number: 0 }} ₽</dd><dd class="ep-autoscalc__result-dd ph-item" ng-if="$ctrl.isCalculating"><div class="ph-row"><div class="ph-col-12">&nbsp;</div></div></dd></dl><dl class="ep-autoscalc__result-dl"><dt class="ep-autoscalc__result-dt">—&nbsp;Экономия по налогу на прибыль&nbsp;<i class="tooltip" tooltip="{{$ctrl.tooltips.taxSavings}}"><img class="ep--tooltip" src="/img/tool.svg"></i></dt><dd class="ep-autoscalc__result-dd" ng-if="!$ctrl.isCalculating">{{ $ctrl.payment.taxSavings | number: 0 }} ₽</dd><dd class="ep-autoscalc__result-dd ph-item" ng-if="$ctrl.isCalculating"><div class="ph-row"><div class="ph-col-12">&nbsp;</div></div></dd></dl><button init-popup="Оставить заявку" class="ep-btn ep-btn__main ep-btn--l" ng-click="$ctrl.onRequest()">Оставить заявку</button></div></div>'),e.put("/components/calculator/calculator.html",'<div class="ep-typecalc"><h2>Калькулятор лизинга</h2><div class="ep-autosale-subhead">Сделайте предварительный расчёт ежемесячного платежа по лизингу</div><div class="ep-tabs"><div class="ep-tab" ng-repeat="t in $ctrl.data.vehicleTypes" ng-class="{\'ep-tab--activ\':$ctrl.vehicleType==t.type}" ng-click="$ctrl.vehicleType=t.type"><div class="ep-tab-item">{{t.label}}</div></div></div><div class="ep-typecalc__choise"><div class="ep-typecalc__choise-item" ng-class="{\'ep-tab--hide-mobile\':!$ctrl.loadStates.brands}"><angucomplete-alt id="brandsInput" auto-match="true" pause="100" placeholder="Марка" selected-object="$ctrl.brand" remote-url="/api/data/automarket-brands?url=/{{$ctrl.kind ? $ctrl.kind.originalObject.url : $ctrl.vehicleType}}&name=" disable-input="!$ctrl.loadStates.brands" title-field="name" minlength="0" dropdown-on-focus="true" input-class="ep-selectfield ep-inputfield ep-inputfield--l"></div><div class="ep-typecalc__choise-item" ng-class="{\'ep-tab--hide-mobile\':!$ctrl.loadStates.models}"><angucomplete-alt id="modelsInput" auto-match="true" placeholder="Модель" pause="100" selected-object="$ctrl.model" local-data="$ctrl.models" disable-input="!$ctrl.loadStates.models" search-fields="modelName" title-field="modelName" minlength="0" dropdown-on-focus="true" input-class="ep-selectfield ep-inputfield ep-inputfield--l"></div><div class="ep-typecalc__choise-item" ng-class="{\'ep-tab--hide-mobile\':!$ctrl.loadStates.mdfs}"><angucomplete-alt id="mdfsInput" auto-match="true" placeholder="Модификация" pause="100" selected-object="$ctrl.mdf" local-data="$ctrl.mdfs" disable-input="!$ctrl.loadStates.mdfs" search-fields="name" title-field="name" minlength="0" dropdown-on-focus="true" input-class="ep-selectfield ep-inputfield ep-inputfield--l"></div><div class="ep-typecalc__choise-item" ng-if="$ctrl.vehicleType==\'cars\'" ng-class="{\'ep-tab--hide-mobile\':!$ctrl.loadStates.options}"><angucomplete-alt id="optionsInput" auto-match="true" placeholder="Комплектация" pause="100" selected-object="$ctrl.option" local-data="$ctrl.options" disable-input="!$ctrl.loadStates.options" search-fields="name" title-field="name" minlength="0" dropdown-on-focus="true" input-class="ep-selectfield ep-inputfield ep-inputfield--l"></div></div><div class="ep-typecalc__photobox--mob" ng-class="{\'ep-tab--hide-mobile\':$ctrl.urls.automarket.length==0}"><div class="ep-typecalc__photo"><img class="ep-typecalc__photo-pic" ng-src="{{$ctrl.urls.image}}" ng-if="$ctrl.urls.image.length>0"></div><a ng-disabled="$ctrl.urls.automarket.length==0" ng-href="{{$ctrl.urls.automarket.length>0? \'/auto\' + $ctrl.urls.automarket: \'#\'}}" class="ep-typecalc__btn">Посмотреть в каталоге</a></div><div class="ep-hr--mob"></div><div class="ep-typecalc__tabs"><div class="ep-typecalc__tab" ng-repeat="p in $ctrl.data.calcPresets" ng-class="{\'ep-typecalc__tab--activ\': $ctrl.calcPreset == p.type}" ng-click="$ctrl.calcPreset=p.type">{{p.label}} <span ng-bind-html-unsafe="p.tooltip" style="margin-left:6px"></span></div></div><div class="ep-typecalc__calc"><div class="ep-typecalc__payment"><div class="ep-typecalc__photobox"><div class="ep-typecalc__photo ep-typecalc__{{$ctrl.vehicleType}}"><img class="ep-typecalc__photo-pic" ng-src="{{$ctrl.urls.image}}" ng-if="$ctrl.urls.image.length>0"></div><a ng-disabled="$ctrl.urls.automarket.length==0" ng-href="{{$ctrl.urls.automarket.length>0? \'/auto\' + $ctrl.urls.automarket: \'#\'}}" class="ep-typecalc__btn">Посмотреть в каталоге</a></div><div class="ep-typecalc__paybox"><div class="ep-typecalc__payitem"><p class="ep-popup__note" style="text-align:left">Расчёт предварительный, не&nbsp;является публичной офертой. Расчёт не&nbsp;распространяется на&nbsp;операционный лизинг, финальные условия уточняйте у&nbsp;менеджера.</p><div class="ep-autoscalc__data"><label class="ep-autoscalc__label" for="amount">Стоимость</label> <input type="text" class="ep-autoscalc__total" number-input="$ctrl.calc.price" suffix="\' ₽\'" numbers-only range="{min: $ctrl.rzSliderOptions.price.floor, max: $ctrl.rzSliderOptions.price.ceil }"></div><rzslider rz-slider-model="$ctrl.calc.price" rz-slider-options="$ctrl.rzSliderOptions.price"></rzslider><div class="ep-autoscalc__limit"><span>{{$ctrl.rzSliderOptions.price.floor | number}} ₽</span> <span>{{$ctrl.rzSliderOptions.price.ceil | number}} ₽</span></div></div><div class="ep-typecalc__payitem"><div class="ep-autoscalc__data" ng-class="{\'ep-inputfield__danger\': $ctrl.advanceWarning}"><label class="ep-autoscalc__label" for="amount">Аванс</label><div class="ep-autoscalc__total">{{$ctrl.calc.price * ($ctrl.calc.advance / 100) | number:0}} ₽</div><div class="ep-autoscalc__prc">{{$ctrl.calc.advance}}%</div></div><span class="ep-errorfield" flow="down" ng-if="$ctrl.advanceWarning">При сроке лизинга от&nbsp;60&nbsp;месяцев аванс от&nbsp;10%</span><rzslider rz-slider-model="$ctrl.calc.advance" rz-slider-options="$ctrl.rzSliderOptions.advance"></rzslider><div class="ep-autoscalc__limit"><span>{{ $ctrl.rzSliderOptions.advance.floor }}%</span> <span>{{ $ctrl.rzSliderOptions.advance.ceil }}%</span></div></div><div class="ep-typecalc__payitem"><div class="ep-autoscalc__data"><label class="ep-autoscalc__label" for="amount">Срок лизинга</label><div class="ep-autoscalc__total">{{$ctrl.calc.term}} мес.</div></div><rzslider rz-slider-model="$ctrl.calc.term" rz-slider-options="$ctrl.rzSliderOptions.term"></rzslider><div class="ep-autoscalc__limit"><span>{{$ctrl.rzSliderOptions.term.floor}} мес.</span> <span>{{$ctrl.rzSliderOptions.term.ceil}} мес.</span></div></div></div></div><div class="ep-typecalc__result"><div class="ep-autoscalc__result"><div class="ep-autoscalc__result-head">Результат расчёта</div><dl class="ep-autoscalc__result-dl" ng-if="$ctrl.discountRub"><dt class="ep-autoscalc__result-dt">Скидка до&nbsp;<i flow="up" tooltip="Cкидки предоставляются поставщиками автомобилей и техники в рамках программ сотрудничества с ПАО «ЛК «Европлан».">?</i></dt><dd class="ep-autoscalc__result-dd" ng-if="!$ctrl.isCalculating">{{ $ctrl.discountRub | number }} ₽</dd><dd class="ep-autoscalc__result-dd ph-item" ng-if="$ctrl.isCalculating"><div class="ph-row"><div class="ph-col-12">&nbsp;</div></div></dd></dl><dl class="ep-autoscalc__result-dl"><dt class="ep-autoscalc__result-dt">Сумма договора лизинга&nbsp;<i flow="up" tooltip="{{$ctrl.tooltips.agreementAmount}}">?</i></dt><dd class="ep-autoscalc__result-dd" ng-if="!$ctrl.isCalculating">{{ $ctrl.payment.agreementAmount | number:0 }} ₽</dd><dd class="ep-autoscalc__result-dd ph-item" ng-if="$ctrl.isCalculating"><div class="ph-row"><div class="ph-col-12">&nbsp;</div></div></dd></dl><dl class="ep-autoscalc__result-dl"><dt class="ep-autoscalc__result-dt ep-clr--activ ep-f--l">Ежемесячный платёж&nbsp;<i flow="up" tooltip="{{$ctrl.tooltips.payment}}">?</i><br><br></dt><dd class="ep-autoscalc__result-dd ep-clr--activ" ng-if="!$ctrl.isCalculating">{{ $ctrl.payment.payment | number }} ₽</dd><dd class="ep-autoscalc__result-dd ph-item" ng-if="$ctrl.isCalculating"><div class="ph-row"><div class="ph-col-12">&nbsp;</div></div></dd></dl><dl class="ep-autoscalc__result-dl" ng-if="$ctrl.calcPreset !== $ctrl.data.calcPresets[1].type" style="margin-top:-16px"><dd class="ep-autoscalc__result-link" ng-click="$ctrl.calcPreset=$ctrl.data.calcPresets[1].type">Уменьшить платёж в месяц&nbsp;<i class="tooltip tooltip-n" tooltip="{{$ctrl.tooltips.minPayment}}"></i></dd></dl><div class="ep--divider"></div><dl class="ep-autoscalc__result-dl"><dt class="ep-autoscalc__result-dt">Общая сумма затрат<br>с учётом выгоды по налогам&nbsp;<i flow="up" tooltip="Не включает услуги обязательного страхования (ОСАГО и каско)">?</i></dt><dd class="ep-autoscalc__result-dd" ng-if="!$ctrl.isCalculating">{{ $ctrl.payment.acquisitionCost | number }} ₽</dd><dd class="ep-autoscalc__result-dd ph-item" ng-if="$ctrl.isCalculating"><div class="ph-row"><div class="ph-col-12">&nbsp;</div></div></dd></dl><dl class="ep-autoscalc__result-dl ep-autoscalc__result-dl--min"><dt class="ep-autoscalc__result-dt">— возмещение НДС&nbsp;<i flow="up" tooltip="{{$ctrl.tooltips.creditedVAT}}">?</i></dt><dd class="ep-autoscalc__result-dd" ng-if="!$ctrl.isCalculating">{{ $ctrl.payment.creditedVAT | number: 0 }} ₽</dd><dd class="ep-autoscalc__result-dd ph-item" ng-if="$ctrl.isCalculating"><div class="ph-row"><div class="ph-col-12">&nbsp;</div></div></dd></dl><dl class="ep-autoscalc__result-dl ep-autoscalc__result-dl--min"><dt class="ep-autoscalc__result-dt">— экономия по налогу на прибыль&nbsp;<i flow="up" tooltip="{{$ctrl.tooltips.taxSavings}}">?</i></dt><dd class="ep-autoscalc__result-dd" ng-if="!$ctrl.isCalculating">{{ $ctrl.payment.taxSavings | number: 0 }} ₽</dd><dd class="ep-autoscalc__result-dd ph-item" ng-if="$ctrl.isCalculating"><div class="ph-row"><div class="ph-col-12">&nbsp;</div></div></dd></dl><a init-popup init-block="Calculator" class="ep-btn ep-btn__main ep-btn--l" ng-click="$ctrl.onRequest()">Оставить заявку</a></div></div></div></div>'),e.put("/components/compare-models/compare-models.html",'<div class="ep-compare"><h2>Сравнение моделей по стоимости лизинга</h2><div class="ep-compare__box"><div class="ep-compare__payment"><div class="ep-compare__payment-form"><div class="ep-compare__payment-chek"><label class="ep-option-label"><input ng-model="$ctrl.isVATcredited" ng-value="true" type="radio" class="ep-option-check ep-radio-check"> <span></span> Доход юр. лица облагается НДС</label> <label class="ep-option-label"><input ng-model="$ctrl.isVATcredited" ng-value="false" type="radio" class="ep-option-check ep-radio-check"> <span></span> Доход юр. лица не облагается НДС</label></div><div class="ep-compare__payment-range"><div class="ep-autoscalc__item"><div class="ep-autoscalc__data"><label class="ep-autoscalc__label" for="amount">Аванс</label> <input type="text" class="ep-autoscalc__total" ng-if="$ctrl.advanceInput" auto-focus="true" ng-blur="$ctrl.advanceInput = 0;$ctrl.calc.advance==0?$ctrl.calc.advance=$ctrl.rzSliderOptions.advance.ceil:\'\'" number-input="$ctrl.calc.advance" numbers-only range="{min: $ctrl.rzSliderOptions.advance.floor, max: $ctrl.rzSliderOptions.advance.ceil }"><div ng-click="$ctrl.advanceInput = 1;$ctrl.calc.advance=0" ng-if="!$ctrl.advanceInput"><div class="ep-autoscalc__total" contenteditable="true">{{$ctrl.calc.advance}}%</div></div></div><rzslider rz-slider-model="$ctrl.calc.advance" rz-slider-options="$ctrl.rzSliderOptions.advance"></rzslider><div class="ep-autoscalc__limit"><span>{{ $ctrl.rzSliderOptions.advance.floor }}%</span> <span>{{ $ctrl.rzSliderOptions.advance.ceil }}%</span></div></div><div class="ep-autoscalc__item"><div class="ep-autoscalc__data"><label class="ep-autoscalc__label" for="amount">Срок лизинга</label> <input type="text" class="ep-autoscalc__total" ng-if="$ctrl.termInput" auto-focus="true" ng-blur="$ctrl.termInput = 0;$ctrl.calc.term==0?$ctrl.calc.term=$ctrl.rzSliderOptions.term.ceil:\'\'" number-input="$ctrl.calc.term" numbers-only range="{min: $ctrl.rzSliderOptions.term.floor, max: $ctrl.rzSliderOptions.term.ceil }"><div class="ep-autoscalc__total" ng-click="$ctrl.termInput = 1;$ctrl.calc.term=0" ng-if="!$ctrl.termInput">{{$ctrl.calc.term}} мес.</div></div><rzslider rz-slider-model="$ctrl.calc.term" rz-slider-options="$ctrl.rzSliderOptions.term"></rzslider><div class="ep-autoscalc__limit"><span>12 мес.</span> <span>84 мес.</span></div></div></div></div><div class="ep-compare__cols"><div class="ep-compare__cols-item">Платёж</div><div class="ep-compare__cols-item">Сумма договора лизинга</div><div class="ep-compare__cols-item">Скидка</div><div class="ep-compare__cols-item" ng-if="$ctrl.isVATcredited">Возврат НДС</div><div class="ep-compare__cols-item">Экономия по налогу на прибыль</div><div class="ep-compare__cols-item"><strong>Итого затраты на приобретение</strong></div></div></div><div class="ep-compare__result"><div class="ep-compare-edit"><a ng-click="$ctrl.editorMode = true" class="ep-compare-edit__link">Редактировать</a></div><div class="ep-compare__over"><ul class="ep-compare-list" dnd-list="$ctrl.modelGroupsWithPayment"><li class="ep-compare-list__item" ng-repeat="item in $ctrl.modelGroupsWithPayment" dnd-draggable="item" dnd-moved="$ctrl.modelGroupsWithPayment.splice($index, 1)" dnd-effect-allowed="move" dnd-selected="$ctrl.selected = item" ng-class="$ctrl.selected === item ? \'ep-compare-list__original\' : \'\'"><a href="" ng-click="$ctrl.remove($index)" class="ep-compare-list__out"><img class="lazy" data-src="/img/aut-compare-ep.svg" alt=""></a><div class="ep-compare-list__num">{{$index+1}}/{{$ctrl.modelGroupsWithPayment.length}}</div><div class="ep-compare-list__fig" style="min-height:130px"><img class="ep-compare-list__img lazy" data-src="/image/model/{{ item.modelGroup.modelId }}?icon=true" alt=""></div><div class="ep-compare-list__model"><a ng-href="/auto{{item.modelGroup.url}}">{{ item.modelGroup.brandName }} {{ item.modelGroup.modelName }}</a></div><div class="ep-compare-list__smalltxt">Рекомендованная цена <i class="tooltip" tooltip="Цена на автомобили определяется автопроизводителями и/или дилерскими центрами самостоятельно и предоставляется ПАО «ЛК «Европлан» для заключения договора лизинга, информацию о точной стоимости уточняйте у менеджера Европлана"><img class="ep--tooltip lazy" data-src="/img/tool.svg"></i></div><div class="ep-compare-list__price">от {{ item.modelGroup.price.lower | number }} ₽</div><section class="ep-compare-list__cols"><div class="ep-compare-list__cols-item"><span class="ep-compare-list__cols-label">Платёж</span>{{item.payment.payment | number}} ₽</div><div class="ep-compare-list__cols-item"><span class="ep-compare-list__cols-label">Сумма договора лизинга</span>{{item.payment.agreementAmount | number}} ₽</div><div class="ep-compare-list__cols-item"><div ng-if="item.modelGroup.discountPercent>0"><span class="ep-compare-list__cols-label">{{item.modelGroup.discountLabel}}</span>{{item.modelGroup.discountPercent}} % / {{item.modelGroup.discountRub | number}} ₽</div><div ng-if="!item.modelGroup.discountPercent && item.modelGroup.discountRub>0"><span class="ep-compare-list__cols-label">{{item.modelGroup.discountLabel}}</span>{{item.modelGroup.discountRub | number }} ₽</div><div ng-if="item.modelGroup.discountPercent == 0 && item.modelGroup.discountRub == 0"><span class="ep-compare-list__cols-label">&nbsp;</span> -</div></div><div class="ep-compare-list__cols-item" ng-if="$ctrl.isVATcredited"><span class="ep-compare-list__cols-label">Возврат НДС</span>{{item.payment.creditedVAT | number}} ₽</div><div class="ep-compare-list__cols-item"><span class="ep-compare-list__cols-label">Экономия по налогу на прибыль</span>{{item.payment.taxSavings | number}} ₽</div><div class="ep-compare-list__cols-item"><span class="ep-compare-list__cols-label">Итого затраты на приобретение</span>{{item.payment.acquisitionCost + (!$ctrl.isVATcredited ? item.payment.creditedVAT : 0) | number}} ₽</div></section><button class="ep-btn ep-btn__normal" init-popup="Оставить заявку">Оставить заявку</button></li><li class="ep-compare-list__item ep-compare-list__last" ng-click="$ctrl.$location.hash(\'addModel\');"><img class="lazy" data-src="/img/add-ep.svg" alt=""><p>Добавить автомобиль</p></li></ul></div><a ng-if="!$ctrl.addMode" ng-click="$ctrl.addMode = true" class="ep-compare__add">Добавить автомобиль</a></div></div></div><div id="addModel" class="ep-overlay"><div class="ep-popup ep-popup-request"><a class="ep-popup__close" history-back>×</a><div class="ep-popup__head">Добавьте автомобиль</div><div class="ep-popup__form"><div class="ep-popup__form-item"><div class="ep-autostock__choise-item"><angucomplete-alt id="brandsInput" auto-match="true" placeholder="Марка" pause="100" selected-object="$ctrl.brand" remote-url="/api/data/automarket-brands?url=/cars&name=" title-field="name" minlength="0" input-class="ep-selectfield ep-inputfield ep-inputfield--l"></div></div><div class="ep-popup__form-item"><div class="ep-autostock__choise-item"><angucomplete-alt id="modelsInput" auto-match="true" placeholder="Модель" pause="100" selected-object="$ctrl.model" local-data="$ctrl.models" disable-input="!$ctrl.modelsLoad" search-fields="modelName" title-field="modelName" minlength="0" input-class="ep-selectfield ep-inputfield ep-inputfield--l"></div></div><div class="ep-popup__form-item"><button ng-disabled="!$ctrl.model" ng-click="$ctrl.add()" class="ep-btn ep-btn__main ep-btn--l">Добавить</button></div></div></div></div><div class="ep-header__mobile-menu" ng-class="$ctrl.addMode || $ctrl.editorMode ? \'mobile-menu--open\':\'\'" style="margin-top:50px;z-index:10"><div class="ep-main__wrapper"><div class="ep-compare" ng-if="$ctrl.editorMode"><h2 ng-click="$ctrl.editorMode = false" class="ep-compare-head">Редактирование</h2><div class="ep-compare-redact"><div class="ep-compare-redact__item" ng-repeat="item in $ctrl.modelGroupsWithPayment"><a ng-click="$ctrl.remove($index)" class="ep-compare-redact__out"></a><div class="ep-compare-redact__fig"><img class="ep-compare-redact__pic lazy" data-src="/image/model/{{ item.modelGroup.modelId }}?icon=true" alt="{{ item.modelGroup.brandName }} {{ item.modelGroup.modelName }}"></div><div class="ep-compare-redact__cap"><div class="ep-compare-redact__head">{{ item.modelGroup.brandName }} {{ item.modelGroup.modelName }}</div><div class="ep-compare-redact__text">Cтоимость</div><div class="ep-compare-redact__price">от {{ item.modelGroup.price.lower | number }} ₽</div></div></div></div><a ng-click="$ctrl.modelGroupsWithPayment = null" class="ep-compare-clearlink">Очистить все</a></div><div class="ep-compare" ng-if="$ctrl.addMode"><h2 ng-click="$ctrl.addMode = false" class="ep-compare-head">Добавьте автомобиль</h2><div class="ep-compare-add"><div class="ep-compare-add__item"><div class="ep-autostock__choise-item"><angucomplete-alt id="brandsInput" auto-match="true" placeholder="Марка" pause="100" selected-object="$ctrl.brand" remote-url="/api/data/automarket-brands?url=/cars&name=" title-field="name" minlength="0" input-class="ep-selectfield ep-inputfield ep-inputfield--l"></div></div><div class="ep-compare-add__item"><div class="ep-autostock__choise-item"><angucomplete-alt id="modelsInput" auto-match="true" placeholder="Модель" pause="100" selected-object="$ctrl.model" local-data="$ctrl.models" disable-input="!$ctrl.modelsLoad" search-fields="modelName" title-field="modelName" minlength="0" input-class="ep-selectfield ep-inputfield ep-inputfield--l"></div></div></div><button ng-disabled="!$ctrl.model" ng-click="$ctrl.add(true)" class="ep-btn ep-btn__main ep-btn--l">Добавить</button></div></div></div><style>ul[dnd-list].ep-compare-list .dndPlaceholder{background-color:#ddd;display:block;min-width:224px}ul[dnd-list].ep-compare-list .dndDraggingSource{display:none}</style>'),e.put("/components/ep-disclaimer/ep-disclaimer.html",'<div id="disclaimer" class="ep-overlay ep-overlay-app"><div class="ep-popup ep-popup-newapp"><hgroup class="ep-app-headbox"><div class="ep-app-title">Согласие на обработку персональных данных</div><a class="ep-popup__close" history-back>×</a></hgroup><div class="ep-app-contbox"><p class="ep-article ep-disclaimer" ng-bind-html-unsafe="$ctrl.text"></p></div></div></div>'),e.put("/components/grid-advert/grid-advert.html",'<section class="ep-app-contbox"><div class="ep-app-gridbox"><div class="ep-app-gridpole"><div class="ep-photogallery--mob"><div class="ep-photothumbs"><img class="ep-photothumbs__thumb" ng-repeat="image in $ctrl.advertDetails.images" ng-src="/image/car?i={{image}}&w=320&h=240&crop=true" style="height:max-content"></div></div><div class="ep-photogallery"><div class="ep-photofullbox"><div class="ep-photothumbs__content"><img class="ep-photothumbs__full" ng-src="/image/car?i={{$ctrl.activeImageId}}&w=560&h=420&crop=true"> <img class="ep-photothumbs__zoom" src="/img/zoom.svg" ng-click="$ctrl.showGallery()"></div><button type="button" class="ep-photobtn ep-btn-left" ng-click="$ctrl.prevImg()" ng-class="{\'active\':$ctrl.activeImageIndex > 0}"><img src="/img/btn-left.svg"></button> <button type="button" class="ep-photobtn ep-btn-right" ng-click="$ctrl.nextImg()" ng-class="{\'active\':$ctrl.activeImageIndex < $ctrl.advertDetails.images.length - 1}"><img src="/img/btn-right.svg"></button></div><div class="ep-photothumbs"><button type="button" class="ep-photobtn ep-btn-up" ng-click="$ctrl.scrollUp()" ng-class="{\'active\': $ctrl.offsetTop >= 80}"><img src="/img/btn-up.svg"></button><div class="ep-photothumbs__container"><div class="ep-photothumbs__item" ng-click=" $ctrl.activeImageId = image; $ctrl.activeImageIndex = $index" ng-class="{\'ep-photothumbs__item--active\': image == $ctrl.activeImageId}" ng-repeat="image in $ctrl.advertDetails.images track by $index"><div class="ep-photothumbs__hugger"><img class="ep-photothumbs__thumb" ng-src="/image/car?i={{image}}&w=320&h=240&crop=true"></div></div></div><button type="button" class="ep-photobtn ep-btn-down active" ng-click="$ctrl.scrollDown()" ng-class="{\'active\': $ctrl.offsetTop < ($ctrl.advertDetails.images.length - 4) * 80}"><img src="/img/btn-down.svg"></button></div></div><div class="ep-uc_giftbox"><div class="ep-uc_gift" ng-repeat="tag in $ctrl.advertDetails.tags" ng-bind="tag"></div></div><h3>Характеристики</h3><div class="ep-acard-specbox"><dl><dt>Кузов:</dt><dd>{{$ctrl.advertDetails.bodyStr}}</dd></dl><dl><dt>Комплектация:</dt><dd ng-bind-html-unsafe="$ctrl.advertDetails.optionTitle"></dd></dl><dl><dt>Двигатель:</dt><dd>{{$ctrl.advertDetails.engineStr}}</dd></dl><dl><dt>Трансмиссия:</dt><dd>{{$ctrl.advertDetails.gearboxStr}}</dd></dl><dl><dt>Пробег:</dt><dd>{{$ctrl.advertDetails.mileage | number }} км</dd></dl><dl><dt>Год выпуска:</dt><dd>{{$ctrl.advertDetails.year}}</dd></dl><dl><dt>Цвет:</dt><dd><span class="ep-acard-coloritem {{$ctrl.advertDetails.colorName}}"></span> {{$ctrl.advertDetails.colorName}}</dd></dl></div></div><div class="ep-app-gridpole"><div class="ep-acard-pricebox"><div class="ep-acard-price" ng-if="$ctrl.advertDetails.discountRub">от {{$ctrl.advertDetails.advertPrice | number}} ₽</div><div class="ep-acard-sum">от {{$ctrl.advertDetails.advertPrice - $ctrl.advertDetails.discountRub | number}} ₽ <i class="tooltip" tooltip="{{$ctrl.tooltips.price}}"><img class="ep--tooltip" src="/img/tool.svg"></i></div></div><div class="ep-uc_giftbox"><div class="ep-uc_gift" ng-repeat="tag in $ctrl.advertDetails.tags" ng-bind="tag"></div></div><div class="ep-app-polegrid"><div class="ep-app-pole"><input id="Configurator_TradeIn" class="ep-checkbox ep-checkbox--l" type="checkbox" ng-model="$ctrl.tradeIn"> <label for="Configurator_TradeIn" class="ep-label">Хочу, чтобы выкупили мой автомобиль выгодно</label></div></div><div class="ep-acard-result"><dl class="ep-autoscalc__result-dl"><dt class="ep-autoscalc__result-dt ep-clr--activ" style="font-size:14px">Ежемесячный платёж&nbsp;<i class="tooltip" tooltip="{{$ctrl.tooltips.payment}}"><img class="ep--tooltip" src="/img/tool.svg"></i></dt><dd class="ep-autoscalc__result-dd ep-clr--activ">{{ $ctrl.payment.payment | number }} ₽</dd></dl><div class="ep--divider"></div><dl class="ep-autoscalc__result-dl"><dt class="ep-autoscalc__result-dt">Общая сумма затрат<br>с учётом выгоды по налогам</dt><dd class="ep-autoscalc__result-dd">{{ $ctrl.payment.acquisitionCost | number }} ₽</dd></dl><dl class="ep-autoscalc__result-dl"><dt class="ep-autoscalc__result-dt" style="font-weight:400">— возмещение НДС&nbsp;<i class="tooltip" tooltip="{{$ctrl.tooltips.creditedVAT}}"><img class="ep--tooltip" src="/img/tool.svg"></i></dt><dd class="ep-autoscalc__result-dd">{{ $ctrl.payment.creditedVAT | number: 0 }} ₽</dd></dl><dl class="ep-autoscalc__result-dl"><dt class="ep-autoscalc__result-dt" style="font-weight:400">— экономия по налогу на прибыль&nbsp;<i class="tooltip" tooltip="{{$ctrl.tooltips.taxSavings}}."><img class="ep--tooltip" src="/img/tool.svg"></i></dt><dd class="ep-autoscalc__result-dd">{{ $ctrl.payment.taxSavings | number: 0 }} ₽</dd></dl><div class="ep-acard-buttons"><button type="button" class="ep-btn ep-btn__main ep-btn--m ep-btn--hide" init-popup init-block="GridAdvertPopup" ng-click="$ctrl.onRequest()">Оставить заявку</button></div></div></div></div></section><footer class="ep-acard-footer"><div class="ep-acard-pricebox"><div class="ep-acard-price" ng-if="$ctrl.advertDetails.discountRub">от {{$ctrl.advertDetails.advertPrice | number}} ₽</div><div class="ep-acard-sum">{{$ctrl.advertDetails.advertPrice - $ctrl.advertDetails.discountRub | number}} <i class="tooltip" tooltip="{{$ctrl.tooltips.price}}"><img class="ep--tooltip" src="/img/tool.svg"></i></div></div><button type="button" class="ep-btn ep-btn__main ep-btn--m">Оставить заявку</button></footer><div class="ep-overlay" ng-if="$ctrl.gallery" style="visibility:visible;opacity:1"><div class="ep-popup ep-popup-gallery" style="width:auto;max-width:1072px"><a class="ep-popup__close" ng-click="$ctrl.hideGallery()"><img src="/img/close20.svg" alt=""></a><div class="ep-esg-gallery"><img ng-repeat="image in $ctrl.advertDetails.images" ng-src="/image/car?i={{image}}"></div><div class="ep-esg-gallery-dots"></div><button aria-label="Previous" ng-click="$ctrl.prevImg()" class="glider-prev advert-glider-prev"></button> <button aria-label="Next" ng-click="$ctrl.nextImg()" class="glider-next advert-glider-next"></button></div></div>'),e.put("/components/grid-vehicle-calc/grid-vehicle-calc.html",'<div class="ep-autoscalc__calc"><div class="ep-autoscalc__payment"><div class="ep-autoscalc__item"><p class="ep-autoscalc__disclaimer">Расчёт предварительный, не&nbsp;является публичной офертой. Расчёт не&nbsp;распространяется на&nbsp;операционный лизинг, финальные условия уточняйте у&nbsp;менеджера.</p><div class="ep-autoscalc__data"><label class="ep-autoscalc__label" for="amount">Стоимость</label><div class="ep-autoscalc__total">{{$ctrl.calc.price | number}} ₽</div></div><rzslider rz-slider-model="$ctrl.calc.price" rz-slider-options="$ctrl.rzSliderOptions.price"></rzslider><div class="ep-autoscalc__limit"><span>{{$ctrl.rzSliderOptions.price.floor | number}} ₽</span> <span>{{$ctrl.rzSliderOptions.price.ceil | number}} ₽</span></div></div><div class="ep-autoscalc__item"><div class="ep-autoscalc__data" ng-class="{\'ep-inputfield__danger\': $ctrl.advanceWarning}"><label class="ep-autoscalc__label" for="amount">Аванс</label><div class="ep-autoscalc__total">{{$ctrl.calc.price * ($ctrl.calc.advance / 100) | number:0}} ₽</div><div class="ep-autoscalc__prc">{{$ctrl.calc.advance}}%</div></div><span class="ep-errorfield" flow="down" ng-if="$ctrl.advanceWarning">При сроке лизинга от&nbsp;60&nbsp;месяцев аванс от&nbsp;10%</span><rzslider rz-slider-model="$ctrl.calc.advance" rz-slider-options="$ctrl.rzSliderOptions.advance"></rzslider><div class="ep-autoscalc__limit"><span>{{ $ctrl.rzSliderOptions.advance.floor }}%</span> <span>{{ $ctrl.rzSliderOptions.advance.ceil }}%</span></div></div><div class="ep-autoscalc__item"><div class="ep-autoscalc__data"><label class="ep-autoscalc__label" for="amount">Срок лизинга</label><div class="ep-autoscalc__total">{{$ctrl.calc.term}} мес.</div></div><rzslider rz-slider-model="$ctrl.calc.term" rz-slider-options="$ctrl.rzSliderOptions.term"></rzslider><div class="ep-autoscalc__limit"><span>{{$ctrl.rzSliderOptions.term.floor}} мес.</span> <span>{{$ctrl.rzSliderOptions.term.ceil}} мес.</span></div></div></div><div class="ep-autoscalc__result"><div class="ep-autoscalc__result-head">Результат расчёта</div><dl class="ep-autoscalc__result-dl"><dt class="ep-autoscalc__result-dt">Сумма договора лизинга&nbsp;<i class="tooltip" tooltip="Сумма всех лизинговых платежей, аванса и выкупной стоимости."><img class="ep--tooltip" src="/img/tool.svg"></i></dt><dd class="ep-autoscalc__result-dd">{{ $ctrl.payment.agreementAmount | number:0 }} ₽</dd></dl><dl class="ep-autoscalc__result-dl"><dt class="ep-autoscalc__result-dt ep-f--l ep-clr--activ">Ежемесячный платёж&nbsp;<i class="tooltip" tooltip="Расчет является примерным, точная сумма ежемесячного платежа рассчитывается при формировании коммерческого предложения менеджером Европлана."><img class="ep--tooltip" src="/img/tool.svg"></i></dt><dd class="ep-autoscalc__result-dd ep-clr--activ">{{ $ctrl.payment.payment | number }} ₽</dd></dl><dl class="ep-autoscalc__result-dl" ng-if="$ctrl.calc.term != $ctrl.rzSliderOptions.term.ceil || $ctrl.calc.advance != $ctrl.rzSliderOptions.advance.ceil"><dt class="ep-autoscalc__result-link" ng-click="$ctrl.calc.term = $ctrl.rzSliderOptions.term.ceil;$ctrl.calc.advance = $ctrl.rzSliderOptions.advance.ceil">Уменьшить платёж в месяц&nbsp;<i class="tooltip tooltip-n" tooltip="Уникальные условия! Срок лизинга 7&nbsp;лет, аванс&nbsp;49%"></i></dt></dl><div class="ep--divider"></div><dl class="ep-autoscalc__result-dl"><dt class="ep-autoscalc__result-dt">Общая сумма затрат<br>с учётом выгоды по налогам</dt><dd class="ep-autoscalc__result-dd">{{ $ctrl.payment.acquisitionCost | number }} ₽</dd></dl><dl class="ep-autoscalc__result-dl"><dt class="ep-autoscalc__result-dt">—&nbsp;Возмещение НДС&nbsp;<i class="tooltip" tooltip="Возврат НДС со всей суммы договора лизинга."><img class="ep--tooltip" src="/img/tool.svg"></i></dt><dd class="ep-autoscalc__result-dd ep-fs--l">{{ $ctrl.payment.creditedVAT | number: 0 }} ₽</dd></dl><dl class="ep-autoscalc__result-dl"><dt class="ep-autoscalc__result-dt">—&nbsp;Экономия по налогу на прибыль&nbsp;<i class="tooltip" tooltip="Лизинговые платежи учитываются в составе расходов, уменьшая налог на прибыль."><img class="ep--tooltip" src="/img/tool.svg"></i></dt><dd class="ep-autoscalc__result-dd ep-fs--l">{{ $ctrl.payment.taxSavings | number: 0 }} ₽</dd></dl><div class="ep-autoscalc__result-btn"><button init-popup="Оставить заявку" class="ep-btn ep-btn__main ep-btn--l" ng-click="$ctrl.onRequest()">Оставить заявку</button></div></div></div>'),e.put("/components/grid-vehicle-card/grid-vehicle-card.html",'<div class="ph-item" ng-if="!$ctrl.inputModel"><div class="ph-col-2"><div class="ph-avatar"></div></div><div><div class="ph-row"><div class="ph-col-12 empty"></div><div class="ph-col-1 empty"></div><div class="ph-col-6 big"></div></div></div><div class="ph-col-12"><div class="ph-picture" style="height:240px;margin-bottom:20px"></div><div class="ph-row"><div class="ph-col-6 big"></div><div class="ph-col-6 empty big"></div><div class="ph-col-4"></div><div class="ph-col-8 empty"></div><div class="ph-col-6"></div><div class="ph-col-6 empty"></div><div class="ph-col-12"></div><div class="ph-col-2 big"></div><div class="ph-col-1 empty big"></div><div class="ph-col-4 big"></div><div class="ph-col-1 empty big"></div><div class="ph-col-4 big"></div></div><div class="ph-picture" style="height:48px;border-radius:6px"></div></div></div><div ng-if="$ctrl.inputModel && !$ctrl.inputModel.brandId"><div class="ep-uc_namegroup ep-uc_namegroup-hidden"><div class="ep-uc_brandlogo"></div><div class="ep-uc_brandname">&nbsp;</div></div><div class="ep-uc_item-noused"><div class="ep-uc_item-pole"><img class="ep-uc_modelnoused lazy" data-src="/img/uc/noused-image.png" alt=""><div class="ep-uc_modelname">{{$ctrl.inputModel.modelName}} нет в&nbsp;наличии</div><div class="ep-uc_modelnote">Оставьте заявку, и&nbsp;мы найдём этот автомобиль или похожий у&nbsp;наших партнёров и&nbsp;доставим по всей РФ.</div><div class="ep-uc_btnbox"><button init-popup class="ep-btn ep-btn__main ep-btn--m">Оставить заявку</button></div></div></div></div><div class="ep-uc_namegroup" ng-if="$ctrl.inputModel && $ctrl.inputModel.brandId"><div class="ep-uc_brandlogo"><picture><source type="image/webp" data-srcset="/image/make/{{$ctrl.inputModel.brandId}}?w=48&h=48&logo=true&crop=false&f=webp"><img data-src="/image/make/{{$ctrl.inputModel.brandId}}?w=48&h=48&logo=true&crop=false" class="lazy"></picture></div><div class="ep-uc_brandname">{{$ctrl.inputModel.brandName}}</div></div><div class="ep-uc_thumb-preview" ng-if="$ctrl.inputModel && $ctrl.inputModel.type > 0 && $ctrl.inputModel.carImages"><figure class="ep-uc_thumb-fig" ng-click="$ctrl.onAdvertPopup()" style="cursor:pointer"><div class="ep-uc_thumb"><div class="ep-uc_thumb-page" ng-if="$ctrl.inputModel.carImages.length>0 && $ctrl.inputModel.type === 1" ng-repeat="i in $ctrl.inputModel.carImages track by $index"><div class="ep-uc_thumb__image-wrapper"><picture class="ep-uc_thumb__image ph-item" skeleton-loading="picture" ng-show="$index < ($ctrl.isMobileView ? 2 : 1) || $ctrl.showAllCarImages"><img class="ep-autosale__image-pic ph-picture lazy" data-src="https://europlan.ru/image/car?i={{i}}&w=320&h=240&crop=true"></picture></div><div class="ep-uc_thumb__button"></div></div><picture class="ph-item" skeleton-loading="picture" ng-if="$ctrl.inputModel.carImages.length==0 || $ctrl.inputModel.type === 2"><img class="ep-autosale__image-pic ph-picture lazy" data-src="https://europlan.ru/image/auto?i={{$ctrl.inputModel.advertId}}&w=320&h=240&crop=true"></picture></div><figcaption class="ep-uc_bonusbox"><div class="ep-uc_bonus uc_bonus--c1" ng-bind="$ctrl.inputModel.isEuroplanOwned ? \'Предложение Европлана\' : \'В наличии\'"></div><div class="ep-uc_bonus uc_bonus--c2" ng-if="$ctrl.inputModel.discountOrSubsidy">{{$ctrl.inputModel.discountOrSubsidy}}</div></figcaption></figure></div><figure class="ep-uc_fig" ng-if="$ctrl.inputModel && $ctrl.inputModel.type === 0" ng-click="$ctrl.onModelPopup()" ng-style="$ctrl.inputModel.optionId && $ctrl.inputModel.minPayment && {\'cursor\':\'pointer\'}"><picture class="ph-item" skeleton-loading="picture"><source type="image/webp" data-srcset="/image/model/{{$ctrl.inputModel.modelId}}?w=320&h=240&f=webp"><img class="ep-autosale__image-pic ph-picture lazy" data-src="/image/model/{{$ctrl.inputModel.modelId}}?w=320&h=240"></picture><figcaption class="ep-uc_bonusbox"><div class="ep-uc_bonus uc_bonus--c1" ng-if="$ctrl.inputModel.countOffers">В наличии: {{$ctrl.inputModel.countOffers | number}}</div><div class="ep-uc_bonus uc_bonus--c2" ng-if="$ctrl.inputModel.discountOrSubsidy">{{$ctrl.inputModel.discountOrSubsidy}}</div></figcaption></figure><div class="ep-uc_modelname" ng-if="$ctrl.inputModel && $ctrl.inputModel.brandId" ng-click="$ctrl.onModelPopup()" ng-style="$ctrl.inputModel.optionId && $ctrl.inputModel.minPayment && {\'cursor\':\'pointer\'}">{{$ctrl.inputModel.modelName}}</div><div class="ep-uc_modelinfo" ng-if="$ctrl.inputModel && $ctrl.inputModel.brandId" ng-bind-html-unsafe="$ctrl.inputModel.modelDescription"></div><div class="ep-uc_minipaybox" ng-if="$ctrl.inputModel.minPayment && $ctrl.inputModel && $ctrl.inputModel.brandId"><div class="ep-uc_paytitle">Минимальный платёж <i class="tooltip tooltip-n" ng-if="$ctrl.inputModel.type === 0" tooltip="{{$ctrl.tooltips.minPayment}}"></i></div><div class="ep-uc_paysum">{{$ctrl.inputModel.minPayment | number}} ₽/мес. <i class="tooltip" tooltip="{{$ctrl.tooltips.payment}}">?</i></div></div><div ng-if="$ctrl.inputModel && $ctrl.inputModel.minPrice > 0"><div class="ep-uc_overprice" ng-if="$ctrl.inputModel.oldPrice"><span ng-if="$ctrl.inputModel.type === 0">от </span>{{$ctrl.inputModel.oldPrice | number:0}} ₽</div><div class="ep-uc_price"><span ng-if="$ctrl.inputModel.type === 0">от </span>{{$ctrl.inputModel.minPrice | number:0}} ₽ <i class="tooltip" tooltip="{{$ctrl.tooltips.price}}">?</i></div></div><div ng-if="$ctrl.inputModel && $ctrl.inputModel.minPrice <= 0"><div class="ep-uc_price">Цена по запросу <i class="tooltip" tooltip="{{$ctrl.tooltips.price}}">?</i></div></div><div class="ep-uc_giftbox" ng-if="$ctrl.inputModel && $ctrl.inputModel.brandId"><img data-src="/img/uc/gift.svg" class="lazy" ng-if="$ctrl.inputModel.specialOffers.length > 0"><div class="ep-uc_gift" ng-repeat="s in $ctrl.inputModel.specialOffers" ng-if="$ctrl.inputModel.specialOffers.length > 0"><span ng-click="s.open = !s.open">{{s.shortName}}</span><div class="ep-uc_gift--open" ng-class="{\'ep-uc_gift--close\':!s.open}"><div class="ep-uc_gift--opencontent"><button type="reset" class="ep-uc_giftclose" ng-click="s.open = false"><img data-src="/img/uc/del.svg" class="lazy" alt=""></button><div class="ep-uc_gifthead">{{s.shortName}}</div><p ng-bind-html-unsafe="s.description"></p><div>До {{$ctrl.getFormattedEndDate(s.endDate)}}</div></div></div></div><div class="ep-uc_gift" ng-repeat="s in $ctrl.inputModel.tags" ng-if="$ctrl.inputModel.tags.length > 0"><span>{{s}}</span></div></div><div class="ep-uc_btnbox" ng-if="$ctrl.inputModel && $ctrl.inputModel.brandId"><button init-popup init-block="GridCard" class="ep-btn ep-btn__normal ep-btn--m" ng-click="$ctrl.onRequest()">Оставить заявку</button> <a ng-href="{{$ctrl.inputModel.url}}" class="ep-btn ep-btn__normal ep-btn--m">Подробнее</a></div><div class="ep-uc_btnfunctions" ng-if="$ctrl.inputModel && $ctrl.inputModel.type === 0 && $ctrl.showAnaloguesLink"><button type="button" class="ep-btn ep-btn__function" ng-click="$ctrl.onModelCompare()">Посмотреть похожие модели</button></div>'),e.put("/components/grid-vehicle-configurator/grid-vehicle-configurator.html",'<section class="ep-app-contbox"><div class="ep-app-gridbox"><div class="ep-app-gridpole"><figure class="ep-uc_fig"><picture class="ph-item" skeleton-loading="picture" ng-if="$ctrl.inputModel.isCar || !$ctrl.selectedMdf"><source type="image/webp" data-srcset="/image/model/{{$ctrl.inputModel.modelId}}?w=560&h=420&f=webp"><img class="ph-picture lazy" style="aspect-ratio:4/3;width:100%" data-src="/image/model/{{$ctrl.inputModel.modelId}}?w=560&h=420"></picture><picture class="ph-item" skeleton-loading="picture" ng-if="!$ctrl.inputModel.isCar && $ctrl.selectedMdf"><img class="ep-autosale__image-pic ph-picture" style="aspect-ratio:4/3;width:100%" ng-src="/image/modification/{{$ctrl.selectedMdf.originalObject.id}}?w=560&h=420&crop=false"></picture><figcaption class="ep-uc_bonusbox"><div class="ep-uc_bonus uc_bonus--c1" ng-if="$ctrl.optionCountOffers">В наличии: {{$ctrl.optionCountOffers}}</div><div class="ep-uc_bonus uc_bonus--c2" ng-if="!$ctrl.isCalculating && $ctrl.discountString" ng-bind="$ctrl.discountString"></div></figcaption></figure><div class="ep-uc_giftbox"><img src="/img/uc/gift.svg" alt=""><div class="ep-uc_gift" ng-repeat="s in $ctrl.specialOffers" ng-if="$ctrl.specialOffers.length > 0"><span ng-click="s.open = !s.open">{{s.shortName}}</span><div class="ep-uc_gift--open" ng-class="{\'ep-uc_gift--close\':!s.open}"><div class="ep-uc_gift--opencontent"><button type="reset" class="ep-uc_giftclose" ng-click="s.open = false"><img data-src="/img/uc/del.svg" class="lazy" alt=""></button><div class="ep-uc_gifthead">{{s.shortName}}</div><p ng-bind-html-unsafe="s.description"></p><div class="ep-uc_gifttime">До {{$ctrl.getFormattedEndDate(s.endDate)}}</div></div></div></div></div><div class="ph-item" ng-if="!$ctrl.mdfParams"><div class="ph-col-12"><div class="ph-row"><div class="ph-col-2"></div><div class="ph-col-2 empty"></div><div class="ph-col-2"></div><div class="ph-col-2 empty"></div><div class="ph-col-2"></div><div class="ph-col-2 empty"></div></div><div class="ph-row"><div class="ph-col-3"></div><div class="ph-col-1 empty"></div><div class="ph-col-3"></div><div class="ph-col-1 empty"></div><div class="ph-col-3"></div><div class="ph-col-1 empty"></div></div></div></div><div class="ep-modbox"><dl ng-repeat="param in $ctrl.mdfParams"><dt>{{param.key}}</dt><dd>{{param.value}}</dd></dl></div><div class="ep-app-poles"><div class="ep-app-pole"><angucomplete-alt id="mdfsInput" auto-match="true" placeholder="Модификация" pause="100" selected-object="$ctrl.selectedMdf" local-data="$ctrl.mdfs" title-field="shortName" description-field="name" search-fields="label,aliases" dropdown-on-focus="true" read-only-input="true" disable-input="!$ctrl.mdfs || $ctrl.mdfs.length < 2" minlength="0" input-class="ep-selectfield ep-inputfield ep-inputfield--m"></angucomplete-alt></div><div class="ep-app-pole"><angucomplete-alt id="optionsInput" auto-match="true" placeholder="Комплектации" pause="100" selected-object="$ctrl.selectedOption" local-data="$ctrl.options" title-field="name" search-fields="label,aliases" dropdown-on-focus="true" read-only-input="true" disable-input="!$ctrl.options || $ctrl.options.length < 2" minlength="0" input-class="ep-selectfield ep-inputfield ep-inputfield--m"></div></div></div><div class="ep-app-gridpole --bord"><div class="ph-item" ng-if="!$ctrl.payment || $ctrl.isCalculating"><div class="ph-col-12"><div class="ph-row"><div class="ph-col-4 big"></div></div></div></div><div class="ep-acard-pricebox" ng-if="!$ctrl.isCalculating && $ctrl.discountString && $ctrl.payment"><div class="ep-acard-price">от {{$ctrl.optionPrice | number}} ₽</div><div class="ep-acard-sum">от {{$ctrl.optionPrice - $ctrl.payment.discountRub | number}} ₽ <i class="tooltip" tooltip="{{$ctrl.tooltips.price}}"><img class="ep--tooltip" src="/img/tool.svg"></i></div></div><div class="ep-acard-pricebox" ng-if="!$ctrl.isCalculating && !$ctrl.discountString && $ctrl.payment"><div class="ep-acard-sum">от {{$ctrl.optionPrice | number}} ₽ <i class="tooltip" tooltip="{{$ctrl.tooltips.price}}"><img class="ep--tooltip" src="/img/tool.svg"></i></div></div><div class="ep-uc_giftbox"><img src="/img/uc/gift.svg" alt=""><div class="ep-uc_gift" ng-repeat="s in $ctrl.specialOffers" ng-if="$ctrl.specialOffers.length > 0"><span ng-click="s.open = !s.open">{{s.shortName}}</span><div class="ep-uc_gift--open" ng-class="{\'ep-uc_gift--close\':!s.open}"><div class="ep-uc_gift--opencontent"><button type="reset" class="ep-uc_giftclose" ng-click="s.open = false"><img data-src="/img/uc/del.svg" class="lazy" alt=""></button><div class="ep-uc_gifthead">{{s.shortName}}</div><p ng-bind-html-unsafe="s.description"></p><div>До {{$ctrl.getFormattedEndDate(s.endDate)}}</div></div></div></div></div><div class="ep-app-polegrid"><div class="ep-app-pole"><input id="Configurator_TradeIn" class="ep-checkbox ep-checkbox--l" type="checkbox" ng-model="$ctrl.tradeIn"> <label for="Configurator_TradeIn" class="ep-label">Хочу, чтобы выкупили мой автомобиль выгодно</label></div></div><div class="ep-acard-result"><dl class="ep-autoscalc__result-dl"><dt class="ep-autoscalc__result-dt ep-clr--activ" style="font-size:14px">Ежемесячный платёж&nbsp;<i class="tooltip" tooltip="{{$ctrl.tooltips.payment}}"><img class="ep--tooltip" src="/img/tool.svg"></i></dt><dd class="ep-autoscalc__result-dd ep-clr--activ" ng-if="!$ctrl.isCalculating">{{ $ctrl.payment.payment | number }} ₽</dd><dd class="ep-autoscalc__result-dd ph-item" ng-if="$ctrl.isCalculating"><div class="ph-row"><div class="ph-col-12">&nbsp;</div></div></dd></dl><div class="ep--divider"></div><dl class="ep-autoscalc__result-dl"><dt class="ep-autoscalc__result-dt">Общая сумма затрат<br>с учётом выгоды по налогам</dt><dd class="ep-autoscalc__result-dd" ng-if="!$ctrl.isCalculating">{{ $ctrl.payment.acquisitionCost | number }} ₽</dd><dd class="ep-autoscalc__result-dd ph-item" ng-if="$ctrl.isCalculating"><div class="ph-row"><div class="ph-col-12">&nbsp;</div></div></dd></dl><dl class="ep-autoscalc__result-dl"><dt class="ep-autoscalc__result-dt" style="font-weight:400">— возмещение НДС&nbsp;<i class="tooltip" tooltip="{{$ctrl.tooltips.creditedVAT}}"><img class="ep--tooltip" src="/img/tool.svg"></i></dt><dd class="ep-autoscalc__result-dd" ng-if="!$ctrl.isCalculating">{{ $ctrl.payment.creditedVAT | number: 0 }} ₽</dd><dd class="ep-autoscalc__result-dd ph-item" ng-if="$ctrl.isCalculating"><div class="ph-row"><div class="ph-col-12">&nbsp;</div></div></dd></dl><dl class="ep-autoscalc__result-dl"><dt class="ep-autoscalc__result-dt" style="font-weight:400">— экономия по налогу на прибыль&nbsp;<i class="tooltip" tooltip="{{$ctrl.tooltips.taxSavings}}."><img class="ep--tooltip" src="/img/tool.svg"></i></dt><dd class="ep-autoscalc__result-dd" ng-if="!$ctrl.isCalculating">{{ $ctrl.payment.taxSavings | number: 0 }} ₽</dd><dd class="ep-autoscalc__result-dd ph-item" ng-if="$ctrl.isCalculating"><div class="ph-row"><div class="ph-col-12">&nbsp;</div></div></dd></dl><div class="ep-acard-buttons"><button type="button" class="ep-btn ep-btn__main ep-btn--m ep-btn--hide" init-popup init-block="GridModelPopup" ng-click="$ctrl.onRequest()">Оставить заявку</button></div></div></div></div></section><footer class="ep-acard-footer"><div class="ep-acard-pricebox" ng-if="$ctrl.discountString && $ctrl.payment"><div class="ep-acard-price">от {{$ctrl.optionPrice | number}} ₽</div><div class="ep-acard-sum">от {{$ctrl.optionPrice - $ctrl.payment.discountRub | number}} ₽ <i class="tooltip" tooltip="{{$ctrl.tooltips.price}}"><img class="ep--tooltip" src="/img/tool.svg"></i></div></div><div class="ep-acard-pricebox" ng-if="!$ctrl.discountString"><div class="ep-acard-sum">от {{$ctrl.optionPrice | number}} ₽ <i class="tooltip" tooltip="{{$ctrl.tooltips.price}}"><img class="ep--tooltip" src="/img/tool.svg"></i></div></div><button type="button" class="ep-btn ep-btn__main ep-btn--m" init-popup ng-click="$ctrl.onRequest()">Оставить заявку</button></footer>'),e.put("/components/grid-vehicle-configurator/model-page-configurator.html",'<h2>{{$ctrl.inputModel.name}} в лизинг {{$ctrl.payment ? \'в Европлане\' : \'под заказ\'}}</h2><div class="ep-modelblock"><div class="ep-modelselection"><div class="ep-modelselection__pole"><figure class="ep-model_fig"><picture class="ph-item" skeleton-loading="picture" ng-if="$ctrl.inputModel.isCar || !$ctrl.selectedMdf"><source type="image/webp" data-srcset="/image/model/{{$ctrl.inputModel.modelId}}?w=560&h=420&f=webp"><img class="ph-picture lazy" style="aspect-ratio:4/3;width:100%;height:auto" data-src="/image/model/{{$ctrl.inputModel.modelId}}?w=560&h=420"></picture><picture class="ph-item" skeleton-loading="picture" ng-if="!$ctrl.inputModel.isCar && $ctrl.selectedMdf"><img class="ep-autosale__image-pic ph-picture" style="aspect-ratio:4/3;width:100%" ng-src="/image/modification/{{$ctrl.selectedMdf.originalObject.id}}?w=560&h=420&crop=false"></picture><figcaption class="ep-model_bonusbox"><div class="ep-uc_bonus uc_bonus--c1" ng-if="$ctrl.optionCountOffers">В наличии: {{$ctrl.optionCountOffers}}</div><div class="ep-model_bonus ep-model_bonus--c2" ng-if="$ctrl.discountString" ng-bind="$ctrl.discountString"></div></figcaption></figure><div class="ep-model_sel"><div class="ep-model_giftbox"><img src="/img/uc/gift.svg" alt=""><div class="ep-model_gift ep-uc_gift" ng-repeat="s in $ctrl.specialOffers" ng-if="$ctrl.specialOffers.length > 0"><span ng-click="s.open = !s.open">{{s.shortName}}</span><div class="ep-uc_gift--open" ng-class="{\'ep-uc_gift--close\':!s.open}"><div class="ep-uc_gift--opencontent"><button type="reset" class="ep-uc_giftclose" ng-click="s.open = false"><img data-src="/img/uc/del.svg" class="lazy" alt=""></button><div class="ep-uc_gifthead">{{s.shortName}}</div><p ng-bind-html-unsafe="s.description"></p><div class="ep-uc_gifttime">До {{$ctrl.getFormattedEndDate(s.endDate)}}</div></div></div></div></div><div class="ep-model_choicebox" ng-hide="!$ctrl.options && $ctrl.mdfs && $ctrl.mdfs.length < 2"><div class="ep-model_choice"><angucomplete-alt id="mdfsInput" auto-match="true" placeholder="Модификация" pause="100" selected-object="$ctrl.selectedMdf" local-data="$ctrl.mdfs" title-field="shortName" description-field="name" search-fields="label,aliases" dropdown-on-focus="true" read-only-input="true" disable-input="!$ctrl.mdfs || $ctrl.mdfs.length < 2" minlength="0" input-class="ep-selectfield ep-inputfield ep-inputfield--m"></angucomplete-alt></div><div class="ep-model_choice" ng-hide="!$ctrl.options"><angucomplete-alt id="optionsInput" auto-match="true" placeholder="Комплектации" pause="100" selected-object="$ctrl.selectedOption" local-data="$ctrl.options" title-field="name" search-fields="label,aliases" dropdown-on-focus="true" read-only-input="true" disable-input="!$ctrl.options || $ctrl.options.length < 2" minlength="0" input-class="ep-selectfield ep-inputfield ep-inputfield--m"></div></div><div class="ep-actionoffer" ng-if="!$ctrl.options"><div class="ep-actionoffer-head">Не нашли автомобиль в наличии или по нужной цене?</div><p>Найдём в других регионах и доставим вам.</p></div><div class="ph-item" ng-if="!$ctrl.payment || $ctrl.isCalculating"><div class="ph-col-12"><div class="ph-row"><div class="ph-col-4 big"></div></div></div></div><div class="ep-model_pricebox" ng-if="!$ctrl.isCalculating && $ctrl.optionPrice && $ctrl.discountString && $ctrl.payment"><div class="ep-model_price">от {{$ctrl.optionPrice | number}} ₽</div><div class="ep-model_sum">от {{$ctrl.optionPrice - $ctrl.payment.discountRub | number}} ₽ <i class="tooltip" tooltip="{{$ctrl.tooltips.price}}"><img class="ep--tooltip" src="/img/tool.svg"></i></div></div><div class="ep-model_pricebox" ng-if="!$ctrl.isCalculating && $ctrl.optionPrice && !$ctrl.discountString"><div class="ep-model_sum">от {{$ctrl.optionPrice | number}} ₽ <i class="tooltip" tooltip="{{$ctrl.tooltips.price}}"><img class="ep--tooltip" src="/img/tool.svg"></i></div></div><div class="ep-model_checkbox"><input id="Configurator_TradeIn" class="ep-checkbox ep-checkbox--l" type="checkbox" ng-model="$ctrl.tradeIn"> <label for="Configurator_TradeIn" class="ep-label">Хочу, чтобы выкупили мой автомобиль выгодно</label></div></div></div></div><div class="ep-modelresult"><div class="ep-modelresult__pole" ng-if="$ctrl.payment"><dl class="ep-model_paybox"><dt class="ep-model_pay-title">Ежемесячный платёж&nbsp;<i class="tooltip" tooltip="{{$ctrl.tooltips.payment}}"><img class="ep--tooltip" src="/img/tool.svg"></i></dt><dd class="ep-model_pay-sum" ng-if="!$ctrl.isCalculating">от {{ $ctrl.payment.payment | number }} ₽</dd><dd class="ep-model_pay-sum ph-item" ng-if="$ctrl.isCalculating"><div class="ph-row"><div class="ph-col-12">&nbsp;</div></div></dd></dl><dl class="ep-model_otherbox"><dt class=""><strong>Общая сумма затрат<br>с учётом выгоды по налогам</strong></dt><dd class="" ng-if="!$ctrl.isCalculating">{{ $ctrl.payment.acquisitionCost | number }} ₽</dd><dd class="ep-autoscalc__result-dd ph-item" ng-if="$ctrl.isCalculating"><div class="ph-row"><div class="ph-col-12">&nbsp;</div></div></dd></dl><dl class="ep-model_otherbox"><dt class="">— возмещение НДС&nbsp;<i class="tooltip" tooltip="{{$ctrl.tooltips.creditedVAT}}"><img class="ep--tooltip" src="/img/tool.svg"></i></dt><dd class="" ng-if="!$ctrl.isCalculating">{{ $ctrl.payment.creditedVAT | number: 0 }} ₽</dd><dd class="ep-autoscalc__result-dd ph-item" ng-if="$ctrl.isCalculating"><div class="ph-row"><div class="ph-col-12">&nbsp;</div></div></dd></dl><dl class="ep-model_otherbox"><dt class="">— экономия по налогу на прибыль&nbsp;<i class="tooltip" tooltip="{{$ctrl.tooltips.taxSavings}}."><img class="ep--tooltip" src="/img/tool.svg"></i></dt><dd class="" ng-if="!$ctrl.isCalculating">{{ $ctrl.payment.taxSavings | number: 0 }} ₽</dd><dd class="ep-autoscalc__result-dd ph-item" ng-if="$ctrl.isCalculating"><div class="ph-row"><div class="ph-col-12">&nbsp;</div></div></dd></dl><div class="ep-model_buttonbox"><button type="button" class="ep-btn ep-btn__main ep-btn--l" init-popup init-block="ModelBlock" ng-click="$ctrl.onRequest()">Оставить заявку</button></div></div><div class="ep-modelresult__pole" ng-if="!$ctrl.payment"><div class="not-price ng-star-inserted">Оставьте заявку, и&nbsp;мы&nbsp;запросим<br>наличие и&nbsp;цены на&nbsp;этот автомобиль у&nbsp;поставщиков</div><div class="ep-model_buttonbox"><button type="button" class="ep-btn ep-btn__main ep-btn--l" init-popup init-block="ModelBlock" ng-click="$ctrl.onRequest()">Оставить заявку</button> <button type="button" class="ep-btn ep-btn__normal ep-btn--l" ng-click="$ctrl.onCalculate()"><img src="/img/menu/calc.svg"> Рассчитать лизинг</button></div></div></div></div>'),e.put("/components/grid-vehicle-similar/grid-vehicle-similar.html",'<div class="ep-similar ph-item" ng-if="!$ctrl.models"><div class="ph-row"><div class="ph-col-6"><div class="ph-picture" style="height:200px;margin-bottom:20px"></div></div><div class="ph-col-6 empty"><div class="ph-row empty"><div class="ph-col-1 empty big"></div><div class="ph-col-6 big"></div><div class="ph-col-5 empty big"></div><div class="ph-col-12 empty"></div><div class="ph-col-1 empty"></div><div class="ph-col-8"></div><div class="ph-col-12 empty"></div><div class="ph-col-1 empty big"></div><div class="ph-col-8 big"></div><div class="ph-col-12 empty big"></div></div></div></div></div><div class="ep-similars" ng-if="$ctrl.models"><div class="ep-similar" ng-repeat="m in $ctrl.models"><figure class="ep-similar-imagebox"><picture class="ph-item" skeleton-loading="picture"><source type="image/webp" data-srcset="/image/model/{{m.modelId}}?w=320&h=240&f=webp"><img class="ep-autosale__image-pic ph-picture lazy" data-src="/image/model/{{m.modelId}}?w=320&h=240"></picture><figcaption class="ep-similar-imagecap"><div class="ep-uc_bonus uc_bonus--c1" ng-if="m.countOffers">В наличии: {{m.countOffers | number}}</div><div class="ep-uc_bonus uc_bonus--c2" ng-if="m.discountOrSubsidy">{{m.discountOrSubsidy}}</div></figcaption></figure><section class="ep-similar-infobox"><div class="ep-similar-bonuscap"><div class="ep-uc_bonus uc_bonus--c1" ng-if="m.countOffers">В наличии: {{m.countOffers | number}}</div><div class="ep-uc_bonus uc_bonus--c2" ng-if="m.discountOrSubsidy">{{m.discountOrSubsidy}}</div></div><div class="ep-similar-info"><div class="ep-similar-title" style="min-height:36px">{{m.brandName}} {{m.modelName}}</div><div class="ep-similar-paytitle">Минимальный платёж <i class="tooltip tooltip-n" ng-if="m.type === 0" tooltip="{{$ctrl.tooltips.minPayment}}"></i></div><div class="ep-similar-paysum">{{m.minPayment | number}} ₽/мес. <i class="tooltip" tooltip="{{$ctrl.tooltips.payment}}">?</i></div><div ng-if="m && m.minPrice > 0"><div class="ep-similar-overprice" ng-if="m.oldPrice"><span ng-if="m.type === 0">от </span>{{m.oldPrice | number:0}} ₽</div><div class="ep-similar-price"><span ng-if="m.type === 0">от </span>{{m.minPrice | number:0}} ₽ <i class="tooltip" tooltip="{{$ctrl.tooltips.price}}">?</i></div></div><div ng-if="m && m.minPrice <= 0"><div class="ep-similar-price">Цена по запросу <i class="tooltip" tooltip="{{$ctrl.tooltips.price}}">?</i></div></div></div><button init-popup init-block="GridCard" class="ep-btn ep-btn__normal ep-btn--m" ng-click="$ctrl.onRequest()">Оставить заявку</button></section></div></div><span role="button" aria-label="Previous" class="glider-prev" ng-if="$ctrl.models"><img src="/img/Arrow-glider-prev.svg" alt="Previous"> </span><span role="button" aria-label="Next" class="glider-next" ng-if="$ctrl.models"><img src="/img/Arrow-glider-next.svg" alt="Next"></span>'),e.put("/components/grid-vehicles/grid-vehicles.html",'<div class="ep-uc_blocks"><grid-vehicle-card class="ep-uc_item" input-model="m" output-model-id="$ctrl.outputModelId" output-model-popup="$ctrl.outputModelPopup" output-advert-popup="$ctrl.outputAdvertPopup" show-analogues-link="true" ng-repeat="m in $ctrl.models"></grid-vehicle-card><div class="ep-similarblock" style="grid-column:1/-1" ng-style="{\'grid-row\':$ctrl.calcIndex,\'max-width\':$ctrl.maxWidth + \'px\'}" ng-if="$ctrl.outputModelId && $ctrl.models"><hgroup class="ep-similar-hgroup"><div class="ep-similar-head">Похожие модели {{$ctrl.outputModelId.name}}</div><button class="ep-similar-closegroup" ng-click="$ctrl.outputModelId=null"><img src="/img/Cancel-similar.svg" alt=""></button></hgroup><grid-vehicle-similar input-model="$ctrl.outputModelId"></grid-vehicle-similar></div><div class="ep-overlay ep-overlay-app" ng-if="$ctrl.outputModelPopup && $ctrl.models" style="visibility:visible;opacity:1"><div class="ep-popup ep-popup-newapp ep-popup-acard --ac1"><hgroup class="ep-app-headbox"><div class="ep-app-title" ng-bind="$ctrl.outputModelPopup.name"></div><a ng-click="$ctrl.outputModelPopup=null" class="ep-popup__close">×</a></hgroup><grid-vehicle-configurator input-model="$ctrl.outputModelPopup"></grid-vehicle-configurator></div></div><div class="ep-overlay ep-overlay-app" ng-if="$ctrl.outputAdvertPopup && $ctrl.models" style="visibility:visible;opacity:1"><div class="ep-popup ep-popup-newapp ep-popup-acard --ac3"><hgroup class="ep-app-headbox"><div class="ep-app-title" ng-bind="$ctrl.outputAdvertPopup.name"></div><a ng-click="$ctrl.outputAdvertPopup=null" class="ep-popup__close">×</a></hgroup><grid-advert input-advert-id="$ctrl.outputAdvertPopup.advertId"></grid-advert></div></div><div class="ep-uc_item ep-uc_bnr lazy" data-bg="/img/uc/noused-bg.png" ng-if="$ctrl.models && $ctrl.models[0].brandId!=0"><div class="ep-uc_bnr-pole"><div class="ep-uc_bnr-title">Не нашли ничего подходящего?</div><p>Оставьте заявку —&nbsp;мы найдем то, что вам нужно.</p><div class="ep-uc_bnr-btn"><button init-popup init-block="GridBanner" class="ep-btn ep-btn__main ep-btn--m">Оставить заявку</button> <button ng-click="$ctrl.onAddCards();$ctrl.loading=true;" ng-if="$ctrl.hidePagination && !$ctrl.loading" class="ep-btn ep-btn__normal ep-btn--m ep-btn__toggle">Показать ещё</button> <button ng-if="$ctrl.hidePagination && $ctrl.loading" class="ep-btn ep-btn__normal ep-btn--m ep-btn__load"></button></div></div></div></div><grid-form ng-if="!$ctrl.models || $ctrl.models.length==0"></grid-form><div class="ep-uc_more" ng-if="$ctrl.hidePagination"><button type="button" class="ep-btn ep-btn--m" ng-click="$ctrl.onAddCards();$ctrl.loading=true;" ng-if="!$ctrl.loading">Показать ещё</button> <button type="button" class="ep-btn ep-btn--m ep-btn__load" ng-if="$ctrl.loading"></button></div>'),e.put("/components/hellobar/hellobar.html",'<div class="ep-hb-wrp" ng-if="$ctrl.hellobar"><button type="button" class="ep-hb-close" ng-click="$ctrl.close($ctrl.hellobar.id,$ctrl.hellobar.erid)"></button><div class="ep-hb-cont"><hgroup class="ep-hb-titlebox"><div class="ep-hb-title">{{$ctrl.hellobar.title}}</div><div class="ep-hb-subtitle">{{$ctrl.hellobar.subTitle}}</div></hgroup><div class="ep-hb-bnrbox"><div class="ep-hb-rectext">Реклама. Рекламодатель ПАО «ЛК «Европлан». {{$ctrl.hellobar.erid}}</div><button init-popup class="ep-btn ep-btn__normal ep-btn--hb" ng-click="$ctrl.initPopup($ctrl.hellobar.id,$ctrl.hellobar.erid)">Оставить заявку</button></div></div></div>'),e.put("/components/individuals-form/individuals-form.html",'<div id="individuals-form" class="ep-overlay ep-overlay-app"><div class="ep-popup ep-popup-newapp"><hgroup class="ep-app-headbox"><div class="ep-app-title" ng-bind="$ctrl.isSended() ? \'Ваша заявка принята\' : \'Оставьте заявку на лизинг\'"></div><a class="ep-popup__close" history-back>×</a></hgroup><fieldset class="ep-app-contbox" ng-form="IndividualsShortApp" ng-disabled="$ctrl.isSending()" ng-show="!$ctrl.isSended()"><div class="ep-app-note" ng-if="$ctrl.showWarning">Условия лизинга для физических лиц отличаются, подробнее на <a href="/leasing/for-individuals" target="_blank">странице продукта</a>.</div><div class="ep-app-poles"><div class="ep-app-pole"><angucomplete-alt id="brandsInput" field-required="true" input-name="Brand" auto-match="true" placeholder="Марка" pause="100" selected-object="$ctrl.brand" remote-url="/api/data/automarket-brands?url=/cars&name=" title-field="name" minlength="0" input-class="ep-selectfield ep-inputfield ep-inputfield--l"></angucomplete-alt><span validation-message for="Brand"></span></div><div class="ep-app-pole"><angucomplete-alt id="modelsInput" field-required="true" input-name="Model" auto-match="true" placeholder="Модель" pause="100" selected-object="$ctrl.chosenModel" local-data="$ctrl.models" disable-input="!$ctrl.modelsLoad" search-fields="modelName" title-field="modelName" minlength="0" input-class="ep-selectfield ep-inputfield ep-inputfield--l"></angucomplete-alt><span validation-message for="Model"></span></div><div class="ep-app-pole"><angucomplete-alt id="conditionInput" field-required="true" input-name="Condition" auto-match="true" placeholder="Тип автомобиля" pause="100" selected-object="$ctrl.condition" local-data="$ctrl.conditionValues" search-fields="label" title-field="label" minlength="0" read-only-input="true" dropdown-on-focus="true" input-class="ep-selectfield ep-inputfield ep-inputfield--l"></angucomplete-alt><span validation-message for="Condition"></span></div><div class="ep-app-pole ep-app-polegrid" ng-if="$ctrl.model.isNewCar !== false"><div class="ep-app-pole"><input id="Individuals_IsSelected_true" class="ep-radio ep-radio--l" type="radio" name="Individuals_IsSelected" ng-model="$ctrl.model.isSelected" ng-value="1" ng-disabled="!$ctrl.condition"> <label for="Individuals_IsSelected_true" class="ep-label">Автомобиль подобран</label></div><div class="ep-app-pole"><input id="Individuals_IsSelected_false" class="ep-radio ep-radio--l" type="radio" name="Individuals_IsSelected" ng-model="$ctrl.model.isSelected" ng-value="0" ng-disabled="!$ctrl.condition"> <label for="Individuals_IsSelected_false" class="ep-label">Требуется подбор</label></div></div><div class="ep-app-pole ep-app-polegridrow" ng-if="$ctrl.model.isNewCar === false"><div class="ep-app-pole"><div class="ep-app-note ep-app-note-min">Мы не подбираем автомобили с пробегом для физических лиц. Подберите его сами, например, в <a href="https://europlan.ru/auto/sale/cars" target="_blank">каталоге Европлана</a>.</div></div><div class="ep-app-pole"><input id="Individuals_IsSelected" name="Individuals_IsSelected" class="ep-checkbox ep-checkbox--l" type="checkbox" ng-model="$ctrl.model.isSelected" required-true> <label for="Individuals_IsSelected" class="ep-label">Автомобиль подобран</label> <span validation-message for="Individuals_IsSelected"></span></div></div><div class="ep-app-pole"><angucomplete-alt id="purposeInput" field-required="true" input-name="Purpose" auto-match="true" placeholder="Цель использования автомобиля" pause="100" selected-object="$ctrl.purpose" local-data="$ctrl.purposeValues" search-fields="label" title-field="label" minlength="0" read-only-input="true" dropdown-on-focus="true" input-class="ep-selectfield ep-inputfield ep-inputfield--l {{$ctrl.model.isPersonalUse === false ? \'ep-inputfield__error\' : \'\'}}"></angucomplete-alt><span validation-message for="Purpose"></span> <span class="ep-errorfield ep-errorfield_custom" ng-if="$ctrl.model.isPersonalUse === false">Для коммерческих целей воспользуйтесь лизингом для юридических лиц.</span></div><div class="ep-app-pole"><input number-input="$ctrl.model.income" name="Income" required type="text" inputmode="numeric" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 1000, \'blur\': 0 }}" class="ep-inputfield ep-inputfield--l" ng-class="{\'ep-inputfield__error\':$ctrl.chosenModel.originalObject.payment * 1.4 > $ctrl.model.income}"> <span class="ep-erasefield" ng-click="$ctrl.model.income=null"></span> <label class="ep-labelfield">Официальный доход</label> <span validation-message for="Income" class="ep-errorfield"></span> <span class="ep-errorfield ep-errorfield_custom" ng-if="$ctrl.chosenModel.originalObject.payment * 1.4 > $ctrl.model.income">Официальный доход должен быть больше ежемесячного платежа по договору лизинга на 40%.</span></div><div class="ep-app-pole ep-app-pole-columnline"><input ng-model="$ctrl.model.firstName" name="Name" required="" only-cyrillic="" type="text" maxlength="64" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 1000, \'blur\': 0 }}" class="ep-inputfield ep-inputfield--l"> <span class="ep-erasefield" ng-click="$ctrl.model.firstName=\'\'"></span> <label class="ep-labelfield">Фамилия, имя и отчество через пробел</label> <span validation-message="" for="Name" class="ep-errorfield"></span> <span class="ep-notefield">Укажите фамилию, имя и отчество через пробел</span></div><div class="ep-app-pole ep-app-pole-columnline ep-app-pole-data"><div class="ep-app-pole"><input ng-model="$ctrl.model.birthDateString" name="BirthDate" required async-date type="text" inputmode="numeric" maxlength="20" ui-mask-placeholder="?99.99.9999" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 1000, \'blur\': 0 }}" class="ep-inputfield ep-inputfield--l"> <span class="ep-erasefield" ng-click="$ctrl.model.birthDateString=\'\'"></span> <label class="ep-labelfield">Дата рождения</label> <span validation-message for="BirthDate" class="ep-errorfield"></span></div><div class="ep-app-pole"><input ng-model="$ctrl.model.phone" name="Phone" required="" async-phone-number="" type="tel" maxlength="60" ui-mask-placeholder="?+7 ( 9 9 9 ) 9 9 9 - 9 9 - 9 9" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 1000, \'blur\': 0 }}" class="ep-inputfield ep-inputfield--l"> <span class="ep-erasefield" ng-click="$ctrl.model.phone=\'\';$ctrl.smsCode=\'\';$ctrl.smsSended=false" ng-if="!$ctrl.smsCodeValid"></span> <span class="ep-validfield" ng-if="$ctrl.smsCodeValid"></span> <label class="ep-labelfield">Телефон</label> <span validation-message="" for="Phone" class="ep-errorfield"></span></div></div></div><div class="ep-app-validbox ep-app-smsblock" ng-show="IndividualsShortApp.Phone.$valid && !$ctrl.smsCodeValid"><div class="ep-app-validblock"><div class="ep-app-valid-codetext" ng-bind-html-unsafe="$ctrl.smsSended ? \'Мы отправили код подтверждения, введите его, <br>чтобы оставить заявку.\' : \'Подтвердите номер телефона, чтобы продолжить <br>оформление заявки\'"></div><div class="ep-app-valid-poles"><div class="ep-app-pole"><input ng-model="$ctrl.smsCode" ng-disabled="!$ctrl.smsSended" name="SmsCode" required type="text" numbers-only ng-minlength="4" ng-maxlength="4" class="ep-inputfield ep-inputfield--s"> <span class="ep-erasefield" ng-click="$ctrl.resetSmsCode()"></span> <label class="ep-labelfield">Код из СМС</label> <span class="ep-notefield" ng-if="!IndividualsShortApp.SmsCode.$dirty && $ctrl.smsSended">Код действителен 120 секунд</span> <span validation-message class="ep-invalidfield" for="SmsCode"></span></div><div class="ep-app-pole"><button class="ep-btn ep-btn__normal ep-btn--s" ng-show="!$ctrl.smsSended || IndividualsShortApp.SmsCode.$error[\'smsCodeExpired\']" ep-sms-send="Phone" id="sendSms" name="sendSms" ng-model="$ctrl.smsSended" ng-required="$ctrl.model.phone" ng-click="$ctrl.resetSmsCode()" source="Lfl">Отправить {{IndividualsShortApp.SmsCode.$error[\'smsCodeExpired\'] ? \'повторно\' : \'код\'}}</button> <button class="ep-btn ep-btn__normal ep-btn--s" ng-click="$ctrl.checkSmsCode()" ng-show="$ctrl.smsSended && !IndividualsShortApp.SmsCode.$error[\'smsCodeExpired\']" ng-disabled="!IndividualsShortApp.SmsCode.$valid">Подтвердить</button></div></div><span validation-message class="ep-invalidfield" for="sendSms"></span></div></div><div class="ep-app-subtitle">Подтвердите информацию</div><div class="ep-app-polegrid"><div class="ep-app-pole"><input id="Individuals_seniority" name="Individuals_seniority" class="ep-checkbox ep-checkbox--l" type="checkbox" ng-model="$ctrl.model.isEmployed" required-true> <label for="Individuals_seniority" class="ep-label">Официальное трудоустройство, стаж более 3 месяцев</label> <span validation-message for="Individuals_seniority"></span></div><div class="ep-app-pole"><input id="Individuals_creditHistory" name="Individuals_creditHistory" class="ep-checkbox ep-checkbox--l" type="checkbox" ng-model="$ctrl.model.isGoodCreditHistory" required-true> <label for="Individuals_creditHistory" class="ep-label">Нет кредитной задолженности, процедуры банкротства и исполнительных производств</label> <span validation-message for="Individuals_creditHistory"></span></div></div><div class="ep-app-aside"><div class="ep-app-pole"><button type="button" class="ep-btn ep-btn__main ep-btn--l" ng-class="{ \'ep-btn__load\': $ctrl.isSending() }" ng-disabled="$ctrl.isSending()" ng-if="!$ctrl.isSended()" submit-if-valid-async="$ctrl.submit()">{{$ctrl.isSending()?\'\':\'Оставить заявку\'}}</button></div><p>Все поля обязательны для заполнения</p><div class="ep-app-pole"><input id="Individuals_AcceptTerms" name="Individuals_AcceptTerms" class="ep-checkbox ep-checkbox--l" type="checkbox" ng-model="$ctrl.model.acceptTerms" required-true> <label for="Individuals_AcceptTerms" class="ep-label"><ep-popup-disclaimer></ep-popup-disclaimer></label> <span validation-message for="Individuals_AcceptTerms"></span></div></div></fieldset><section class="ep-app-contbox" ng-show="$ctrl.isSended()"><div align="center" ng-if="$ctrl.isSuccessful()" ng-bind="$ctrl.message()"></div><div align="center" ng-if="$ctrl.isDecline()" ng-bind="$ctrl.errorMessage()"></div><div align="center">Если остались вопросы, обратитесь по телефону <a href="tel:+78002508080">+7 800 250 80 80</a></div></section></div></div>'),e.put("/components/leasing-form/banner-leasing-form.html",'<fieldset class="ep-main__bnr-form" ng-form="Landing" ng-show="!$ctrl.isSended() || $ctrl.isLfl()" ng-disabled="$ctrl.isSending()"><div class="ep-main__bnr-formpole"><div class="ep-main__bnr-form__item"><div class="ep-main__bnr-formsubhead">С кем будет заключён договор</div><div class="ep-lineinputbox"><div class="ep-inputbox"><input id="1" class="ep-radio ep-radio--l" type="radio" name="CtaType" ng-model="$ctrl.model.ctaType" ng-value="1" ng-required="!$ctrl.model.ctaType"> <label for="1" class="ep-label">Юридическое лицо</label></div><div class="ep-inputbox"><input id="2" class="ep-radio ep-radio--l" type="radio" name="CtaType" ng-model="$ctrl.model.ctaType" ng-value="3" ng-required="!$ctrl.model.ctaType"> <label for="2" class="ep-label">ИП</label></div><div class="ep-inputbox"><input id="3" class="ep-radio ep-radio--l" type="radio" name="CtaType" ng-model="$ctrl.model.ctaType" ng-value="2" ng-required="!$ctrl.model.ctaType"> <label for="3" class="ep-label">Физическое лицо</label></div></div></div></div><div class="ep-main__bnr-formpole"><div class="ep-main__bnr-form__item"><div class="ep-fieldbox"><input ng-model="$ctrl.model.firstName" name="Name" required="" only-cyrillic="" type="text" maxlength="64" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 1000, \'blur\': 0 }}" class="ep-inputfield ep-inputfield--l"> <span class="ep-erasefield" ng-click="$ctrl.model.firstName=\'\'"></span> <label class="ep-labelfield">Имя</label> <span validation-message="" for="Name" class="ep-errorfield"></span></div></div><div class="ep-main__bnr-form__item"><div class="ep-fieldbox"><input ng-model="$ctrl.model.phone" name="Phone" required="" async-phone-number="" type="tel" maxlength="60" ui-mask-placeholder="?+7 ( 9 9 9 ) 9 9 9 - 9 9 - 9 9" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 1000, \'blur\': 0 }}" class="ep-inputfield ep-inputfield--l"> <span class="ep-erasefield" ng-click="$ctrl.model.phone=\'\'"></span> <label class="ep-labelfield">Телефон</label> <span validation-message="" for="Phone" class="ep-errorfield"></span></div></div></div><div class="ep-main__bnr-formpole"><div class="ep-main__bnr-form__item"><p style="font-size:12px">Все поля обязательны для заполнения.<br><ep-popup-disclaimer></ep-popup-disclaimer></p></div><div class="ep-main__bnr-form__item"><button ng-class="{ \'ep-btn__load\': $ctrl.isSending() }" ng-disabled="$ctrl.isSending()" submit-if-valid-async="$ctrl.submit()" class="ep-btn ep-btn__main ep-btn--l ep-btn--submit" type="button">{{$ctrl.isSending() ? \'\' : \'Оставить заявку\'}}</button></div></div></fieldset><div ng-if="$ctrl.isSended() && !$ctrl.isLfl()"><div class="ep-popup__head">Благодарим за обращение в Европлан!</div><div class="ep-sellused-attblock" ng-if="$ctrl.isDecline()"><img src="/img/attention.svg"><p ng-bind="$ctrl.errorMessage()"></p></div><div align="center" ng-if="$ctrl.isSuccessful()"><div ng-bind-html-unsafe="$ctrl.message()"></div><div>Если остались вопросы, обратитесь по телефону <a href="tel:+{{$ctrl.ctPhoneNumber()}}">+{{$ctrl.ctPhoneNumber()}}</a></div></div></div><div class="lp-overlay ep-overlay-app ep-overlay-lfl angular-animate" ng-show="$ctrl.isSuccessful() && $ctrl.isLfl()"><div class="ep-popup ep-popup-notice"><hgroup class="ep-app-headbox"><div class="ep-app-title">Мы временно не финансируем автомобили для физических лиц.</div></hgroup><section class="ep-app-contbox"><p>Оформите договор на юридическое лицо или ИП, если вам нужен транспорт для бизнеса.</p><button class="ep-btn ep-btn__normal ep-btn--m" ng-click="$ctrl.reinitialyze()">Закрыть</button></section></div></div>'),e.put("/components/leasing-form/callback-form.html",""),e.put("/components/leasing-form/grid-form.html",'<div class="ep-filterform"><div class="ep-suptitle">Автомобиля нет в нашем каталоге</div><fieldset class="ep-filterformbox" ng-form="Landing" ng-disabled="$ctrl.isSending()" ng-show="!$ctrl.isSended() || $ctrl.isLfl()"><h4 align="center">Оставьте заявку, и мы поможем вам с поиском нужной модели.</h4><div class="ep-filter-checkpole"><div class="ep-filter-subtitle">С кем будет заключён договор</div><div class="ep-filter-checkgrid"><div class="ep-filter-pole"><input id="GridForm_CtaType_1" class="ep-radio ep-radio--l" type="radio" name="LeasingForm_CtaType" ng-model="$ctrl.model.ctaType" ng-value="1" ng-required="!$ctrl.model.ctaType"> <label for="GridForm_CtaType_1" class="ep-label">Юридическое лицо</label></div><div class="ep-filter-pole"><input id="GridForm_CtaType_3" class="ep-radio ep-radio--l" type="radio" name="LeasingForm_CtaType" ng-model="$ctrl.model.ctaType" ng-value="3" ng-required="!$ctrl.model.ctaType"> <label for="GridForm_CtaType_3" class="ep-label">ИП</label></div><div class="ep-filter-pole"><input id="GridForm_CtaType_2" class="ep-radio ep-radio--l" type="radio" name="LeasingForm_CtaType" ng-model="$ctrl.model.ctaType" ng-value="2" ng-required="!$ctrl.model.ctaType"> <label for="GridForm_CtaType_2" class="ep-label">Физическое лицо</label></div></div></div><div class="ep-filter-inputpole"><div class="ep-filter-pole"><input ng-model="$ctrl.model.firstName" name="Name" required="" only-cyrillic="" type="text" maxlength="64" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 1000, \'blur\': 0 }}" class="ep-inputfield ep-inputfield--m"> <span class="ep-erasefield" ng-click="$ctrl.model.firstName=\'\'"></span> <label class="ep-labelfield">Имя</label> <span validation-message="" for="Name" class="ep-errorfield"></span></div><div class="ep-filter-pole"><input ng-model="$ctrl.model.phone" name="Phone" required="" async-phone-number="" type="tel" maxlength="60" ui-mask-placeholder="?+7 ( 9 9 9 ) 9 9 9 - 9 9 - 9 9" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 1000, \'blur\': 0 }}" class="ep-inputfield ep-inputfield--m"> <span class="ep-erasefield" ng-click="$ctrl.model.phone=\'\'"></span> <label class="ep-labelfield">Телефон</label> <span validation-message="" for="Phone" class="ep-errorfield"></span></div><div class="ep-filter-pole"><button type="button" class="ep-btn ep-btn__main ep-btn--m" ng-class="{ \'ep-btn__load\': $ctrl.isSending() }" ng-disabled="$ctrl.isSending()" ng-if="!$ctrl.isSended()" submit-if-valid-async="$ctrl.submit()">{{$ctrl.isSending() ? \'\' : \'Оставить заявку\'}}</button></div></div></fieldset><section class="ep-filterformbox" ng-show="$ctrl.isSended() && !$ctrl.isLfl()"><div class="ep-sellused-attblock" ng-if="$ctrl.isDecline()"><img src="/img/attention.svg"><p ng-bind="$ctrl.errorMessage()"></p></div><div align="center" ng-if="$ctrl.isSuccessful()"><div ng-bind-html-unsafe="$ctrl.message()"></div><div>Если остались вопросы, обратитесь по телефону <a href="tel:+{{$ctrl.ctPhoneNumber()}}">+{{$ctrl.ctPhoneNumber()}}</a></div></div></section><div class="ep-filternote" ng-show="!$ctrl.isSended()">Все поля обязательны для заполнения.<ep-popup-disclaimer></ep-popup-disclaimer></div></div><div class="lp-overlay ep-overlay-app ep-overlay-lfl" ng-show="$ctrl.isSuccessful() && $ctrl.isLfl()"><div class="ep-popup ep-popup-notice"><hgroup class="ep-app-headbox"><div class="ep-app-title">Мы временно не финансируем автомобили для физических лиц.</div></hgroup><section class="ep-app-contbox"><p>Оформите договор на юридическое лицо или ИП, если вам нужен транспорт для бизнеса.</p><button class="ep-btn ep-btn__normal ep-btn--m" ng-click="$ctrl.reinitialyze()">Закрыть</button></section></div></div>'),e.put("/components/leasing-form/leasing-form.html",'<div id="leasing-form" class="ep-overlay ep-overlay-app"><div class="ep-popup ep-popup-newapp"><hgroup class="ep-app-headbox"><div class="ep-app-title" ng-bind="$ctrl.isSended() && !$ctrl.isLfl() ? \'Ваша заявка принята\' : $ctrl.isCallBackForm ? \'Заказать звонок\' : \'Оставьте заявку на лизинг\'"></div><a class="ep-popup__close" history-back>×</a></hgroup><fieldset class="ep-app-contbox" ng-form="Landing" ng-disabled="$ctrl.isSending()" ng-show="!$ctrl.isSended() || $ctrl.isLfl()"><div class="ep-app-checkpoles"><div class="ep-app-subtitle" style="margin-bottom:8px" ng-bind=" $ctrl.isCallBackForm ? \'Вы обращаетесь как\' : \'С кем будет заключён договор\'"></div><div class="ep-app-checkgrid"><div class="ep-app-pole"><input id="LeasingForm_CtaType_1" class="ep-radio ep-radio--l" type="radio" name="LeasingForm_CtaType" ng-model="$ctrl.model.ctaType" ng-value="1" ng-required="!$ctrl.model.ctaType"> <label for="LeasingForm_CtaType_1" class="ep-label">Юридическое лицо</label></div><div class="ep-app-pole"><input id="LeasingForm_CtaType_3" class="ep-radio ep-radio--l" type="radio" name="LeasingForm_CtaType" ng-model="$ctrl.model.ctaType" ng-value="3" ng-required="!$ctrl.model.ctaType"> <label for="LeasingForm_CtaType_3" class="ep-label">ИП</label></div><div class="ep-app-pole"><input id="LeasingForm_CtaType_2" class="ep-radio ep-radio--l" type="radio" name="LeasingForm_CtaType" ng-model="$ctrl.model.ctaType" ng-value="2" ng-required="!$ctrl.model.ctaType"> <label for="LeasingForm_CtaType_2" class="ep-label">Физическое лицо</label></div></div></div><div class="ep-app-poles"><div class="ep-app-pole"><input ng-model="$ctrl.model.firstName" name="Name" required="" only-cyrillic="" type="text" maxlength="64" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 1000, \'blur\': 0 }}" class="ep-inputfield ep-inputfield--l"> <span class="ep-erasefield" ng-click="$ctrl.model.firstName=\'\'"></span> <label class="ep-labelfield">Имя</label> <span validation-message="" for="Name" class="ep-errorfield"></span></div><div class="ep-app-pole"><input ng-model="$ctrl.model.phone" name="Phone" required="" async-phone-number="" type="tel" maxlength="60" ui-mask-placeholder="?+7 ( 9 9 9 ) 9 9 9 - 9 9 - 9 9" ng-model-options="{  updateOn: \'default blur\', debounce: { \'default\': 1000, \'blur\': 0 }}" class="ep-inputfield ep-inputfield--l"> <span class="ep-erasefield" ng-click="$ctrl.model.phone=\'\';$ctrl.smsCode=\'\';$ctrl.smsSended=false" ng-if="!$ctrl.smsCodeValid"></span> <span class="ep-validfield" ng-if="$ctrl.smsCodeValid"></span> <label class="ep-labelfield">Телефон</label> <span validation-message="" for="Phone" class="ep-errorfield"></span></div></div><div class="ep-app-checkpoles ep-app-smsblock angular-animate" ng-show="$ctrl.smsCheck && $ctrl.phoneValid && !$ctrl.smsCodeValid"><p class="ep-app-desccenter" ng-bind="$ctrl.smsSended ? \'Мы отправили код подтверждения, введите его, чтобы оставить заявку.\' : \'Подтвердите номер телефона, чтобы продолжить оформление заявки\'"></p><div class="ep-app-poles ep-app-smspole"><div class="ep-app-pole"><button class="ep-btn ep-btn__normal ep-btn--s" ng-if="$ctrl.smsCheck && $ctrl.phoneValid && !$ctrl.smsCodeValid" ng-disabled="($ctrl.smsSended || Landing.sendSms.$error[\'smsSendSpamProtection\']) && !Landing.SmsCode.$error[\'smsCodeExpired\']" ep-sms-send="Phone" id="sendSms" name="sendSms" ng-model="$ctrl.smsSended" ng-required="$ctrl.model.phone" ng-click="$ctrl.sendSmsCode()" ng-class="{ \'ep-btn__load\': $ctrl.smsSending && !$ctrl.smsSended && !Landing.sendSms.$error[\'smsSendSpamProtection\']}" source="Lul">{{$ctrl.smsSending && !$ctrl.smsSended && !Landing.sendSms.$error[\'smsSendSpamProtection\'] ? \'\' : \'Получить код\'}}</button></div><div class="ep-app-pole"><input ng-model="$ctrl.smsCode" ng-disabled="!$ctrl.smsSended || $ctrl.smsChecking" name="SmsCode" ng-required="$ctrl.smsCheck" type="text" numbers-only ng-minlength="4" ng-maxlength="4" class="ep-inputfield ep-inputfield--s" ng-model-options="{ debounce: 0 }"> <span class="ep-erasefield" ng-click="$ctrl.resetSmsCode()"></span> <label class="ep-labelfield">Код из СМС</label> <span class="ep-notefield" ng-if="!Landing.SmsCode.$dirty && $ctrl.smsSended && !Landing.SmsCode.$error[\'smsCodeExpired\']">Код действителен {{$ctrl.timeCounter}} сек.</span> <span class="ep-notefield" ng-if="!Landing.SmsCode.$dirty && $ctrl.smsSended && Landing.SmsCode.$error[\'smsCodeExpired\']">Истёк срок действия кода</span> <span validation-message class="ep-invalidfield" for="SmsCode"></span></div><div class="ep-app-alert" ng-if="Landing.sendSms.$dirty && !Landing.sendSms.$valid"><span ng-if="Landing.sendSms.$error[\'smsSendSpamProtection\']" ng-init="$ctrl.countdown($ctrl.getAntispamCookieSeconds())">Отправить повторный код можно через {{$ctrl.timeCounter}} сек.</span> <span ng-if="!Landing.sendSms.$error[\'smsSendSpamProtection\']" validation-message class="ep-invalidfield" for="sendSms"></span></div></div></div><div class="ep-app-aside"><div class="ep-app-pole"><button type="button" class="ep-btn ep-btn__main ep-btn--l" ng-class="{ \'ep-btn__load\': $ctrl.isSending() }" ng-disabled="$ctrl.isSending()" submit-if-valid-async="$ctrl.submit()">{{$ctrl.isSending() ? \'\' : \'Оставить заявку\'}}</button></div><p align="center">Все поля обязательны для заполнения</p><p align="center"><ep-popup-disclaimer></ep-popup-disclaimer></p></div></fieldset><section class="ep-app-contbox" ng-show="$ctrl.isSended() && !$ctrl.isLfl()"><div class="ep-sellused-attblock" ng-if="$ctrl.isDecline()"><img src="/img/attention.svg"><p ng-bind="$ctrl.errorMessage()"></p></div><div align="center" ng-if="$ctrl.isSuccessful()"><div ng-bind-html-unsafe="$ctrl.message()"></div><div>Если остались вопросы, обратитесь по телефону <a href="tel:+{{$ctrl.ctPhoneNumber()}}">+{{$ctrl.ctPhoneNumber()}}</a></div></div></section></div></div><div class="lp-overlay ep-overlay-app ep-overlay-lfl angular-animate" ng-show="$ctrl.isSuccessful() && $ctrl.isLfl()"><div class="ep-popup ep-popup-notice"><hgroup class="ep-app-headbox"><div class="ep-app-title">Мы временно не финансируем автомобили для физических лиц.</div></hgroup><section class="ep-app-contbox"><p>Оформите договор на юридическое лицо или ИП, если вам нужен транспорт для бизнеса.</p><button class="ep-btn ep-btn__normal ep-btn--m" ng-click="$ctrl.reinitialyze()">Закрыть</button></section></div></div>'),e.put("/components/leasing-form/procontext-leasing-form.html",'<fieldset class="ep-main__bnr-form" ng-form="Landing" ng-show="!$ctrl.isSended() || $ctrl.isLfl()" ng-disabled="$ctrl.isSending()"><h3>С кем будет заключён договор</h3><div class="ep-main__bnr-form-radiobox"><div class="ep-inputbox"><input id="1" class="ep-radio ep-radio--l" type="radio" name="CtaType" ng-model="$ctrl.model.ctaType" ng-value="1" ng-required="!$ctrl.model.ctaType"> <label for="1" class="ep-label">Юридическое лицо</label></div><div class="ep-inputbox"><input id="2" class="ep-radio ep-radio--l" type="radio" name="CtaType" ng-model="$ctrl.model.ctaType" ng-value="3" ng-required="!$ctrl.model.ctaType"> <label for="2" class="ep-label">ИП</label></div><div class="ep-inputbox"><input id="3" class="ep-radio ep-radio--l" type="radio" name="CtaType" ng-model="$ctrl.model.ctaType" ng-value="2" ng-required="!$ctrl.model.ctaType"> <label for="3" class="ep-label">Физическое лицо</label></div></div><div class="ep-main__bnr-form-fbox"><div class="ep-main__bnr-form__item"><input ng-model="$ctrl.model.firstName" name="Name" required="" only-cyrillic="" type="text" maxlength="64" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 1000, \'blur\': 0 }}" class="ep-inputfield ep-inputfield--l"> <span class="ep-erasefield" ng-click="$ctrl.model.firstName=\'\'"></span> <label class="ep-labelfield">Имя</label> <span validation-message="" for="Name" class="ep-errorfield"></span></div><div class="ep-main__bnr-form__item"><input ng-model="$ctrl.model.phone" name="Phone" required="" async-phone-number="" type="tel" maxlength="60" ui-mask-placeholder="?+7 ( 9 9 9 ) 9 9 9 - 9 9 - 9 9" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 1000, \'blur\': 0 }}" class="ep-inputfield ep-inputfield--l"> <span class="ep-erasefield" ng-click="$ctrl.model.phone=\'\'"></span> <label class="ep-labelfield">Телефон</label> <span validation-message="" for="Phone" class="ep-errorfield"></span></div><div class="ep-main__bnr-form__item"><button ng-class="{ \'ep-btn__load\': $ctrl.isSending() }" ng-disabled="$ctrl.isSending()" submit-if-valid-async="$ctrl.submit()" class="ep-btn ep-btn__main ep-btn--l ep-btn--submit" type="button">{{$ctrl.isSending() ? \'\' : \'Оставить заявку\'}}</button></div><div class="ep-main__bnr-form__item"><p class="ep-main__bnr-form__note" style="">Все поля обязательны для заполнения.<br><ep-popup-disclaimer></ep-popup-disclaimer></p></div></div></fieldset><div class="ep-main__bnr-form" ng-if="$ctrl.isSended() && !$ctrl.isLfl()"><h3>Благодарим за обращение в Европлан!</h3><div class="ep-sellused-attblock" ng-if="$ctrl.isDecline()"><img src="/img/attention.svg"><p ng-bind="$ctrl.errorMessage()"></p></div><div align="center" ng-if="$ctrl.isSuccessful()"><div ng-bind-html-unsafe="$ctrl.message()"></div><div>Если остались вопросы, обратитесь по телефону <a href="tel:+{{$ctrl.ctPhoneNumber()}}">+{{$ctrl.ctPhoneNumber()}}</a></div></div></div><div class="lp-overlay ep-overlay-app ep-overlay-lfl angular-animate" ng-show="$ctrl.isSuccessful() && $ctrl.isLfl()"><div class="ep-popup ep-popup-notice"><hgroup class="ep-app-headbox"><div class="ep-app-title">Мы временно не финансируем автомобили для физических лиц.</div></hgroup><section class="ep-app-contbox"><p>Оформите договор на юридическое лицо или ИП, если вам нужен транспорт для бизнеса.</p><button class="ep-btn ep-btn__normal ep-btn--m" ng-click="$ctrl.reinitialyze()">Закрыть</button></section></div></div>'),e.put("/components/leasing-form/trade-in-form.html",'<div class="ep-sellusedcar"><div class="ep-sellused-pic"><picture><source type="image/webp" data-srcset="/img/trade-in-form.webp"><img class="lazy" data-src="/img/trade-in-form.png"></picture></div><fieldset class="ep-sellused-content" ng-form="TradeIn" ng-disabled="$ctrl.isSending()" ng-show="!$ctrl.isSended()" ng-init="$ctrl.model.tradeIn=true;"><h3>Продайте автомобиль с&nbsp;пробегом через Европлан</h3><p>Услуга распространяется на легковой и&nbsp;легкий коммерческий транспорт,<br>находящийся в&nbsp;собственности у&nbsp;юридических лиц.</p><div class="ep-sellused-checkblock"><h4>С кем будет заключен договор</h4><div class="ep-sellused-checks"><div class="ep-sellused-checkitem"><input id="TradeInForm_CtaType_1" class="ep-radio ep-radio--l" type="radio" name="TradeInForm_CtaType" ng-model="$ctrl.model.ctaType" ng-value="1" ng-required="!$ctrl.model.ctaType"> <label for="TradeInForm_CtaType_1" class="ep-label">Юридическое лицо</label></div><div class="ep-sellused-checkitem"><input id="TradeInForm_CtaType_3" class="ep-radio ep-radio--l" type="radio" name="TradeInForm_CtaType" ng-model="$ctrl.model.ctaType" ng-value="3" ng-required="!$ctrl.model.ctaType"> <label for="TradeInForm_CtaType_3" class="ep-label">ИП</label></div><div class="ep-sellused-checkitem"><input id="TradeInForm_CtaType_2" class="ep-radio ep-radio--l" type="radio" name="TradeInForm_CtaType" ng-model="$ctrl.model.ctaType" ng-value="2" ng-required="!$ctrl.model.ctaType"> <label for="TradeInForm_CtaType_2" class="ep-label">Физическое лицо</label></div></div><p class="ep-sellused-note">Доступно для клиентов, работающих на ОСНО.</p></div><div class="ep-sellused-inputblock" ng-if="$ctrl.model.ctaType !== 2"><div class="ep-sellused-inputitem"><input ng-model="$ctrl.model.firstName" name="Name" required="" only-cyrillic="" type="text" maxlength="64" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 1000, \'blur\': 0 }}" class="ep-inputfield ep-inputfield--l"> <span class="ep-erasefield" ng-click="$ctrl.model.firstName=\'\'"></span> <label class="ep-labelfield">Имя</label> <span validation-message="" for="Name" class="ep-errorfield"></span></div><div class="ep-sellused-inputitem"><input ng-model="$ctrl.model.phone" name="Phone" required="" async-phone-number="" type="tel" maxlength="60" ui-mask-placeholder="?+7 ( 9 9 9 ) 9 9 9 - 9 9 - 9 9" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 1000, \'blur\': 0 }}" class="ep-inputfield ep-inputfield--l"> <span class="ep-erasefield" ng-click="$ctrl.model.phone=\'\'"></span> <label class="ep-labelfield">Телефон</label> <span validation-message="" for="Phone" class="ep-errorfield"></span></div></div><div class="ep-sellused-attblock" ng-if="$ctrl.model.ctaType === 2"><img src="/img/attention.svg" alt=""><p>К сожалению, пока мы не выкупаем автомобили у&nbsp;физических лиц.</p></div><div class="ep-sellused-btnblock"><button type="button" class="ep-btn ep-btn__main ep-btn--l" ng-class="{ \'ep-btn__load\': $ctrl.isSending() }" ng-disabled="$ctrl.isSending() || $ctrl.model.ctaType === 2" ng-if="!$ctrl.isSended()" submit-if-valid-async="$ctrl.submit()">{{$ctrl.isSending() ? \'\' : \'Оставить заявку\'}}</button><p style="font-size:12px">Все поля обязательны для заполнения.<br><ep-popup-disclaimer></ep-popup-disclaimer></p></div></fieldset><section class="ep-app-contbox" ng-show="$ctrl.isSended()"><h3>Ваша заявка принята</h3><div ng-if="$ctrl.isSuccessful()" ng-bind-html-unsafe="$ctrl.message()"></div><div ng-if="$ctrl.isDecline()" ng-bind="$ctrl.errorMessage()"></div><div>Если остались вопросы, обратитесь по&nbsp;телефону <a href="tel:+{{$ctrl.ctPhoneNumber()}}">+{{$ctrl.ctPhoneNumber()}}</a></div></section></div>'),e.put("/components/leasing-selector/leasing-selector.html",'<div class="ep-carprogsbox"><div class="ep-subhead">Ответьте максимум на пять вопросов, и мы подберём для вас подходящую лизинговую программу</div><div class="ep-assist-choise" ng-if="$ctrl.step==1"><div class="ep-assist-choise-title">Вы выбираете автомобиль для себя или для бизнеса?</div><div class="ep-assist-choise-btnbox"><button type="button" class="ep-btn ep-btn__normal ep-btn--m" ng-class="{\'ep-btn--chosen\' : $ctrl.filter.type == type.value }" ng-click="$ctrl.filter.type = type.value" ng-repeat="type in $ctrl.buttons.type">{{type.label}}</button> <button type="button" class="ep-btn ep-btn-icon ep-btn__default ep-btn--m" ng-click="$ctrl.next()" ng-if="$ctrl.filter.type"><img src="/img/arrow-noactive.svg"></button></div></div><div class="ep-assist-choise" ng-if="$ctrl.step==2"><div class="ep-assist-choise-title">На кого будете оформлять договор?</div><div class="ep-assist-choise-btnbox"><button type="button" class="ep-btn ep-btn-icon ep-btn__default ep-btn--m" ng-click="$ctrl.back()"><img src="/img/arr_prevl.svg"></button> <button type="button" class="ep-btn ep-btn__normal ep-btn--m" ng-class="{\'ep-btn--chosen\' : $ctrl.filter.ctaType == type.value }" ng-click="$ctrl.filter.ctaType = type.value" ng-repeat="type in $ctrl.buttons.ctaType">{{type.label}}</button> <button type="button" class="ep-btn ep-btn-icon ep-btn__default ep-btn--m" ng-click="$ctrl.next()" ng-if="$ctrl.filter.ctaType"><img src="/img/arrow-noactive.svg"></button></div></div><div class="ep-assist-choise" ng-if="$ctrl.step==3"><div class="ep-assist-choise-title">Вы хотели бы иметь возможность вернуть автомобиль в Европлан в конце срока лизинга?</div><div class="ep-assist-choise-btnbox"><button type="button" class="ep-btn ep-btn-icon ep-btn__default ep-btn--m" ng-click="$ctrl.back()"><img src="/img/arr_prevl.svg"></button> <button type="button" class="ep-btn ep-btn__normal ep-btn--m" ng-class="{\'ep-btn--chosen\' : $ctrl.filter.return == type.value }" ng-click="$ctrl.filter.return = type.value" ng-repeat="type in $ctrl.buttons.boolean">{{type.label}}</button> <button type="button" class="ep-btn ep-btn-icon ep-btn__default ep-btn--m" ng-click="$ctrl.next()" ng-if="$ctrl.filter.return != undefined"><img src="/img/arrow-noactive.svg"></button></div></div><div class="ep-assist-choise" ng-if="$ctrl.step==4"><div class="ep-assist-choise-title">Вам важно включить в лизинг обслуживание автомобиля и экономить на этом до 20%?</div><div class="ep-assist-choise-btnbox"><button type="button" class="ep-btn ep-btn-icon ep-btn__default ep-btn--m" ng-click="$ctrl.back()"><img src="/img/arr_prevl.svg"></button> <button type="button" class="ep-btn ep-btn__normal ep-btn--m" ng-class="{\'ep-btn--chosen\' : $ctrl.filter.includeServices == type.value }" ng-click="$ctrl.filter.includeServices = type.value" ng-repeat="type in $ctrl.buttons.boolean">{{type.label}}</button> <button type="button" class="ep-btn ep-btn-icon ep-btn__default ep-btn--m" ng-click="$ctrl.next()" ng-if="$ctrl.filter.includeServices != undefined"><img src="/img/arrow-noactive.svg"></button></div></div><div class="ep-assist-choise" ng-if="$ctrl.step==5"><div class="ep-assist-choise-title">Вы хотели бы вложить свой текущий автомобиль в качестве аванса для покупки нового транспорта?</div><div class="ep-assist-choise-btnbox"><button type="button" class="ep-btn ep-btn-icon ep-btn__default ep-btn--m" ng-click="$ctrl.back()"><img src="/img/arr_prevl.svg"></button> <button type="button" class="ep-btn ep-btn__normal ep-btn--m" ng-class="{\'ep-btn--chosen\' : $ctrl.filter.tradeIn == type.value }" ng-click="$ctrl.filter.tradeIn = type.value" ng-repeat="type in $ctrl.buttons.boolean">{{type.label}}</button> <button type="button" class="ep-btn ep-btn-icon ep-btn__default ep-btn--m" ng-click="$ctrl.next()" ng-if="$ctrl.filter.tradeIn != undefined"><img src="/img/arrow-noactive.svg"></button></div></div><div class="ep-assist-choise ep-assist-choise__finish" ng-if="$ctrl.step==6"><div class="ep-assist-choise-title">Посмотрите программы, которые вам подойдут:</div><div class="ep-assist-choise-btnbox"><button type="button" class="ep-btn ep-btn-icon ep-btn__default ep-btn--m" ng-click="$ctrl.back()"><img src="/img/arr_prevl.svg"></button> <button type="button" class="ep-btn ep-btn__default ep-btn--m" ng-click="$ctrl.reset()">Попробовать ещё раз</button></div></div><div class="ep-assist-total"><div class="ep-assist-totalbox" ng-class="{\'ep-assists_hide\': !$ctrl.showAll}"><div class="ep-assist-total-item ph-item" style="min-height:240px" ng-repeat="i in [1,2,3]" ng-if="$ctrl.loading"><div class="ph-col-12"><div class="ph-row"><div class="ph-col-6 big"></div><div class="ph-col-6 empty big"></div><div class="ph-col-12 empty"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-8"></div><div class="ph-col-12"></div><div class="ph-col-12"></div><div class="ph-col-6"></div><div class="ph-col-12 empty"></div><div class="ph-col-3 big"></div></div></div></div><div class="ep-assist-total-item" ng-if="!$ctrl.loading" ng-repeat="item in $ctrl.allPrograms" ng-class="{\'ep-assist-total-item__active\' : item.state == 1, \'ep-assist-total-item__out\' : item.state == 2 }"><div class="ep-assist-total-title" ng-bind="item.name"></div><p class="ep-assist-total-text" ng-bind-html-unsafe="item.description"></p><a class="ep-assist-total-link" ng-href="{{item.url}}" ng-if="item.url">Выбрать</a></div></div><a class="ep-assist-more-link" ng-click="$ctrl.showAll = true" ng-hide="$ctrl.showAll">Посмотреть все</a></div></div>'),e.put("/components/office-manager-message/office-manager-message.html",'<div class="ep-messageblock"><div class="ep-message-manager"><div class="ep-message-manager--foto"><img ng-src="/business-cards/photo?login={{$ctrl.inputManagerLogin}}" alt=""></div><div class="ep-message-manager--name"><p><strong>{{$ctrl.manager.firstName}} {{$ctrl.manager.lastName}}</strong></p><p>{{$ctrl.manager.positionName}} {{$ctrl.inputRegionSuffix}}</p></div></div><div class="ep-message-item"><ng-transclude></ng-transclude></div></div>'),e.put("/components/procontext-lineup/procontext-lineup.html",'<advert-search-filter input-page-type="3" input-country-codes="$ctrl.inputCountryCodes" is-dealer="$ctrl.isDealer" output-filter-ready="$ctrl.filterReady" output-filter="$ctrl.filter"></advert-search-filter><div style="margin-bottom:32px"></div><div class="ep-uc_blocks" ng-if="!$ctrl.adverts"><grid-vehicle-card class="ep-uc_item" ng-show="$ctrl.loading || !$ctrl.filterReady"></grid-vehicle-card></div><div class="thumbcap-thumbs {{$ctrl.gliderSelector}}" ng-if="$ctrl.adverts"><div class="ep-uc_blocks ep-uc_blocks-similar" style="background-color:none"><grid-vehicle-card class="ep-uc_item" style="padding-right:16px" input-model="a" ng-repeat="a in $ctrl.adverts" output-advert-popup="$ctrl.outputAdvertPopup"></grid-vehicle-card><div class="ep-uc_item ep-uc_bnr lazy" data-bg="/img/uc/noused-bg.png"><div class="ep-uc_bnr-pole" style="margin:auto 0"><div class="ep-uc_bnr-title">Не хотите сами искать автомобиль в наличии или по нужной цене?</div><p>Найдём в любых регионах и доставим вам.</p><div class="ep-uc_bnr-btn"><button init-popup init-block="ProcontextGridBanner" class="ep-btn ep-btn__main ep-btn--m">Оставить заявку</button></div></div></div></div><div class="ep-sim-dots"></div><span role="button" aria-label="Previous" class="glider-prev"><img class="lazy" data-src="/img/Arrow-glider-prev.svg"></span><span role="button" aria-label="Next" class="glider-next"><img class="lazy" data-src="/img/Arrow-glider-next.svg"></span></div>'),e.put("/components/promo-lineup/promo-lineup.html",'<ng-transclude></ng-transclude><div class="ep-special" data-sticky-container id="sitcky_container"><search-filter output-filter-ready="$ctrl.filterReady" output-filter="$ctrl.filter" input-page-type="$ctrl.inputPageType" input-vehicle-type="$ctrl.inputVehicleType" input-vehicle-kind="$ctrl.inputVehicleKind" input-vehicle-classes="$ctrl.inputVehicleClasses" input-body-type="$ctrl.inputBodyType" input-brand-ids="$ctrl.inputBrandIds" input-model-ids="$ctrl.inputModelIds" input-engine-types="$ctrl.inputEngineTypes" input-country-codes="$ctrl.inputCountryCodes" input-nds-flag="$ctrl.inputNdsFlag"></search-filter><a id="scroll-position" style="display:block"></a><div ng-if="$ctrl.loading" class="ep-uc_blocks"><grid-vehicle-card class="ep-uc_item" ng-repeat="x in [].constructor(8) track by $index"></grid-vehicle-card></div><grid-vehicles ng-hide="$ctrl.loading" input-models="$ctrl.modelGroups" add-models="$ctrl.addModelGroups" input-adverts="$ctrl.adverts" add-adverts="$ctrl.addAdverts" hide-pagination="$ctrl.hidePagination" ng-class="{\'pagination\':$ctrl.hidePagination}" on-add-cards="$ctrl.load()"></grid-vehicles></div>'),e.put("/components/promo-special-offers/promo-special-offers.html",'<div ng-if="!$ctrl.specialOffers" style="grid-template-columns:repeat(auto-fill,minmax(271px,1fr));display:grid;grid-gap:32px 16px"><div class="ph-item" ng-repeat="x in [].constructor(4) track by $index"><div class="ph-col-12"><div class="ph-picture" style="height:185px;margin-bottom:20px"></div><div class="ph-row"><div class="ph-col-12 big"></div><div class="ph-col-8 big"></div><div class="ph-col-4 empty big"></div><div class="ph-col-4 big" style="height:40px;border-radius:6px"></div></div></div></div></div><div class="ep-special" ng-if="$ctrl.specialOffers"><div class="ep-offers-cards"><div class="ep-offers-card" ng-repeat="o in $ctrl.specialOffers"><picture ng-click="$ctrl.popupOrScroll(o.tag,o.shortName)" class="ph-item" skeleton-loading="picture"><source type="image/webp" data-srcset="/storagedfile/optimizedimage/{{o.imageId}}?width=320&height=240&crop=true&format=webp"><img class="ep-offers-pic ph-picture lazy" data-src="/storagedfile/optimizedimage/{{o.imageId}}?width=320&height=240&crop=true" style="aspect-ratio:4/3"></picture><div class="ep-offers-hgroup"><div class="ep-offers-head" ng-bind-html-unsafe="o.shortName"></div></div><div class="ep-offers-fgroup"><div class="ep-offers-bonus" ng-bind-html-unsafe="o.name"></div><div class="ep-offers-valid"></div><button ng-click="$ctrl.popupOrScroll(o.tag,o.shortName)" class="ep-btn ep-btn__normal ep-btn--s">Отправить заявку</button></div><span ng-if="$last">{{$ctrl.runGlider()}}</span></div></div><div class="ep-special-carousel-dots"></div></div>'),e.put("/components/promo-video-block/promo-video-block.html",'<h2>{{$ctrl.videoBlock.title}}</h2><div class="ep-subhead">{{$ctrl.videoBlock.subtitle}}</div><div class="ep-videos"><div class="ep-videosrow ep-videos-{{$ctrl.videoBlock.columnsCount}}"><video-popup input-video="v" ng-repeat="v in $ctrl.videoBlock.videos"><div></div></video-popup></div></div>'),e.put("/components/responsible-links/responsible-links.html",'<div ng-if="$ctrl.widgetAvailable"><div class="ep-vdj" ng-if="!$ctrl.showResponsibles"><div class="ep-vdj-linkblock">Нашли ошибку? <span class="ep-vdj-linkblock__dashed" ng-click="$ctrl.showResponsiblesPopup()">Напишите ответственным</span></div></div><div class="ep-vdj ep-vdj--activ" ng-show="$ctrl.showResponsibles && $ctrl.responsibles"><div class="ep-vdj-closed"><img class="lazy" data-src="/img/close.svg" ng-click="$ctrl.showResponsibles=false"></div><div class="ep-vdj-title">По всем замечаниям обращайтесь:</div><div class="ep-vdj-body" ng-repeat="r in $ctrl.responsibles"><div class="ep-vdj-photo"><img data-src="/business-cards/photo?login={{r.login}}" class="lazy"></div><div class="ep-vdj-conts"><div class="ep-vdj-name">{{r.firstName}} {{r.lastName}}</div><div class="ep-vdj-stat">{{r.positionName}}, {{r.subdivision}}</div><div class="ep-vdj-conts__linkbox"><a ng-href="sip:{{r.login}}@europlan.ru"><img data-src="/img/icon-skype.svg" class="lazy"></a><a ng-href="mailto:{{r.login}}@europlan.ru?subject=Замечание по странице сайта {{$ctrl.url}}&body=Добрый день. Замечание по странице: {{$ctrl.url}}">{{r.login}}@europlan.ru</a></div></div></div><div class="ep-vdj-foot">Контакты доступны только с рабочих компьютеров работников ПАО «ЛК «Европлан»</div></div></div>'),e.put("/components/reviews/reviews.html",'<div class="ep-reviewsblock" ng-if="$ctrl.reviews.length>0"><h2>Отзывы о Европлане</h2><div class="ep-reviews"><div class="ep-review" ng-repeat="item in $ctrl.reviews"><div class="ep-review-place">{{item.regionName}}</div><div class="ep-review-author">{{item.name}}{{item.companyName ? \', \' + item.companyName : \'\'}}</div><div class="ep-review-time">{{item.created}}</div><div class="ep-review-article">{{item.text}}</div><a class="ep-review-link" ng-href="{{item.url}}">Подробнее</a></div></div><div class="ep-reviews-dots"></div><span role="button" aria-label="Previous" class="glider-prev"><img src="/img/glider-prev.svg" alt="Previous"></span><span role="button" aria-label="Next" class="glider-next"><img src="/img/glider-next.svg" alt="Next"></span></div>'),e.put("/components/search-filter/advert-search-filter.html",'\ufeff<section class="ep-fl-markbox" style="display:block"><div class="ep-fl-markwrap"><div class="ep-fl-mark"><a class="ep-fl-mark-item" ng-class="{\'active\':$ctrl.selectedBrand && $ctrl.selectedBrand.originalObject.value == l.brandId}" ng-repeat="l in $ctrl.brandsFromFilter" ng-click="$ctrl.onMarkIconClick(l.brandId)"><picture><source type="image/webp" data-srcset="/image/make/{{l.brandId}}?w=48&h=48&logo=true&crop=false&f=webp"><img class="ep-fl-mark-pic lazy" data-src="/image/make/{{l.brandId}}?w=48&h=48&logo=true&crop=false"></picture></a></div></div></section><div class="ep-fbox"><div class="ep-fieldbox" style="width:100%"><input id="" name="" tabindex="" type="button" placeholder="" class="ep-inputfield ep-inputfield--l" ng-click="$ctrl.showMobileFilter = true"> <input type="search" class="ep-searchfield"> <label class="ep-labelfield">Фильтр</label></div><div class="ep-fieldbox" ng-class="{\'ph-item\':!$ctrl.outputFilterReady}"><angucomplete-alt id="brandsInput" auto-match="true" placeholder="Марка" pause="100" selected-object="$ctrl.selectedBrand" local-data="$ctrl.filterValues.brands" title-field="label" search-fields="label,aliases" dropdown-on-focus="true" minlength="0" disable-input="!$ctrl.outputFilterReady" input-class="ep-selectfield ep-inputfield ep-inputfield--m"></div><div class="ep-fieldbox" ng-class="{\'ph-item\':!$ctrl.outputFilterReady}"><angucomplete-alt id="modelsInput" auto-match="true" placeholder="Модель" pause="100" selected-object="$ctrl.selectedModel" local-data="$ctrl.filterValues.models" disable-input="!$ctrl.filterValues.models || !$ctrl.outputFilterReady" title-field="label" search-fields="label,aliases" dropdown-on-focus="true" minlength="0" input-class="ep-selectfield ep-inputfield ep-inputfield--m"></div><div class="ep-fieldbox" ng-class="{\'ph-item\':!$ctrl.outputFilterReady}"><angucomplete-alt id="optionsInput" auto-match="true" placeholder="Комплектация" pause="100" selected-object="$ctrl.selectedOption" local-data="$ctrl.filterValues.options" disable-input="!$ctrl.filterValues.options || !$ctrl.outputFilterReady" title-field="label" search-fields="label,aliases" dropdown-on-focus="true" minlength="0" input-class="ep-selectfield ep-inputfield ep-inputfield--m"></div></div><div class="ep-overlay ep-overlay-fl ep-overlay-fl-visible" ng-if="$ctrl.showMobileFilter" style="z-index:10000"><div class="ep-popup ep-popup-fl" style="height:100vh;max-height:100vh"><div class="ep-sticky"><div class="ep-sticky-wrapper"><div class="ep-sticky__title"><a href="" class="ep-sticky__title-close" ng-click="$ctrl.showMobileFilter = false"></a><div class="ep-sticky__title-name">Фильтр</div></div><div class="ep-sticky__view"><a class="ep-sticky__view-link" ng-click="$ctrl.resetFilter(null,true)">Очистить всё</a></div></div></div><div class="ep-filterside"><div class="ep-filterside-wrapper"><div class="ep-filterside-pole"><div class="ep-filterbox"><angucomplete-alt id="brandsInput" auto-match="true" placeholder="Марка" pause="100" selected-object="$ctrl.selectedBrand" local-data="$ctrl.filterValues.brands" title-field="label" search-fields="label,aliases" dropdown-on-focus="true" minlength="0" disable-input="!$ctrl.outputFilterReady" input-class="ep-selectfield ep-inputfield ep-inputfield--m"></div><div class="ep-filterbox"><angucomplete-alt id="modelsInput" auto-match="true" placeholder="Модель" pause="100" selected-object="$ctrl.selectedModel" local-data="$ctrl.filterValues.models" disable-input="!$ctrl.filterValues.models || !$ctrl.outputFilterReady" title-field="label" search-fields="label,aliases" dropdown-on-focus="true" minlength="0" input-class="ep-selectfield ep-inputfield ep-inputfield--m"></div><div class="ep-filterbox"><angucomplete-alt id="optionsInput" auto-match="true" placeholder="Комплектация" pause="100" selected-object="$ctrl.selectedOption" local-data="$ctrl.filterValues.options" disable-input="!$ctrl.filterValues.options || !$ctrl.outputFilterReady" title-field="label" search-fields="label,aliases" dropdown-on-focus="true" minlength="0" input-class="ep-selectfield ep-inputfield ep-inputfield--m"></div></div></div></div><footer class="ep-footer"><div class="ep-footer__mobilebox"><div class="ep-footer__mobilebox-linkbox"><button class="ep-btn ep-btn__main ep-btn--l" ng-disabled="!$ctrl.outputFilterReady" ng-click="$ctrl.showMobileFilter = false">Показать</button></div></div></footer></div></div>'),e.put("/components/search-filter/search-filter.html",'<section class="ep-fl-tilesbox"><hgroup class="ep-fl-tiles-hgroup"><h2 class="ep-fl-tiles-s2" ng-click="$ctrl.showMobileSuperTypes = !$ctrl.showMobileSuperTypes"><a class="ep-fl-tiles-typebtn">{{$ctrl.mobileSuperTypesLabel}}</a></h2></hgroup><div ng-class="{\'ep-overlay ep-overlay-fl ep-overlay-fl-visible\':$ctrl.showMobileSuperTypes}"><div ng-class="{\'ep-popup ep-popup-fl\':$ctrl.showMobileSuperTypes}"><hgroup class="ep-fl-headbox" ng-if="$ctrl.showMobileSuperTypes"><div class="ep-fl-title">Типы ТС</div><a ng-click="$ctrl.showMobileSuperTypes = false" class="ep-fl-close"></a></hgroup><div ng-class="{\'ep-fl-main\':$ctrl.showMobileSuperTypes}"><div class="ep-fl-tiles" ng-class="{\'active\':$ctrl.showMobileSuperTypes}"><div class="ep-fl-tile" ng-repeat="type in $ctrl.searchParamsSet" ng-click="$ctrl.updateSearchParamsSet(type.value)" ng-class="$ctrl.mobileSuperTypesLabel == type.label ? \'active\' : \'\'"><span class="ep-fl-tile-cap">{{type.label}}</span> <img class="ep-fl-tile-pic lazy" data-src="/img/new-filter/{{type.label}}.png"></div></div></div><footer class="ep-fl-footer" style="box-shadow:none" ng-if="$ctrl.showMobileSuperTypes"><button type="button" class="ep-btn ep-btn__main ep-btn--m" ng-click="$ctrl.showMobileSuperTypes = false;">Выбрать</button></footer></div></div></section><div class="ep-autostock__block"><div class="ep-tabfix" data-sticky-class="ep-tabfix-sticky" data-margin-top="80"><div class="ep-tabs"><div class="ep-tab" ng-repeat="type in $ctrl.searchParamsSet" ng-click="$ctrl.updateSearchParamsSet(type.value)" ng-class="$ctrl.isEqual($ctrl.searchFilter.vehicleCategories, type.value.vehicleCategories) ? \'ep-tab--activ\' : \'\'" scroll-to="sitcky_container" offset="175"><div class="ep-tab-item" ng-bind="type.label"></div></div></div></div></div><section class="ep-fl-tabrollbox"><div class="tab-roll"><ul><li ng-class="{\'active\':$ctrl.searchFilter.pageType == 0}"><a ng-click="$ctrl.searchFilter.pageType = 0">Новые</a></li><li ng-class="{\'active\':$ctrl.searchFilter.pageType == 1}"><a ng-click="$ctrl.searchFilter.pageType = 1">С пробегом</a></li></ul></div></section><section class="ep-fl-markbox"><div class="ep-fl-markwrap"><div class="ep-fl-mark"><a class="ep-fl-mark-item" ng-repeat="l in $ctrl.brandsWithLogos" ng-click="$ctrl.onMarkIconClick(l.brandId)"><picture><source type="image/webp" data-srcset="/image/make/{{l.brandId}}?w=48&h=48&logo=true&crop=false&f=webp"><img class="ep-fl-mark-pic lazy" data-src="/image/make/{{l.brandId}}?w=48&h=48&logo=true&crop=false"></picture></a></div></div></section><section ng-class="{\'ep-overlay ep-overlay-fl ep-overlay-fl-visible\':$ctrl.showMobileFilter}"><div ng-class="$ctrl.showMobileFilter ? \'ep-popup ep-popup-fl\' : \'ep-fl-fieldbox\'"><hgroup class="ep-fl-headbox" ng-if="$ctrl.showMobileFilter"><div class="ep-fl-title">Фильтр</div><a ng-click="$ctrl.showMobileFilter = false" class="ep-fl-close"></a></hgroup><div ng-class="$ctrl.showMobileFilter ? \'ep-fl-main ep-fl-fieldbox\' : \'ep-fl-fieldwrap\'"><div class="ep-fl-fields"><div class="ep-fl-fiel-item" ng-if="$ctrl.showMobileFilter"><section class="ep-fl-tabrollbox"><div class="tab-roll"><ul><li ng-class="{\'active\':$ctrl.searchFilter.pageType == 0}"><a ng-click="$ctrl.searchFilter.pageType = 0">Новые</a></li><li ng-class="{\'active\':$ctrl.searchFilter.pageType == 1}"><a ng-click="$ctrl.searchFilter.pageType = 1">С пробегом</a></li></ul></div></section></div><div class="ep-fl-fiel-item" ng-class="{\'ph-item\':!$ctrl.outputFilterReady}"><angucomplete-alt id="brandsInput" auto-match="true" placeholder="Марка" pause="100" selected-object="$ctrl.selectedBrand" local-data="$ctrl.filterValues.brands" title-field="label" search-fields="label,aliases" dropdown-on-focus="true" minlength="0" disable-input="!$ctrl.outputFilterReady" input-class="ep-selectfield ep-inputfield ep-inputfield--m"></div><div class="ep-fl-fiel-item" ng-class="{\'ph-item\':!$ctrl.outputFilterReady}"><angucomplete-alt id="modelsInput" auto-match="true" placeholder="Модель" pause="100" selected-object="$ctrl.selectedModel" local-data="$ctrl.filterValues.models" disable-input="!$ctrl.filterValues.models || !$ctrl.outputFilterReady" title-field="label" search-fields="label,aliases" dropdown-on-focus="true" minlength="0" input-class="ep-selectfield ep-inputfield ep-inputfield--m"></div><div class="ep-fl-fiel-item" ng-class="{\'ph-item\':!$ctrl.outputFilterReady}"><div><angucomplete-alt id="vehicleKindsInput" ng-show="$ctrl.searchFilter.vehicleSuperTypes[0] !== 8" auto-match="true" placeholder="Вид техники" pause="100" selected-object="$ctrl.selectedVehicleKind" local-data="$ctrl.filterValues.vehicleKinds" title-field="label" search-fields="label,aliases" dropdown-on-focus="true" minlength="0" disable-input="!$ctrl.outputFilterReady" input-class="ep-selectfield ep-inputfield ep-inputfield--m"></div><div><angucomplete-alt id="bodyTypesInput" ng-show="$ctrl.searchFilter.vehicleSuperTypes[0] === 8" auto-match="true" placeholder="Кузов" pause="100" selected-object="$ctrl.selectedBodyType" local-data="$ctrl.filterValues.bodyTypes" title-field="label" search-fields="label,aliases" dropdown-on-focus="true" minlength="0" disable-input="!$ctrl.outputFilterReady" input-class="ep-selectfield ep-inputfield ep-inputfield--m"></div></div><div class="ep-fl-fiel-item" ng-class="{\'ph-item\':!$ctrl.outputFilterReady}" ng-show="$ctrl.searchFilter.vehicleSuperTypes[0] === 8 || $ctrl.searchFilter.vehicleSuperTypes[0] === 9"><angucomplete-alt id="gearboxInput" auto-match="true" placeholder="Коробка передач" pause="100" selected-object="$ctrl.selectedGearbox" local-data="$ctrl.filterValues.gearboxs" title-field="label" search-fields="label,aliases" dropdown-on-focus="true" read-only-input="true" minlength="0" disable-input="!$ctrl.outputFilterReady" input-class="ep-selectfield ep-inputfield ep-inputfield--m"></div><div class="ep-fl-fiel-item ep-fl-fiel-lineitem" ng-class="{\'ph-item\':!$ctrl.outputFilterReady}"><div class="ep-fl-fiel-item"><input type="text" class="ep-inputfield ep-inputfield--m" number-input="$ctrl.priceFrom" inputmode="numeric" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 1000, \'blur\': 0 }}" ng-disabled="!$ctrl.outputFilterReady"> <span class="ep-erasefield" ng-click="$ctrl.priceFrom = null"></span> <label class="ep-labelfield">Цена от, ₽</label></div><div class="ep-fl-fiel-item"><input type="text" class="ep-inputfield ep-inputfield--m" number-input="$ctrl.priceTo" inputmode="numeric" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 1000, \'blur\': 0 }}" ng-disabled="!$ctrl.outputFilterReady"> <span class="ep-erasefield" ng-click="$ctrl.priceTo = null"></span> <label class="ep-labelfield">до</label></div></div><div class="ep-fl-fiel-item ep-fl-fiel-lineitem" ng-class="{\'ph-item\':!$ctrl.outputFilterReady}" ng-if="$ctrl.searchFilter.pageType == 1"><div class="ep-fl-fiel-item"><angucomplete-alt id="yearFromInput" auto-match="true" placeholder="Год от" pause="100" selected-object="$ctrl.selectedYearFrom" local-data="$ctrl.filterValues.years" title-field="label" search-fields="label,aliases" dropdown-on-focus="true" read-only-input="true" minlength="0" disable-input="!$ctrl.outputFilterReady" input-class="ep-selectfield ep-inputfield ep-inputfield--m"></div><div class="ep-fl-fiel-item"><angucomplete-alt id="yearToInput" auto-match="true" placeholder="до" pause="100" selected-object="$ctrl.selectedYearTo" local-data="$ctrl.filterValues.years" title-field="label" search-fields="label,aliases" dropdown-on-focus="true" read-only-input="true" minlength="0" disable-input="!$ctrl.outputFilterReady" input-class="ep-selectfield ep-inputfield ep-inputfield--m"></div></div><div class="ep-fl-fiel-item ep-fl-fiel-lineitem" ng-class="{\'ph-item\':!$ctrl.outputFilterReady}" ng-if="$ctrl.searchFilter.pageType == 1"><div class="ep-fl-fiel-item"><input type="text" class="ep-inputfield ep-inputfield--m" number-input="$ctrl.searchFilter.kilometersTravelledFrom" inputmode="numeric" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 1000, \'blur\': 0 }}" ng-disabled="!$ctrl.outputFilterReady"> <span class="ep-erasefield" ng-click="$ctrl.searchFilter.kilometersTravelledFrom = null"></span> <label class="ep-labelfield">Пробег от, км</label></div><div class="ep-fl-fiel-item"><input type="text" class="ep-inputfield ep-inputfield--m" number-input="$ctrl.searchFilter.kilometersTravelledTo" inputmode="numeric" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 1000, \'blur\': 0 }}" ng-disabled="!$ctrl.outputFilterReady"> <span class="ep-erasefield" ng-click="$ctrl.searchFilter.kilometersTravelledTo = null"></span> <label class="ep-labelfield">до</label></div></div><div class="ep-fl-fiel-item" ng-class="{\'ph-item\':!$ctrl.outputFilterReady}" ng-show="$ctrl.searchFilter.vehicleSuperTypes[0] !== 13"><angucomplete-alt id="engineTypeInput" auto-match="true" placeholder="Двигатель" pause="100" selected-object="$ctrl.selectedEngineType" local-data="$ctrl.filterValues.engineTypes" title-field="label" search-fields="label,aliases" dropdown-on-focus="true" read-only-input="true" minlength="0" disable-input="!$ctrl.outputFilterReady" input-class="ep-selectfield ep-inputfield ep-inputfield--m"></div><div class="ep-fl-fiel-item" ng-class="{\'ph-item\':!$ctrl.outputFilterReady}" ng-if="$ctrl.searchFilter.vehicleSuperTypes[0] === 8 || $ctrl.searchFilter.vehicleCategories[0] === 6"><angucomplete-alt id="drivesInput" auto-match="true" placeholder="Привод" pause="100" selected-object="$ctrl.selectedDrive" local-data="$ctrl.filterValues.drivers" title-field="label" search-fields="label,aliases" dropdown-on-focus="true" read-only-input="true" minlength="0" disable-input="!$ctrl.outputFilterReady" input-class="ep-selectfield ep-inputfield ep-inputfield--m"></div><div class="ep-fl-fiel-item ep-fl-fiel-lineitem" ng-class="{\'ph-item\':!$ctrl.outputFilterReady}" ng-if="$ctrl.searchFilter.vehicleSuperTypes[0] !== 13"><div class="ep-fl-fiel-item"><angucomplete-alt id="engineVolumesFromInput" auto-match="true" placeholder="Объём от, л" pause="100" selected-object="$ctrl.selectedEngineVolumeFrom" local-data="$ctrl.filterValues.engineVolumes" title-field="label" search-fields="label,aliases" dropdown-on-focus="true" read-only-input="true" minlength="0" disable-input="!$ctrl.outputFilterReady" input-class="ep-selectfield ep-inputfield ep-inputfield--m"><span class="ep-erasefield" ng-click="$ctrl.searchFilter.engineVolumesFrom = null"></span></div><div class="ep-fl-fiel-item"><angucomplete-alt id="engineVolumesToInput" auto-match="true" placeholder="до" pause="100" selected-object="$ctrl.selectedEngineVolumeTo" local-data="$ctrl.filterValues.engineVolumes" title-field="label" search-fields="label,aliases" dropdown-on-focus="true" read-only-input="true" minlength="0" disable-input="!$ctrl.outputFilterReady" input-class="ep-selectfield ep-inputfield ep-inputfield--m"><span class="ep-erasefield" ng-click="$ctrl.searchFilter.engineVolumesTo = null"></span></div></div><div class="ep-fl-fiel-item" ng-class="{\'ph-item\':!$ctrl.outputFilterReady}" ng-if="$ctrl.searchFilter.vehicleSuperTypes[0] !== 13"><angucomplete-alt id="engineHpsInput" auto-match="true" placeholder="Мощность, л.с." pause="100" selected-object="$ctrl.selectedEngineHp" local-data="$ctrl.engineHps" title-field="label" search-fields="label,aliases" dropdown-on-focus="true" read-only-input="true" minlength="0" disable-input="!$ctrl.outputFilterReady" input-class="ep-selectfield ep-inputfield ep-inputfield--m"></div><div class="ep-fl-fiel-item" ng-if="$ctrl.showMobileFilter && $ctrl.searchFilter.pageType == 1"><input id="SearchFilter_EpStock" class="ep-checkbox ep-checkbox--l" type="checkbox" ng-model="$ctrl.searchFilter.inEpStock"> <label for="SearchFilter_EpStock" class="ep-label">Предложение Европлана</label></div><div class="ep-fl-fiel-item" style="text-align:center" ng-if="$ctrl.showMobileFilter"><button type="button" class="ep-fl-btnclear" ng-click="$ctrl.resetFilter(null,true)">Очистить все</button></div></div><section class="ep-fl-parbox"><a class="ep-btn ep-btn__normal ep-btn--l" ng-click="$ctrl.showMobileFilter = true"><img src="./img/new-filter/filter.svg">Фильтр</a></section><section class="ep-fl-tagbox"><div class="ep-fl-tagwrap"><div class="ep-fl-tags"><div class="ep-fl-tag" ng-if="$ctrl.selectedBrand">{{$ctrl.selectedBrand.originalObject.label}}&nbsp; <button type="button"><img class="ep-fl-tag-pic" src="/img/new-filter/cancel.svg" ng-click="$ctrl.resetFilter([\'brandsInput\'])"></button></div><div class="ep-fl-tag" ng-if="$ctrl.selectedModel">{{$ctrl.selectedModel.originalObject.label}}&nbsp; <button type="button"><img class="ep-fl-tag-pic" src="/img/new-filter/cancel.svg" ng-click="$ctrl.resetFilter([\'modelsInput\'])"></button></div><div class="ep-fl-tag" ng-if="$ctrl.selectedVehicleKind">{{$ctrl.selectedVehicleKind.originalObject.label}}&nbsp; <button type="button"><img class="ep-fl-tag-pic" src="/img/new-filter/cancel.svg" ng-click="$ctrl.resetFilter([\'vehicleKindsInput\'])"></button></div><div class="ep-fl-tag" ng-if="$ctrl.selectedBodyType">{{$ctrl.selectedBodyType.originalObject.label}}&nbsp; <button type="button"><img class="ep-fl-tag-pic" src="/img/new-filter/cancel.svg" ng-click="$ctrl.resetFilter([\'bodyTypesInput\'])"></button></div><div class="ep-fl-tag" ng-if="$ctrl.selectedDrive">{{$ctrl.selectedDrive.title}}&nbsp; <button type="button"><img class="ep-fl-tag-pic" src="/img/new-filter/cancel.svg" ng-click="$ctrl.resetFilter([\'drivesInput\'])"></button></div><div class="ep-fl-tag" ng-if="$ctrl.selectedGearbox">{{$ctrl.selectedGearbox.title}}&nbsp; <button type="button"><img class="ep-fl-tag-pic" src="/img/new-filter/cancel.svg" ng-click="$ctrl.resetFilter([\'gearboxInput\'])"></button></div><div class="ep-fl-tag" ng-if="$ctrl.selectedEngineType">{{$ctrl.selectedEngineType.title}}&nbsp; <button type="button"><img class="ep-fl-tag-pic" src="/img/new-filter/cancel.svg" ng-click="$ctrl.resetFilter([\'engineTypeInput\'])"></button></div><div class="ep-fl-tag" ng-if="$ctrl.selectedEngineHp">{{$ctrl.selectedEngineHp.title}}&nbsp;л.с.&nbsp; <button type="button"><img class="ep-fl-tag-pic" src="/img/new-filter/cancel.svg" ng-click="$ctrl.resetFilter([\'selectedEngineHp\'])"></button></div><div class="ep-fl-tag" ng-if="$ctrl.selectedYearFrom || $ctrl.selectedYearTo">{{$ctrl.selectedYearFrom.title}}&nbsp;-&nbsp;{{$ctrl.selectedYearTo.title}} <button type="button"><img class="ep-fl-tag-pic" src="/img/new-filter/cancel.svg" ng-click="$ctrl.resetFilter([\'yearFromInput\',\'yearToInput\'])"></button></div></div></div></section><div class="ep-fl-fieldbtn" ng-class="{\'ep-fl-fieldbtn_active\':$ctrl.outputFilterReady}"><div class="ep-app-pole" ng-if="$ctrl.searchFilter.pageType == 1"><input id="SearchFilter_EpStock" class="ep-checkbox ep-checkbox--l" type="checkbox" ng-model="$ctrl.searchFilter.inEpStock"> <label for="SearchFilter_EpStock" class="ep-label">Предложение Европлана</label></div><button type="button" class="ep-fl-btnclear" ng-click="$ctrl.resetFilter(null,true)">Очистить все</button> <button type="button" class="ep-fl-btnall" ng-click="$ctrl.showDesctopFilter = !$ctrl.showDesctopFilter" ng-class="{\'active\': $ctrl.showDesctopFilter}" ng-if="$ctrl.searchFilter.vehicleSuperTypes[0] === 8 || $ctrl.searchFilter.vehicleCategories[0] === 6 || $ctrl.searchFilter.vehicleCategories[0] === 5 && $ctrl.searchFilter.pageType == 1"></button></div></div><footer class="ep-fl-footer" ng-if="$ctrl.showMobileFilter"><button type="button" class="ep-btn ep-btn__main ep-btn--m" ng-click="$ctrl.applyFilter()" ng-if="$ctrl.filterValues.countVehicle">Показать<span class="ep-fl-num" ng-bind="$ctrl.selectedModel && $ctrl.searchFilter.pageType == 0 ? 1 : $ctrl.filterValues.countVehicle"></span></button> <button type="button" class="ep-btn ep-btn__nolike ep-btn--m" ng-if="!$ctrl.filterValues.countVehicle" ng-bind="$ctrl.filterValues.tooltipLabel" ng-click="$ctrl.resetFilter(null,true)"></button></footer></div></section><section class="ep-fl-sortbox"><div class="ep-fl-sort-head">Сортировать:</div><div class="ep-fl-sortwrap"><div class="ep-fl-sort"><button class="ep-fl-sort-item btn" ng-class="{\'active\':$ctrl.searchFilter.sort==0,\'ep-fl-sort-up\':$ctrl.searchFilter.sort==0 && $ctrl.searchFilter.order, \'ep-fl-sort-down\': $ctrl.searchFilter.sort==0 && !$ctrl.searchFilter.order}" ng-click="$ctrl.searchFilter.sort=0; $ctrl.searchFilter.order = !$ctrl.searchFilter.order;">по цене</button> <button class="ep-fl-sort-item btn" ng-if="$ctrl.searchFilter.pageType == 1" ng-class="{\'active\':$ctrl.searchFilter.sort==2,\'ep-fl-sort-up\':$ctrl.searchFilter.sort==2 && $ctrl.searchFilter.order, \'ep-fl-sort-down\': $ctrl.searchFilter.sort==2 && !$ctrl.searchFilter.order}" ng-click="$ctrl.searchFilter.sort=2; $ctrl.searchFilter.order = !$ctrl.searchFilter.order;">по пробегу</button> <button class="ep-fl-sort-item btn" ng-if="$ctrl.searchFilter.pageType == 1" ng-class="{\'active\':$ctrl.searchFilter.sort==6,\'ep-fl-sort-up\':$ctrl.searchFilter.sort==6 && $ctrl.searchFilter.order, \'ep-fl-sort-down\': $ctrl.searchFilter.sort==6 && !$ctrl.searchFilter.order}" ng-click="$ctrl.searchFilter.sort=6; $ctrl.searchFilter.order = !$ctrl.searchFilter.order;">дата публикации</button> <button class="ep-fl-sort-item btn" ng-class="{\'active\':$ctrl.searchFilter.sort==5,\'ep-fl-sort-up\':$ctrl.searchFilter.sort==5 && $ctrl.searchFilter.order, \'ep-fl-sort-down\': $ctrl.searchFilter.sort==5 && !$ctrl.searchFilter.order}" ng-click="$ctrl.searchFilter.sort=5; $ctrl.searchFilter.order = !$ctrl.searchFilter.order;">по популярности</button> <button class="ep-fl-sort-item btn" ng-if="$ctrl.searchFilter.pageType == 1" ng-class="{\'active\':$ctrl.searchFilter.sort==1,\'ep-fl-sort-up\':$ctrl.searchFilter.sort==1 && $ctrl.searchFilter.order, \'ep-fl-sort-down\': $ctrl.searchFilter.sort==1 && !$ctrl.searchFilter.order}" ng-click="$ctrl.searchFilter.sort=1; $ctrl.searchFilter.order = !$ctrl.searchFilter.order;">по году выпуска</button></div></div></section>'),e.put("/components/share-button/share-button.html",'<button class="ep-btn ep-btn__normal ep-btn--s" ng-click="$ctrl.share()"><img class="lazy" data-src="/img/icon-share.svg" alt="">&nbsp;<ng-transclude></ng-transclude></button><div id="share-form{{$ctrl.inputId}}" class="ep-overlay"><div class="ep-popup ep-popup-call"><a class="ep-popup__close" history-back ng-click="$ctrl.parentPopupStyleRemove()">×</a><div class="ep-popup__head"><ng-transclude></ng-transclude></div><div style="display:flex"><a href="https://api.whatsapp.com/send?text={{$ctrl.shareData.url}}" ng-click="$ctrl.trackEvent(\'WhatsApp\')" data-action="share/whatsapp/share" class="ep-tilesflex__footlinks-link"><img class="ep-tilesflex__footlinks-pic lazy" data-src="/img/contacts/s-icon1.svg"> </a><a href="https://t.me/share/url?url={{$ctrl.shareData.url}}&text={{$ctrl.shareData.title}}" ng-click="$ctrl.trackEvent(\'Telegram\')" class="ep-tilesflex__footlinks-link"><img class="ep-tilesflex__footlinks-pic lazy" data-src="/img/contacts/s-icon2.svg"> </a><a href="https://vk.com/share.php?url={{$ctrl.shareData.url}}&title={{$ctrl.shareData.title}}" ng-click="$ctrl.trackEvent(\'VK\')" class="ep-tilesflex__footlinks-link"><img class="ep-tilesflex__footlinks-pic lazy" data-src="/img/contacts/s-icon5.svg"></a></div></div></div>'),e.put("/components/similar-cars/similar-cars.html",'<grid-vehicles input-models="$ctrl.modelGroups" add-models="$ctrl.addModelGroups" hide-pagination="$ctrl.hidePagination" on-add-cards="$ctrl.addCards()"></grid-vehicles>'),e.put("/components/surveys/surveys.html",'<div id="searchType" class="ep-modsuboverlay"><div class="ep-modsub"><div class="ep-modsub-close" ng-click="$ctrl.close(\'searchType\')"><img src="/img/modsub/or-0.svg" alt=""></div><div class="ep-modsub-pole"><div class="ep-modsub-cont"><div class="ep-modsub-title">Ответьте, пожалуйста: при обращении в лизинговую компанию вы:</div><div class="ep-modsub-radiobox" ng-if="!$ctrl.searchType"><div class="ep-modsub-rel"><input id="forCars" class="ep-radio ep-radio--m" type="radio" ng-model="$ctrl.searchType" value="Ищете автомобиль конкретной марки и модели"> <label for="forCars" class="ep-label">Ищете автомобиль конкретной марки и модели</label></div><div class="ep-modsub-rel"><input id="forBusiness" class="ep-radio ep-radio--m" type="radio" ng-model="$ctrl.searchType" value="Готовы рассмотреть разные автомобили, но под определенные цели"> <label for="forBusiness" class="ep-label">Готовы рассмотреть разные автомобили, но под определенные цели</label></div></div><div class="ep-modsub-notebox" ng-if="$ctrl.searchType">Спасибо за ваш ответ.</div></div></div></div></div><div id="financialOrOperating" class="ep-modsuboverlay"><div class="ep-modsub"><div class="ep-modsub-close" ng-click="$ctrl.close(\'financialOrOperating\')"><img src="/img/modsub/or-0.svg" alt=""></div><div class="ep-modsub-pole"><div class="ep-modsub-cont"><div class="ep-modsub-title">Ответьте, пожалуйста: вы знаете разницу между финансовым и операционным лизингом?</div><div class="ep-modsub-bnrbox" ng-if="$ctrl.financialOrOperating === undefined"><div class="ep-modsub-rel"><button class="ep-btn ep-btn__normal ep-btn--m" ng-click="$ctrl.financialOrOperating = false">Нет</button></div><div class="ep-modsub-rel"><button class="ep-btn ep-btn__normal ep-btn--m" ng-click="$ctrl.financialOrOperating = true">Да</button></div></div><div class="ep-modsub-notebox" ng-if="$ctrl.financialOrOperating !== undefined">Спасибо за ваш ответ.</div></div></div></div></div><div id="newMenu" class="ep-modsuboverlay"><div class="ep-modsub"><div class="ep-modsub-close" ng-click="$ctrl.close(\'newMenu\')"><img src="/img/modsub/or-0.svg" alt=""></div><div class="ep-modsub-pole"><div class="ep-modsub-cont"><div class="ep-modsub-title">Ответьте, пожалуйста: Вы нашли в меню то, что искали?</div><div class="ep-modsub-radiobox" ng-if="!$ctrl.newMenuSent"><div class="ep-modsub-rel"><input id="newMenuYes" class="ep-radio ep-radio--m" type="radio" ng-model="$ctrl.newMenu" value="Да"> <label for="newMenuYes" class="ep-label">Да</label></div><div class="ep-modsub-rel"><input id="newMenuNo" class="ep-radio ep-radio--m" type="radio" ng-model="$ctrl.newMenu" value="Нет, мне нужно другое:"> <label for="newMenuNo" class="ep-label">Нет, мне нужно другое:</label></div><div class="ep-modsub-rel"><textarea class="ep-inputfield" placeholder="Напишите вариант ответа" ng-model="$ctrl.newMenuCustom" ng-disabled="$ctrl.newMenu != \'Нет, мне нужно другое:\'" style="min-height:auto;padding-top:16px"></textarea></div><button type="button" class="ep-btn ep-btn__normal ep-btn--s" ng-click="$ctrl.submitNewMenu()">Отправить</button></div><div class="ep-modsub-notebox" ng-if="$ctrl.newMenuSent">Спасибо за ваш ответ.</div></div></div></div></div><div id="oldMenu" class="ep-modsuboverlay"><div class="ep-modsub"><div class="ep-modsub-close" ng-click="$ctrl.close(\'oldMenu\')"><img src="/img/modsub/or-0.svg" alt=""></div><div class="ep-modsub-pole"><div class="ep-modsub-cont"><div class="ep-modsub-title">Ответьте, пожалуйста: Вы нашли в меню то, что искали?</div><div class="ep-modsub-radiobox" ng-if="!$ctrl.oldMenuSent"><div class="ep-modsub-rel"><input id="oldMenuYes" class="ep-radio ep-radio--m" type="radio" ng-model="$ctrl.oldMenu" value="Да"> <label for="oldMenuYes" class="ep-label">Да</label></div><div class="ep-modsub-rel"><input id="oldMenuNo" class="ep-radio ep-radio--m" type="radio" ng-model="$ctrl.oldMenu" value="Нет, мне нужно другое:"> <label for="oldMenuNo" class="ep-label">Нет, мне нужно другое:</label></div><div class="ep-modsub-rel"><textarea class="ep-inputfield" placeholder="Напишите вариант ответа" ng-model="$ctrl.oldMenuCustom" ng-disabled="$ctrl.oldMenu != \'Нет, мне нужно другое:\'" style="min-height:auto;padding-top:16px"></textarea></div><button type="button" class="ep-btn ep-btn__normal ep-btn--s" ng-click="$ctrl.submitOldMenu()">Отправить</button></div><div class="ep-modsub-notebox" ng-if="$ctrl.oldMenuSent">Спасибо за ваш ответ.</div></div></div></div></div>'),e.put("/components/upload-storaged-file/upload-storaged-file.html",'<span><a ng-click="$ctrl.open()" class="{{$ctrl.buttonClass}}" ng-bind="$ctrl.buttonText"></a> <input type="file" style="display:none" multiple="multiple" nv-file-select uploader="$ctrl.uploader"></span>'),e.put("/components/vacancy-app/vacancy-app.html",'<h2 align="center">Мы приглашаем вас в&nbsp;нашу команду!</h2><div class="ep-workinvite-form" ng-form="VacancyForm" ng-show="!$ctrl.isSended() && !$ctrl.isSending()"><div class="ep-workinvite-form__item"><div class="ep-workinvite-form__p">Пол:*</div><div class="ep-workinvite-form__radiobox"><div class="ep-inputbox"><input id="1" class="ep-radio ep-radio--l" type="radio" name="Sex" ng-model="$ctrl.model.isMale" value="true" required> <label for="1" class="ep-label">Мужской</label></div><div class="ep-inputbox"><input id="2" class="ep-radio ep-radio--l" type="radio" name="Sex" ng-model="$ctrl.model.isMale" value="false" required> <label for="2" class="ep-label">Женский</label></div><span validation-message for="Sex" class="ep-errorfield" flow="up"></span></div></div><div class="ep-workinvite-form__flexbox"><div class="ep-workinvite-form__flexbox-item"><div class="ep-workinvite-form__item"><input ng-model="$ctrl.model.firstName" id="FirstName" name="FirstName" required only-cyrillic type="text" maxlength="64" class="ep-inputfield ep-inputfield--l"> <span class="ep-erasefield" ng-click="$ctrl.model.firstName=null"></span> <label class="ep-labelfield">Имя*</label> <span validation-message="" for="FirstName" class="ep-errorfield" flow="up" style="display:none"></span></div><div class="ep-workinvite-form__item"><input ng-model="$ctrl.model.middleName" id="MiddleName" name="MiddleName" only-cyrillic type="text" maxlength="64" class="ep-inputfield ep-inputfield--l"> <span class="ep-erasefield" ng-click="$ctrl.model.middleName=null"></span> <label class="ep-labelfield">Отчество</label> <span validation-message="" for="MiddleName" class="ep-errorfield" flow="up" style="display:none"></span></div><div class="ep-workinvite-form__item"><input ng-model="$ctrl.model.lastName" id="LastName" name="LastName" required only-cyrillic type="text" maxlength="64" class="ep-inputfield ep-inputfield--l"> <span class="ep-erasefield" ng-click="$ctrl.model.lastName=null"></span> <label class="ep-labelfield">Фамилия*</label> <span validation-message="" for="LastName" class="ep-errorfield" flow="up" style="display:none"></span></div><div class="ep-workinvite-form__item"><input ng-model="$ctrl.model.birthDate" id="BirthDate" name="BirthDate" required="" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 1000, \'blur\': 0 }}" type="text" ui-mask-placeholder="99.99.9999" class="ep-inputfield ep-inputfield--l"> <span class="ep-erasefield" ng-click="$ctrl.model.birthDate=null"></span> <label class="ep-labelfield">Дата рождения*</label> <span validation-message="" for="BirthDate" class="ep-errorfield" flow="up"></span></div></div><div class="ep-workinvite-form__flexbox-item"><div class="ep-workinvite-form__item" ng-if="!$ctrl.vacancyName"><angucomplete-alt id="citiesInput" auto-match="true" placeholder="Город*" pause="100" selected-object="$ctrl.selectedCity" remote-url="/career/cities" search-fields="name" title-field="name" minlength="0" field-required="true" input-class="ep-selectfield ep-inputfield ep-inputfield--l"></div><div class="ep-workinvite-form__item"><input ng-model="$ctrl.model.phone" id="Phone" name="Phone" required="" async-phone-number="" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 1000, \'blur\': 0 }}" type="tel" maxlength="60" ui-mask-placeholder="?+7 ( 9 9 9 ) 9 9 9 - 9 9 - 9 9" class="ep-inputfield ep-inputfield--l"> <span class="ep-erasefield" ng-click="$ctrl.model.phone=null"></span> <label class="ep-labelfield">Телефон*</label> <span validation-message="" for="Phone" class="ep-errorfield" flow="up"></span></div><div class="ep-workinvite-form__item"><input ng-model="$ctrl.model.email" id="Email" name="Email" type="email" maxlength="64" class="ep-inputfield ep-inputfield--l" required> <span class="ep-erasefield" ng-click="$ctrl.model.email=null"></span> <label class="ep-labelfield">Email*</label> <span validation-message="" for="Email" class="ep-errorfield" flow="up" style="display:none"></span></div><div class="ep-workinvite-form__item" ng-if="!$ctrl.vacancyCityName"><angucomplete-alt id="citiesInput" auto-match="true" placeholder="Желаемая должность*" pause="100" selected-object="$ctrl.selectedPosition" remote-url="/career/vacanciesapi" search-fields="name" title-field="name" minlength="0" field-required="true" input-class="ep-selectfield ep-inputfield ep-inputfield--l"></div></div></div><div class="ep-workinvite-form__item"><textarea ng-model="$ctrl.model.resume" id="Comment" name="Comment" type="text" maxlength="500" class="ep-inputfield" style="resize:vertical"></textarea> <span class="ep-erasefield" ng-click="$ctrl.model.resume=null"></span> <label class="ep-labelfield">Сопроводительное письмо</label> <span validation-message="" for="Comment" class="ep-errorfield" flow="up" style="display:none"></span></div><div class="ep-workinvite-form__item ep-workinvite-form__file upload_field"><div class="ep-workinvite-form__p">Резюме:*<br>(принимаются файлы Word и Pdf размером не более 10 MB)</div><div style="position:relative"><button type="button" class="ep-btn ep-btn__normal ep-btn--l" ng-bind="!$ctrl.model.attachment ? \'Прикрепить файл\' : $ctrl.model.attachment.filename"></button> <input type="file" ng-model="$ctrl.model.attachment" name="Attachment" ng-change="$ctrl.onFileChange($ctrl.model.attachment)" required="" base-sixty-four-input="" maxsize="10000" class="ep-inputfield"> <span class="ep-errorfield" validation-message="" flow="up" for="Attachment" style="display:none;left:25%" ng-bind="VacancyForm.Attachment.$error.fileType || VacancyForm.Attachment.$error.maxsize ? \'Недопустимый формат или размер файла\' : \'\'"></span></div></div><div class="ep-workinvite-form__item"><input id="AcceptTerms" name="AcceptTerms" class="ep-checkbox ep-checkbox--m" type="checkbox" ng-model="$ctrl.model.acceptTerms" need-accept> <label for="AcceptTerms" class="ep-label"><ep-popup-disclaimer></ep-popup-disclaimer></label> <span validation-message for="AcceptTerms" class="ep-errorfield" flow="up"></span></div><div class="ep-workinvite-form__item"><div class="ep-workinvite-form__flex"><button type="button" class="ep-btn ep-btn__main ep-btn--l" ng-disabled="$ctrl.isSeding()" ng-class="{\'ep-btn__load\':$ctrl.isSeding()}" ng-bind="$ctrl.isSeding() ? \'\' : \'Отправить резюме\'" submit-if-valid-async="$ctrl.submit()"></button></div></div><div class="ep-workinvite-form__item"><p>Поля, отмеченные знаком *, обязательны к заполнению.</p></div></div><div class="ep-workinvite-form" ng-show="$ctrl.isSended() && $ctrl.isSuccessful()"><h3 align="center">Благодарим за обращение в Европлан!</h3></div><style>.upload_field input{opacity:0;position:absolute;top:0;bottom:0;left:0;width:100%;cursor:pointer}</style>'),e.put("/components/video-popup/video-popup.html",'<div ng-switch="$ctrl.preview"><div class="ep-faq-video__item" ng-switch-when="list"><a ng-click="$ctrl.showVideo($ctrl.tag)" class="ep-faq-videolink">{{$ctrl.title}}</a></div><div class="ep-invdownloadfile --video" ng-switch-when="investor"><a ng-click="$ctrl.showVideo($ctrl.tag)">Запись пресс-конференции</a></div><a ng-switch-default ng-click="$ctrl.showVideo($ctrl.tag)" class="ep-videosrow__item"><div class="ep-videobox"><picture class="ph-item" skeleton-loading="picture"><source type="image/webp" data-srcset="/storagedfile/optimizedimage/{{$ctrl.img}}?width=656&height=368&crop=true&format=webp"><img class="lazy" data-src="/storagedfile/optimizedimage/{{$ctrl.img}}?width=656&height=368&crop=true" alt="{{$ctrl.title}}" style="width:100%;aspect-ratio:656/368"></picture></div><div class="ep-videotitle">{{$ctrl.title}}</div><div class="ep-videolink">Посмотреть</div></a></div><div id="{{$ctrl.tag}}" class="ep-overlay"><div class="ep-popup ep-popup-videos"><a class="ep-popup-videoclose" ng-click="$ctrl.closeVideo()"></a><div class="ep-popup-videobox"><div class="video-container" ng-if="$ctrl.videoUrl && $ctrl.isActive"><iframe ng-src="{{$ctrl.videoUrl}}" allow="fullscreen; picture-in-picture; encrypted-media" frameborder="0" scrolling="no" allowfullscreen></iframe></div></div><div class="ep-popup-videodesc"><div ng-bind-html-unsafe="$ctrl.html"></div><ng-transclude></ng-transclude><share-button input-id="$ctrl.tag" input-share-data="$ctrl.shareData">Поделиться этим видео</share-button></div></div></div>'),e.put("/components/email-subscription/simple-subscription/email-subscription.html",'<div ng-form="InvestorSubscription"><div class="ep-invsubs" ng-if="!$ctrl.isSended()"><div class="ep-invsubs__title">Укажите электронную почту,<br>чтобы подписаться на обновления раскрываемой информации</div><div class="ep-invsubsbox"><div class="ep-invsubsitem"><input id="Email" name="Email" type="text" required ng-model="$ctrl.model.email" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 1000, \'blur\': 0 }}" ep-email class="ep-inputfield ep-inputfield--l"> <span validation-message class="ep-errorfield" flow="up" for="Email"></span> <span class="ep-erasefield"></span> <label class="ep-labelfield">Электронная почта</label></div><div class="ep-invsubsitem"><button type="button" class="ep-btn ep-btn__normal ep-btn--l" submit-if-valid="$ctrl.submit()" ng-class="{ disabled: $ctrl.isSending() }" ng-disabled="$ctrl.isSending()">Подписаться</button></div></div><div class="ep-app-pole" style="text-align:center;margin-top:16px"><input id="InvestorSubscription_AcceptTerms" name="InvestorSubscription_AcceptTerms" class="ep-checkbox ep-checkbox--l" type="checkbox" ng-model="$ctrl.model.acceptTerms" required-true> <label for="InvestorSubscription_AcceptTerms" class="ep-label">Оставляя заявку, вы соглашаетесь <span>на <a href="#email-disclaimer" class="ep-popup__note-link">обработку персональных данных</a></span>.</label> <span validation-message for="InvestorSubscription_AcceptTerms"></span></div></div><div class="ep-invsubs" ng-if="$ctrl.isSuccessful()"><div class="ep-invsubs__title">{{ $ctrl.message()}}<br>Спасибо за интерес к Европлану!</div></div><div class="ep-invsubs" ng-if="$ctrl.isSended() && !$ctrl.isSuccessful()"><div class="ep-invsubs__title">Сохранить подписку не удалось.</div></div></div><div id="email-disclaimer" class="ep-overlay ep-overlay-app"><div class="ep-popup ep-popup-newapp"><hgroup class="ep-app-headbox"><div class="ep-app-title">Согласие на обработку персональных данных</div><a class="ep-popup__close" history-back>×</a></hgroup><div class="ep-app-contbox"><div class="ep-article ep-disclaimer"><p>Настоящим Я, действуя своей волей и в своем интересе, предоставляю Публичному акционерному обществу &laquo;Лизинговая компания &laquo;Европлан&raquo;, ОГРН 1177746637584, находящемуся по адресу: 119049, Россия, г. Москва, ул. Коровий Вал, 5, (далее &laquo;Оператор&raquo;), свое согласие на обработку моих персональных данных.</p><ol><li><strong>Цель обработки персональных данных: </strong>направление уведомлений об обновлениях информации, публикуемой на сайте общества в разделе «Инвесторам» <a href="https://europlan.ru/investor">https://europlan.ru/investor</a>.</li><li><strong>Перечень персональных данных, на обработку которых дается согласие:</strong><ul><li>Адрес электронной почты.</li></ul></li><li><strong>Действия с персональными данными: </strong>Сбор, запись, систематизация, накопление, хранение, уточнение (обновление, изменение), извлечение, использование, передача, блокирование, удаление, уничтожение персональных данных.</li><li><strong>Способы обработки персональных данных: </strong>Персональные данные обрабатываются как с использованием средств автоматизации, так и без использования таких средств.</li><li><strong>Срок действия согласия: </strong>до отказа субъекта персональных данных от получения уведомлений.</li><li><strong>Я ознакомлен и даю согласие на передачу моих вышеуказанных персональных данных с вышеуказанной целью </strong>компаниям, входящим в одну группу лиц с ПАО &laquo;ЛК &laquo;Европлан&raquo;.</li><li><strong>Разъяснения прав</strong></li></ol><p>Я ознакомлен, что настоящее согласие может быть отозвано посредством направления соответствующего письменного заявления в адрес Оператора по следующему адресу: 119049, Россия, г. Москва, ул.&nbsp;Коровий Вал, 5. В этом случае Оператор прекращает обработку персональных данных, а персональные данные подлежат уничтожению, если отсутствуют иные правовые основания для обработки, установленные законодательством Российской Федерации.</p><p>Мне известно, что в случае моего отказа в даче согласия это не создаст каких-либо юридических последствий в отношении меня и не затронет мои права и законные интересы иным образом. Мне также понятно, что непредоставление мной персональных данных, или предоставление мной неточных, неполных, неактуальных персональных данных, или неуведомление (несвоевременное уведомление) мной Оператора об изменении персональных данных может привести к невозможности достижения Оператором предусмотренной согласием цели обработки персональных данных.</p></div></div></div></div>')}]);
function _superPropGet(e,t,n,i){var a=_get(_getPrototypeOf(1&i?e.prototype:e),t,n);return 2&i?function(e){return a.apply(n,e)}:a}function _get(){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=_superPropBase(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(null,arguments)}function _superPropBase(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function _callSuper(e,t,n){return t=_getPrototypeOf(t),_possibleConstructorReturn(e,_isNativeReflectConstruct()?Reflect.construct(t,n||[],_getPrototypeOf(e).constructor):t.apply(e,n))}function _possibleConstructorReturn(e,t){if(t&&("object"==_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,_toPropertyKey(i.key),i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}angular.module("dealer.web.app",["ui.mask","cgNotify","angular.filter","logToServer","templateCache","ngCookies","angucomplete-alt","dndLists","rzSlider","smoothScroll","ngDropdowns","ngAnimate"]).config(["$locationProvider","$compileProvider","$httpProvider","$animateProvider",function(e,t,n,i){e.html5Mode({enabled:!0,requireBase:!1,rewriteLinks:!1}),t.aHrefSanitizationTrustedUrlList(/^\s*(https?|s?ftp|mailto|sip|tel|file):/),n.interceptors.push(["$q","$injector",function(i,a){var r=0;return{responseError:function(e){if(-1===e.status){if(r<21)return t=e.config,n=a.get("$timeout"),r+=1,n(function(){return a.get("$http")(t)},3e3)}else r=0;var t,n;return i.reject(e)}}}]),i.classNameFilter(/\bangular-animate\b/)}]);var Consts,Directives,ngApp={main:angular.module("dealer.web.app"),isProd:!1};function historyBack(e){window.location.hash&&("#leasing-form"==window.location.hash&&(e.remove(Consts.Cookies.leasingAsset),e.remove(Consts.Cookies.leasingCalculation)),""==document.referrer||document.referrer.startsWith("https://link.sendsay.ru/")?(window.location.hash="!",window.history.pushState("",document.title,window.location.pathname+window.location.search)):window.history.back())}function trackClickedButton(r,o){r.addEventListener("click",function(e){var t,n,i=r.innerText,a=r.closest("[ng-form]");a&&(n=a.getAttribute("ng-form")),o.submitIfValidAsync||o.submitIfValid?t="Form Send":void 0!==o.initPopup?(t="Form Open",n="callback"==o.initPopup?"CallBack":"Leasing"):o.ngClick&&0<o.ngClick.indexOf("itemClick")?t="Calculator Open":o.href&&(t="Page Open"),analytics.trackEvent("Interactions","Clicked Button","".concat(t?t+" / ":"").concat(n?n+" - ":"").concat(i))})}angular.element(document).ready(function(){for(var e in Controllers)ngApp.main.controller(e,window.Controllers[e]);for(var t in Services)ngApp.main.service(stringHelpers.toLowerCamelCase(t),window.Services[t]);var n=new Date,n=(n.setDate(n.getDate()+1),{expires:n,path:"/"});AngularHelpers.setOrKeepCokie("originalReferrer",document.referrer,n),AngularHelpers.setOrKeepCokie("originalUrl",location.href,n),AngularHelpers.setQueryParamCookie("yclid",location.search),angular.bootstrap(document,["dealer.web.app"])}),function(){var e=_createClass(["$cookies","notifier",function e(t,n){_classCallCheck(this,e),this.$cookies=t,this.notifier=n,"1"!=this.$cookies.get(Consts.Cookies.cookiePolicy)&&(this.notifier.infoCookie(Consts.DisclaimerText.cookie,3e5),this.$cookies.put(Consts.Cookies.cookiePolicy,"1",{path:"/"}))}]);(Components||(Components={})).EpCookieDisclaimer=e}(),ngApp.main.component("epCookieDisclaimer",{controller:Components.EpCookieDisclaimer}),function(e){var t=_createClass(function e(){_classCallCheck(this,e)});t.text='\n<p>Настоящим Я, действуя своей волей и в своем интересе, предоставляю Публичному акционерному обществу «Лизинговая компания «Европлан», ОГРН 1177746637584, находящемуся по адресу: 119049, Россия, г. Москва, ул. Коровий Вал, 5, (далее «Оператор»), свое согласие на обработку моих персональных данных.</p>\n<ol>\n    <li><p><strong>Я даю свое согласие на обработку моих следующих персональных данных:</strong></p>\n        <ul>\n            <li>имя;</li>\n\t\t\t<li>номер телефона.</li>\n        </ul>\n        <p><strong>с целью</strong> обработки заявки, оставленной на сайте <a href="https://europlan.ru/">https://europlan.ru/</a>, и взаимодействия по ней <strong>на срок </strong>до отказа субъекта от обсуждения заявки, оставленной на сайте, или до заключения договора с Оператором на предоставление услуги.</p>\n        <ul>\n            <li>фамилия, имя, отчество;</li>\n            <li>номер телефона;</li>\n            <li>адрес электронной почты;</li>\n            <li>место работы и должность.</li>\n        </ul>\n        <p><strong>с целью</strong> предоставления Оператором информации, в том числе рекламной, об оказываемых Оператором услугах <strong>на срок </strong>до направления субъектом отказа в получении рекламной и иной информации об оказываемых Оператором услугах.</p>\n    </li>\n    \n    <li><strong> Действия с персональными данными: </strong>Сбор, запись, систематизация, накопление, хранение, уточнение (обновление, изменение), извлечение, использование, передача, блокирование, удаление, уничтожение персональных данных.</li>\n    <li><strong> Способы обработки персональных данных: </strong>Персональные данные обрабатываются как с использованием средств автоматизации, так и без использования таких средств.</li>\n    <li><strong> Я ознакомлен и даю согласие на передачу моих вышеуказанных персональных данных в вышеуказанных целях </strong>компаниям, входящим в одну группу лиц с ПАО &laquo;ЛК &laquo;Европлан&raquo;, партнерам ПАО &laquo;ЛК &laquo;Европлан&raquo;.</li>\n    <li><strong> Разъяснения прав</strong></li>\n</ol>\n<p>Я ознакомлен, что настоящее согласие может быть отозвано посредством направления соответствующего письменного заявления в адрес Оператора по следующему адресу: 119049, Россия, г. Москва, ул.&nbsp;Коровий Вал, 5. В этом случае Оператор прекращает обработку персональных данных, а персональные данные подлежат уничтожению, если отсутствуют иные правовые основания для обработки, установленные законодательством Российской Федерации.</p>\n<p>Мне известно, что в случае моего отказа в даче согласия это не создаст каких-либо юридических последствий в отношении меня и не затронет мои права и законные интересы иным образом. Мне также понятно, что непредоставление мной персональных данных, или предоставление мной неточных, неполных, неактуальных персональных данных, или неуведомление (несвоевременное уведомление) мной Оператора об изменении персональных данных может привести к невозможности достижения Оператором предусмотренной согласием цели обработки персональных данных.</p>\n<p>Я (Клиент), действуя своей волей и в своем интересе, подтверждаю согласие на получение от:</p>\n<ul>\n<li>Публичного акционерного общества &laquo;Лизинговая компания &laquo;Европлан&raquo; с местом нахождения: Российская Федерация, 119049, г. Москва, ул. Коровий Вал, дом 5, ОГРН&nbsp;1177746637584 (далее &ndash; &laquo;ЛК Европлан&raquo;);</li>\n<li>Обществу с ограниченной ответственностью &laquo;Автолизинг&raquo; Российская Федерация, 119049, г. Москва, ул. Коровий Вал, дом 5, этаж 4, ОГРН 1027739053583 (далее &ndash; &laquo;Автолизинг&raquo;);</li>\n<li>Обществу с ограниченной ответственностью &laquo;Европлан Сервис&raquo;, Российская Федерация, 119049, г. Москва, ул. Коровий Вал, дом 5, ОГРН 1067761337082 (далее &ndash; &laquo;Европлан Сервис&raquo;);</li>\n</ul>\n<p>сообщений, в том числе сообщений рекламного характера, посредством использования любых средств связи, в том числе телефонной, факсимильной и подвижной радиотелефонной связи (далее &ndash; &laquo;Рассылка&raquo;).</p>\n<p>Согласие на получение Рассылки действует в течение неопределенного периода времени и может быть отозвано посредством направления соответствующего письменного заявления в адрес ЛК Европлан, Автолизинг, Европлан Сервис по адресам места нахождения, указанным в настоящем согласии на получении Рассылки или посредством нажатия &laquo;отписаться&raquo; в тексте рекламной рассылки.</p>\n<p>Адреса электронной почты и номера телефонов, по которым будет осуществляться Рассылка предоставляются ЛК Европлан, Автолизинг, Европлан Сервис Клиентом. При изменении предоставленных ЛК Европлан, Автолизинг, Европлан Сервис адресов электронной почты и / или номеров телефонов, по которым осуществляется Рассылка, я обязуюсь незамедлительно проинформировать об этом ЛК Европлан, Автолизинг, Европлан Сервис в письменной форме. До получения ЛК Европлан, Автолизинг, Европлан Сервис указанного уведомления об изменении адресов электронной почты и / или номеров телефонов Рассылка осуществляется по адресам электронной почты и номерам телефонов, предоставленным ранее Клиентом ЛК Европлан, Автолизинг, Европлан Сервис, а риск связанных с этим последствий несет Клиент.</p>\n<p>18.06.2024</p>\n',t.cookie='Мы&nbsp;используем cookie и&nbsp;электронные данные для улучшения работы сайта, персонализации. Оставаясь на&nbsp;сайте, вы&nbsp;соглашаетесь с&nbsp;<a href="/storagedfile/show/static/personal-information" target="_blank">условиями</a> обработки cookie и&nbsp;электронных данных. Запретить обработку cookies можно в&nbsp;настройках вашего браузера.',e.DisclaimerText=t}(Consts=Consts||{}),function(){var e=_createClass(["$element","$rootScope","$scope",function e(t,n,i){var a,r=this;_classCallCheck(this,e),this.text=Consts.DisclaimerText.text,this.pattern=/<ul>(.|\n)*?<\/ul>/,i.$on("DisclaimerText_FormFields_Update",function(e,t){r.text=t,i.$apply()}),null!=(a=t[0].querySelector(".ep-popup__note-link"))&&a.addEventListener("click",function(){var e=t[0].closest("[ng-form]");switch(e&&(r.formName=e.getAttribute("ng-form")),r.formName){case"VykupShortApp":case"FaqSupport":case"AppEmailController":case"FuelCard":case"SurveyForm":n.$broadcast("DisclaimerText_FormFields_Update",Consts.DisclaimerText.text.replace(r.pattern,"\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>имя;</li>\n\t\t\t\t\t\t\t<li>номер телефона;</li>\n\t\t\t\t\t\t\t<li>адрес электронной почты.</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t"));break;case"IndividualsShortApp":case"Subscription":n.$broadcast("DisclaimerText_FormFields_Update",Consts.DisclaimerText.text.replace(r.pattern,"\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>ФИО;</li>\n\t\t\t\t\t\t\t<li>номер телефона;</li>\n\t\t\t\t\t\t\t<li>сведения об официальном доходе;</li>\n\t\t\t\t\t\t\t<li>дата рождения;</li>\n\t\t\t\t\t\t\t<li>сведения о наличии официального трудоустройстве, стаже работы;</li>\n\t\t\t\t\t\t\t<li>сведения об отсутствии кредитной задолженности, процедуры банкротства и исполнительных производств.</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t"));break;case"VacancyForm":n.$broadcast("DisclaimerText_FormFields_Update",Consts.DisclaimerText.text.replace(r.pattern,"\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>ФИО;</li>\n\t\t\t\t\t\t\t<li>номер телефона;</li>\n\t\t\t\t\t\t\t<li>адрес электронной почты;</li>\n\t\t\t\t\t\t\t<li>дата рождения.</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t"));break;default:n.$broadcast("DisclaimerText_FormFields_Update",Consts.DisclaimerText.text)}analytics.trackEvent("Interactions","Clicked Link","".concat(r.formName?r.formName+" / ":"","Disclaimer"))})}]);(Components||(Components={})).EpPopupDisclaimer=e}(),ngApp.main.component("epPopupDisclaimer",{template:'\n<p>Оставляя заявку, вы соглашаетесь <span>на <a href="#disclaimer" class="ep-popup__note-link">обработку персональных данных</a></span>.</p>\n\t',controller:Components.EpPopupDisclaimer}),function(e){var t=_createClass(function e(){_classCallCheck(this,e)});t.leasingForm={open:"/leasing-form-open",send:"/leasing-form-send",decline:"/leasing-form-decline"},t.emailForm={send:"/email-app-filled",decline:"/email-app-rejected"},t.serviceForm={send:"/service-app-filled",decline:"/service-app-rejected"},t.individualsForm={send:"/individuals-form-send",decline:"/individuals-form-decline"},t.futurePurchase={send:"/futurePurchese-app-filled",decline:"/futurePurchese-app-rejected"},t.emailSubscription={send:"/email-subscription-filled",decline:"/email-subscription-rejected"},t.vacancyApp={send:"/vacancy-app-filled",decline:"/vacancy-app-rejected"},t.qrContactsForm={send:"/qr-contacts-app-filled",decline:"/qr-contacts-rejected"},t.afterMeetingSurvey={send:"/after-meting-survey-filled",decline:"/after-meting-survey-rejected"},t.insuranceForm={open:"/insurance-form-open",send:"/insurance-form-send",decline:"/insurance-form-decline"},t.deferredForm={open:"/deferred-form-open",send:"/deferred-form-send",decline:"/deferred-form-decline"},t.surveyForm={send:"/survey-filled",decline:"/survey-rejected"},t.vykupForm={open:"/vykup-form-open",send:"/vykup-form-send",decline:"/vykup-form-decline"},t.consultingForm={open:"/consulting-form-open",send:"/consulting-form-send",decline:"/consulting-form-decline"},t.orgFormClarificationForm={open:"/org-form-clarification-form-open",send:"/org-form-clarification-form-send",decline:"/org-form-clarification-form-decline"},t.fuelCardForm={send:"/fuel-card-app-filled",decline:"/fuel-card-app-rejected"},e.AnalyticTracks=t}(Consts=Consts||{}),function(e){var t=_createClass(function e(){_classCallCheck(this,e)});t.LeasingLongRegular="LeasingLongRegular",t.LeasingShortRegular="LeasingShortRegular",t.Insurance="Insurance",t.AgentLongRegular="AgentLongRegular",t.ServiceShortRegular="ServiceShortRegular",t.LeasingShortBrand="LeasingShortBrand",t.LeasingShortSubscription="LeasingShortSubscription",t.leasingShortLeadgen="leasingShortLeadgen",t.leasingSalesConsultations="leasingSalesConsultations",t.leasingClientSupport="leasingClientSupport",e.ApplicationKind=t}(Enums=Enums||{}),function(e){var t=_createClass(function e(){_classCallCheck(this,e)});t.ApplicationSuccess="ApplicationSuccess",t.ApplicationDeclined="ApplicationDeclined",t.ApplicationError="ApplicationError",e.AppRequestEventNames=t}(Enums=Enums||{}),function(e){(e=e.AppSubmitResultType||(e.AppSubmitResultType={}))[e.Default=0]="Default",e[e.DeferredApplication=1]="DeferredApplication",e[e.OrgFormClarification=2]="OrgFormClarification",e[e.CtaTypePerson=3]="CtaTypePerson"}(Enums=Enums||{}),function(e){(e=e.AppSubmitStatusEnum||(e.AppSubmitStatusEnum={}))[e.Success=0]="Success",e[e.Decline=1]="Decline",e[e.Fatal=2]="Fatal",e[e.Validation=3]="Validation",e[e.NotSended=4]="NotSended"}(Enums=Enums||{}),function(e){var t=_createClass(function e(){_classCallCheck(this,e)});t.leasingAsset="_ep.leasing-asset",t.leasingCalculation="_ep.leasing-calculation",t.cookiePolicy="_ep.cookie-policy",t.closedHellobar="_ep.hellobar-",e.Cookies=t}(Consts=Consts||{}),function(e){(e=e.CtaTypes||(e.CtaTypes={}))[e.LegalEntity=1]="LegalEntity",e[e.Person=2]="Person",e[e.Entrepreneur=3]="Entrepreneur"}(Enums=Enums||{}),function(e){(e=e.LeasingProgramState||(e.LeasingProgramState={}))[e.Default=0]="Default",e[e.Selected=1]="Selected",e[e.Disabled=2]="Disabled"}(Enums=Enums||{}),function(e){(e=e.LeasingProgramType||(e.LeasingProgramType={}))[e.LegalEntity=1]="LegalEntity",e[e.Person=2]="Person",e[e.Employee=3]="Employee"}(Enums=Enums||{}),function(e){(e=e.SiteErrorEnum||(e.SiteErrorEnum={}))[e.LeasingInvalidRegion=22]="LeasingInvalidRegion",e[e.Declined=11]="Declined",e[e.Validation=1]="Validation",e[e.SmsSendFailed=2]="SmsSendFailed",e[e.SmsMaxCountExceeded=3]="SmsMaxCountExceeded",e[e.SmsCodeInvalid=4]="SmsCodeInvalid",e[e.SmsCodeValidationFailed=5]="SmsCodeValidationFailed",e[e.ContactsRequestFailed=10]="ContactsRequestFailed",e[e.Exception=12]="Exception",e[e.SmsCodeExpired=14]="SmsCodeExpired"}(Enums=Enums||{}),function(e){(e=e.SmsCheckStatusEnum||(e.SmsCheckStatusEnum={}))[e.Success=0]="Success",e[e.Invalid=1]="Invalid",e[e.ServerError=2]="ServerError",e[e.Error=3]="Error",e[e.Expired=4]="Expired"}(Enums=Enums||{}),function(e){(e=e.SmsSendStatusEnum||(e.SmsSendStatusEnum={}))[e.Success=0]="Success",e[e.MaxCountExceeded=1]="MaxCountExceeded",e[e.ServerError=2]="ServerError",e[e.Error=3]="Error",e[e.SpamProtection=4]="SpamProtection"}(Enums=Enums||{}),function(e){var t;(t=e.SpecialOfferType||(e.SpecialOfferType={}))[t.Leasing=0]="Leasing",t[t.Individual=2]="Individual",(t=e.SpecialOfferCarType||(e.SpecialOfferCarType={}))[t.Passenger=0]="Passenger",t[t.Truck=1]="Truck",t[t.SpecialVehicle=2]="SpecialVehicle"}(Enums=Enums||{}),function(e){var t=_createClass(function e(){_classCallCheck(this,e)});t.price="Цена на автомобили определяется автопроизводителями и/или дилерскими центрами самостоятельно и предоставляется Европлану для заключения договора лизинга, информацию о точной стоимости уточняйте у менеджера Европлана",t.payment="Сумма платежа является примерной, точная рассчитывается при формировании коммерческого предложения менеджером Европлана",t.minPayment="Уникальные условия! Срок лизинга 7 лет, аванс 49%",t.creditedVAT="Возврат НДС со всей суммы договора лизинга",t.taxSavings="Лизинговые платежи учитываются в составе расходов, уменьшая налог на прибыль",t.agreementAmount="Сумма всех лизинговых платежей, аванса и выкупной стоимости",e.Tooltips=t}(Consts=Consts||{}),function(e){var t=_createClass(function e(){_classCallCheck(this,e)});t.apps={leasingShort:"/api/application/leasingshort",feedbackInvestor:"/api/application/feedbackInvestor",email:"/api/application/email",serviceShort:"/api/service-application/serviceshort",forIndividuals:"/api/application/forindividuals",futurePurchase:"/api/application/futurepurchase",vacancy:"/career/vacancies/app",qrContacts:"/qrcontacts/app",insurance:"/api/service-application/insurance",deferredShort:"/api/application/deferredshort",vykup:"/api/service-application/vykup",orgFormClarification:"/api/application/orgformclarification",fuelCard:"/api/service-application/fuelcard"},t.api={data:{regions:"/api/data/regions",cities:function(e){return"/api/data/cities".concat(e?"?name="+e:"")},regionofcity:"/api/data/regionofcity",lflregioncodes:"/api/data/lflregioncodes",yandexDirect:function(e){return"/api/data/direct?adId="+e},getCurrentOffice:function(e,t){return"/api/office/current-office/".concat(e,"/").concat(t)},epCities:"/api/office/cities",deferredAppDates:"/api/data/deferred-app-dates",serviceStations:"/api/data/service-stations",video:function(e){return"/api/data/video?id=".concat(e)},vehicleKindCars:function(e,t,n){return"/api/promo/vehicle-kind-cars?mvk=".concat(e).concat(t?"&modelId="+t:"").concat(n?"&isUsed=true":"")},offices:"/api/office/offices",officesYmaps:"/api/office/offices/ymaps",promoSpecialOffers:function(e,t){return"/api/promo/special-offers".concat(e?"?vehicletype="+e:"").concat(t?"&brandid="+t:"")},promoModelSpecialOffers:function(e,t,n){return"/api/promo/model-special-offers".concat(e?"?vehicletype="+e:"").concat(t?"&brandid="+t:"").concat(n?"&modelid="+n:"")},promoVideos:function(e){return"/api/promo/videos".concat(e?"?vehicletype="+e:"")},reviews:function(e){return"/api/data/reviews?regionId="+e},employees:"/api/data/resp",leasingPrograms:"/api/data/leasing-programs",similarVehicles:function(e,t,n){return"/api/promo/similar-vehicles?id=".concat(e,"&iscar=").concat(t).concat(n?"&price="+n:"")},groupVehicleKinds:function(e){return"/api/data/grouped-vehicle-kinds?latin=".concat(e)},hellobar:function(e){return"/api/data/hellobar?url="+e}},sms:{send:"/api/sms/send",check:"/api/sms/check"},validation:{phoneNumber:"/api/validation/phone",date:"/api/validation/date",authUser:"https://auth.europlan.ru/user/isexternal",fuelContract:"/api/validation/fuel-contract",activeFuelRequest:"/api/validation/fuel-request"}},t.storagedFile={upload:function(e){return"/storagedfile/upload?type=".concat(e)}},t.faq={questionUseful:"/faq/questionuseful",questionPreview:"/faq/questionpreview",like:"/faq/like"},t.survey={survey:"/survey",afterMeeting:"/survey/aftermeeting"},t.automarket={brands:function(e){return"/api/data/automarket-brands?url=/"+e},brandsByCountry:function(e,t){return"/api/data/brands-by-country?superTypeIds=".concat(e,"&countryCode=").concat(t)},modelGroups:function(e,t){return"/api/data/automarket-model-groups?url=/"+e+"/"+t},modelGroupsByFilter:function(e,t,n){return"/api/data/automarket-model-groups?filter=".concat(e).concat(t?"&includingChassis=true":"").concat(n?"&page="+n:"")},mdfGroups:function(e,t){return"/api/data/automarket-mdf-groups?url=".concat(e).concat(t?"&withOptions=true":"")},offers:function(e){return"/api/data/automarket-offers?url="+e},usedOffers:function(e,t){return"/api/promo/used-offers?filter=".concat(e).concat(t?"&page="+t:"")},cities:function(e,t){return"/api/data/autosale-cities?url=/sale/"+e+(t?"&name="+t:"")},modelGroupsByModelsIds:function(e,t){return"/api/data/model-groups-by-models-ids?modelIdsString=".concat(e).concat(t?"&category="+t:"")},modelGroupsByPrice:function(e,t){return"/api/data/model-groups-by-price?price=".concat(e).concat(t?"&category="+t:"")},modelGroupsByBrandId:function(e,t,n){return"/api/data/model-groups-by-brand-id?brandId=".concat(e).concat(t?"&category="+t:"").concat(n?"&kind="+n:"")},similarCars:function(e,t){return"/api/data/similar-cars?modelId=".concat(e).concat(t?"&category="+t:"")},getFilterValues:function(e){return"/api/data/get-filter-values".concat(e?"?withallparams=true":"")},brandStatistics:function(e){return"/api/data/brand-stats?url="+e},advertDetails:function(e){return"/api/data/advert-details?id="+e},adverts:function(e,t){return"/api/data/adverts?filter=".concat(e).concat(t?"&page="+t:"")}},t.calc={calculation:"/api/calc/calculation"},t.dadata={ipLocate:"https://suggestions.dadata.ru/suggestions/api/4_1/rs/iplocate/address"},e.Urls=t}(Consts=Consts||{}),function(e){(e=e.VideoPlayerCategory||(e.VideoPlayerCategory={}))[e.Generic=0]="Generic",e[e.Leasing=1]="Leasing",e[e.Service=2]="Service",e[e.Career=3]="Career"}(Enums=Enums||{}),function(e){(e=e.VideoPlayerType||(e.VideoPlayerType={}))[e.YouTube=0]="YouTube",e[e.Dzen=1]="Dzen",e[e.VK=2]="VK"}(Enums=Enums||{}),angular.module("dealer.web.app").directive("epListPager",function(){return{transclude:!0,scope:{pager:"=epListPager"},templateUrl:"/ngview/epListPager.html",controller:["$scope","$attrs","scrollService","$location",function(o,t,n,i){var s=o.pager,e={setPage:function(e){(e=(e=e<1?1:e)>s.pagesCount?s.pagesCount:e)!=s.page&&(s.page=e,s.setPage(e),t.listPagerScroll&&n.scrollTo(t.listPagerScroll),1<e?i.search("page",e):i.search("page",null))},next:function(){return e.setPage(s.page+1)},prev:function(){return e.setPage(s.page-1)},getPages:function(){var e=[],t=s.page,n=Math.max(2,t-1),i=Math.min(t+1,s.pagesCount-1),a=s.pagesCount+1;(i=t<=2?4:i)>s.pagesCount-1&&(i=s.pagesCount-1);for(var r=n=(n=a-2<=t?a-4:n)<2?2:n;r<=i;++r)e.push(r);return o.showFirstDots=2<e[0],o.showLastDots=e[e.length-1]<s.pagesCount-1,e},getCss:function(e){return e==s.page?"ui-state-active":"ui-state-default"}},a=(o.vm=e,parseInt(i.search().page,10));isNaN(a)?i.search("page",null):e.setPage(a)}]}}),angular.module("dealer.web.app").directive("epSmsSend",["formService","smsService",function(e,d){return{"restricе":"A",require:["ngModel","^form"],link:function(a,r,o,e){function s(){return n.$viewValue}function l(e){var t=new Directives.EpSmsSendVeiwValueModel(u.$modelValue,(1<arguments.length&&void 0!==arguments[1]?arguments[1]:null)||[]);n.$setViewValue(t),e&&n.$setPristine()}var c,n=e[0],i=e[1],u=i[o.epSmsSend||"Phone"];n.$validators.smsrequired=function(e,t){return r.attr("required")&&t.isSended()},n.$validators.smsSendMaxCountExceeded=function(e,t){return c!=Enums.SmsSendStatusEnum.MaxCountExceeded},n.$validators.smsSendFailed=function(e,t){return c!=Enums.SmsSendStatusEnum.ServerError&&c!=Enums.SmsSendStatusEnum.Error},n.$validators.smsSendSpamProtection=function(e,t){return c!=Enums.SmsSendStatusEnum.SpamProtection},n.$formatters=[],n.$formatters.push(function(e){return s()}),n.$parsers=[],n.$parsers.push(function(e){return e.isSended()}),l(!0),r.on("click",function(t){var n=a.$watch(function(){return i.$pending},function(e){var i;e||(n(),t.preventDefault(),c=null,r.attr("disabled"))||(u.$invalid&&!u.$dirty?(u.$setDirty(),a.$applyAsync()):u.$valid&&(i=u.$modelValue,r.attr("disabled","disabled"),d.sendSmsCode(i,o.source).then(function(e){c=e;var t=s().getPhones(),n=t.some(function(e){return e==i});e!=Enums.SmsSendStatusEnum.Success||n||t.push(i),l(!1,t)}).finally(function(){return r.removeAttr("disabled")})))})}),a.$watch(function(){return u.$modelValue},function(){return l(!0)})}}}]),function(e){var t=function(){return _createClass(function e(t,n){_classCallCheck(this,e),this.phone=t,this.phones=n},[{key:"isSended",value:function(){var t=this;return this.phones.some(function(e){return e==t.phone})}},{key:"getPhones",value:function(){return this.phones.slice()}}])}();e.EpSmsSendVeiwValueModel=t}(Directives=Directives||{}),angular.module("dealer.web.app").directive("historyBack",["$cookies",function(i){return{link:function(e,t,n){t.on("click",function(){historyBack(i);var e=t[0].closest(".ep-overlay");e.classList.add("ep-overlay--view"),setTimeout(function(){e.classList.remove("ep-overlay--view")},300)})}}}]),angular.module("dealer.web.app").directive("epOverlay",["$cookies",function(i){return{restrict:"C",link:function(e,t,n){t.on("click",function(e){e.target===e.currentTarget&&historyBack(i)})}}}]),angular.module("dealer.web.app").directive("listPager",function(){return{transclude:!0,scope:{pager:"=listPager"},templateUrl:"/ngview/listPager.html",controller:["$scope","$attrs","scrollService",function(o,t,n){var s=o.pager,e={setPage:function(e){(e=(e=e<1?1:e)>s.pagesCount?s.pagesCount:e)!=s.page&&(s.page=e,s.setPage(e),t.listPagerScroll)&&n.scrollTo(t.listPagerScroll)},next:function(){return e.setPage(s.page+1)},prev:function(){return e.setPage(s.page-1)},getPages:function(){var e=[],t=s.page,n=Math.max(2,t-1),i=Math.min(t+1,s.pagesCount-1),a=s.pagesCount+1;(i=t<=2?4:i)>s.pagesCount-1&&(i=s.pagesCount-1);for(var r=n=(n=a-2<=t?a-4:n)<2?2:n;r<=i;++r)e.push(r);return o.showFirstDots=2<e[0],o.showLastDots=e[e.length-1]<s.pagesCount-1,e},getCss:function(e){return e==s.page?"active":""}};o.vm=e}]}}),angular.module("dealer.web.app").directive("ngBindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.ngBindHtmlUnsafe),e.$watch(n.ngBindHtmlUnsafe,function(e){t.html(e||"")})}}),ngApp.main.directive("officeMap",["ymapsLoader",function(t){return{template:"<div></div>",scope:{lat:"=",lng:"="},link:function(n,i,e){t.ready(function(){var e=[n.lat,n.lng],t=new ymaps.Map(i[0],{center:e,zoom:17,controls:["zoomControl","fullscreenControl","typeSelector"]}),e=new ymaps.Placemark(e,null,{iconLayout:"default#image",iconImageHref:"/img/metka.png",iconImageSize:[40,60],iconImageOffset:[-20,-60]});t.geoObjects.add(e)})}}}]),angular.module("dealer.web.app").directive("initPopup",["$rootScope",function(i){return{restrict:"A",link:function(e,t,n){t.on("click",function(){var e=n.initBlock?"/"+n.initBlock:"";if(window.location.hash&&(window.location.hash=""),window.location.pathname.includes("for-individuals")||window.location.pathname.includes("blog/767")||window.location.pathname.includes("for-sfi-employees"))analytics.trackEvent("Forms","Opened Form","LeasingIndividual"+e),window.location.hash="#individuals-form";else switch(n.initPopup){case"callback":analytics.trackEvent("Forms","Opened Form","CallBack"+e),i.$broadcast("Init_Popup_Type_Update","CallBack"),window.location.hash="#leasing-form";break;case"vykup":analytics.trackEvent("Forms","Opened Form","Vykup"+e),window.location.hash="#vykup-form";break;case"subscription":analytics.trackEvent("Forms","Opened Form","Subscription"+e),window.location.hash="#individuals-form";break;case"insurance":analytics.trackEvent("Forms","Opened Form","Insurance"+e),window.location.hash="#insurance-form";break;case"service":analytics.trackEvent("Forms","Opened Form","Service"+e),window.location.hash="#service-form";break;case"question":analytics.trackEvent("Forms","Opened Form","Question"+e),window.location.hash="#question-form";break;case"fuel-card":analytics.trackEvent("Forms","Opened Form","FuelCard"+e),window.location.hash="#fuel-card-form";break;default:analytics.trackEvent("Forms","Opened Form","LeasingPopup"+e),i.$broadcast("Init_Popup_Type_Update","LeasingPopup"),window.location.hash="#leasing-form"}})}}}]),angular.module("dealer.web.app").directive("skeletonLoading",function(){return{restrict:"A",link:function(e,t,n){n=n.skeletonLoading;"picture"==n?t.children().bind("load",function(){t.children().removeClass("ph-picture"),t.children().css("height","auto"),t.removeClass("ph-item")}):"img"==n&&(t.removeClass("ph-avatar"),t.children().css("height","auto"),t.parent().removeClass("ph-item"))}}}),angular.module("dealer.web.app").directive("format",["$filter",function(a){return{require:"?ngModel",link:function(e,t,n,i){i&&(i.$formatters.unshift(function(e){return a(n.format)(i.$modelValue)}),i.$parsers.unshift(function(e){e=e.replace(/[^\d|\-+|\.+]/g,"");return t.val(a(n.format)(e)),e}))}}}]),angular.module("dealer.web.app").directive("epBtn",function(){return{restrict:"C",link:function(e,t,n){trackClickedButton(t[0],n)}}}).directive("btn",function(){return{restrict:"C",link:function(e,t,n){trackClickedButton(t[0],n)}}}),function(e){var t=function(){return _createClass(function e(){_classCallCheck(this,e)},[{key:"setFormDirty",value:function(e){var t,n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];for(t in n?e.$setDirty():e.$setPristine(),e){var i=e[t];e.hasOwnProperty(t)&&i&&void 0!==i.$dirty&&(n?(i.$dirty=n,i.$validate(),this.interactWith(e[t])):e[t].$setPristine())}}},{key:"interactWith",value:function(e){e&&e.$setViewValue&&e.$setViewValue(e.$viewValue)}},{key:"compile",value:function(n){angular.element(document.querySelector("body")).injector().invoke(["$compile",function(e){var t=angular.element(n);e(t)(t.scope())}])}},{key:"genericAjaxSelect2Option",value:function(e,t){return{url:e,cache:!!t,data:function(e){return{filter:e}},results:function(e){return{results:e}}}}},{key:"watchGroup",value:function(e,t,n,i,a){for(var r=0;r<t.length;r++)e.$watch(t[r],n,i,a)}},{key:"setOrKeepCokie",value:function(e,t,n){this.readCookie(e)||this.setCookie(e,t,n)}},{key:"setCookie",value:function(e,t,n){var i,a,r=(n=n||{}).expires,o=("number"==typeof r&&r&&((i=new Date).setTime(i.getTime()+1e3*r),r=n.expires=i),r&&r.toUTCString&&(n.expires=r.toUTCString()),e+"="+(t=encodeURIComponent(t)));for(a in n){o+="; "+a;var s=n[a];!0!==s&&(o+="="+s)}document.cookie=o}},{key:"readCookie",value:function(e){for(var t,n=document.cookie.split("; "),i={},a=n.length-1;0<=a;a--)i[(t=n[a].split("="))[0]]=t[1];return i[e]}},{key:"loadScript",value:function(e,t){var n=document.createElement("script");n.onload=n.onreadystatechange=function(){n.readyState&&"complete"!==n.readyState&&"loaded"!==n.readyState||(n.onload=n.onreadystatechange=null,angular.isFunction(t)&&t())},n.async=!0,n.src=e,document.getElementsByTagName("body")[0].appendChild(n)}},{key:"setQueryParamCookie",value:function(t,e){var n=this;e&&(e="?"===e.charAt(0)?e.substring(1):e).split("&").forEach(function(e){e=e.split("=");2===e.length&&e[0]===t&&n.setOrKeepCokie(t,e[1],{path:"/"})})}}])}();e.AngularHelpers=t}(Shared=Shared||{});var analytics,Shared,Components,Controllers,Enums,Models,Services,AngularHelpers=new Shared.AngularHelpers,stringHelpers=(!function(e){var t=function(){return _createClass(function e(){_classCallCheck(this,e)},[{key:"toLowerCamelCase",value:function(e){return e.split(" ").map(function(e){return e.charAt(0).toLowerCase()+e.slice(1)}).join("")}},{key:"toSuperTypeId",value:function(e){return e?e.includes("cars")?[8]:e.includes("commercial")?[9,10]:e.includes("special")?[6,11]:e.includes("trailer")?[13,14]:void 0:null}},{key:"stringifyJson",value:function(e){return JSON.stringify(e,function(e,t){if(null!==t&&!Number.isNaN(t))return t})}}])}();e.StringHelpers=t}(Shared=Shared||{}),new Shared.StringHelpers);(Models||(Models={})).AnguCompleteResult=_createClass(function e(){_classCallCheck(this,e)}),function(e){e.AutoBrand=_createClass(function e(){_classCallCheck(this,e)});var t=_createClass(function e(){_classCallCheck(this,e)});e.AutoModel=t}(Models=Models||{}),function(e){((e=e.Api||(e.Api={})).Data||(e.Data={})).City=_createClass(function e(){_classCallCheck(this,e)})}(Models=Models||{}),(Models||(Models={})).Counteragent=_createClass(function e(){_classCallCheck(this,e)}),(Models||(Models={})).DataLayerEvent=_createClass(function e(){_classCallCheck(this,e)}),function(e){var t;(e=(e=e.Api||(e.Api={})).Data||(e.Data={})).DeferredAppData=_createClass(function e(){_classCallCheck(this,e)}),t=_createClass(function e(){_classCallCheck(this,e)}),e.DeferredAppDates=t}(Models=Models||{}),(Models||(Models={})).DropDownItem=_createClass(function e(){_classCallCheck(this,e)}),(Models||(Models={})).Employee=_createClass(function e(){_classCallCheck(this,e)}),(Models||(Models={})).EstaffItem=_createClass(function e(){_classCallCheck(this,e)}),(Models||(Models={})).FaqQuestion=_createClass(function e(){_classCallCheck(this,e)}),(Models||(Models={})).Feedback=_createClass(function e(){_classCallCheck(this,e)}),(Models||(Models={})).Hellobar=_createClass(function e(){_classCallCheck(this,e)}),(Models||(Models={})).ImageStorageFile=_createClass(function e(){_classCallCheck(this,e)}),(Models||(Models={})).ipLocation=_createClass(function e(){_classCallCheck(this,e)}),(Models||(Models={})).LandingPage=_createClass(function e(){_classCallCheck(this,e)}),(Models||(Models={})).LeasingPayment=_createClass(function e(){_classCallCheck(this,e)}),(Models||(Models={})).LeasingProgram=_createClass(function e(){_classCallCheck(this,e)}),(Models||(Models={})).LeasingProgramFilter=_createClass(function e(){_classCallCheck(this,e)}),(Models||(Models={})).LinkVm=_createClass(function e(){_classCallCheck(this,e)}),function(e){var t=function(){return _createClass(function e(){_classCallCheck(this,e),this.handlers=[]},[{key:"on",value:function(e){this.handlers.push(e)}},{key:"off",value:function(t){this.handlers=this.handlers.filter(function(e){return e!==t})}},{key:"trigger",value:function(t){this.handlers&&this.handlers.slice(0).forEach(function(e){return e(t)})}}])}();e.LiteEvent=t}(Models=Models||{}),(Models||(Models={})).ManagerInfo=_createClass(function e(){_classCallCheck(this,e)}),(Models||(Models={})).NameWithId=_createClass(function e(){_classCallCheck(this,e)}),function(e){var t;(e=e.News||(e.News={})).NewsItem=_createClass(function e(){_classCallCheck(this,e)}),t=_createClass(function e(){_classCallCheck(this,e)}),e.TagsLink=t,t=_createClass(function e(){_classCallCheck(this,e)}),e.NewsTag=t}(Models=Models||{}),function(e){e.Office=_createClass(function e(){_classCallCheck(this,e)});var t=_createClass(function e(){_classCallCheck(this,e),this.cityName="Выбрать город",this.officeAddress="Контакты"});e.CurrentOffice=t}(Models=Models||{}),(Models||(Models={})).PressPost=_createClass(function e(){_classCallCheck(this,e)}),function(e){e.QrContactsVm=_createClass(function e(){_classCallCheck(this,e)});var t=_createClass(function e(){_classCallCheck(this,e)});e.QrContactsServicesVm=t}(Models=Models||{}),function(e){((e=e.Api||(e.Api={})).Data||(e.Data={})).Region=_createClass(function e(){_classCallCheck(this,e)})}(Models=Models||{}),function(e){e.RequestResult=_createClass(function e(){_classCallCheck(this,e)});var t=_createClass(function e(){_classCallCheck(this,e)});e.RequestResultError=t}(Models=Models||{}),(Models||(Models={})).Review=_createClass(function e(){_classCallCheck(this,e)}),(Models||(Models={})).ShowroomLog=_createClass(function e(){_classCallCheck(this,e)}),(Models||(Models={})).SpecialOffers_Filter=_createClass(function e(){_classCallCheck(this,e)}),(Models||(Models={})).StoragedFile=_createClass(function e(){_classCallCheck(this,e)}),(Models||(Models={})).SubmitResult=_createClass(function e(t,n){_classCallCheck(this,e),this.model=t,this.serverResult=n}),function(e){e.SubscriptionOffer=_createClass(function e(){_classCallCheck(this,e)});var t=_createClass(function e(){_classCallCheck(this,e)}),t=(e.SubscriptionPayment=t,_createClass(function e(){_classCallCheck(this,e)}));t.Start="start",t.Drive="drive",e.SubscriptionTariff=t}(Models=Models||{}),function(e){e.SurveyModel=_createClass(function e(){_classCallCheck(this,e)});var t=_createClass(function e(){_classCallCheck(this,e)});e.AfterMeetingSurveyRequest=t}(Models=Models||{}),function(e){e.VideoBlock=_createClass(function e(){_classCallCheck(this,e)});var t=_createClass(function e(){_classCallCheck(this,e)});e.Video=t}(Models=Models||{}),function(e){var t=function(){function i(e,t,n){_classCallCheck(this,i),this.$http=e,this.$q=t,this.$exceptionHandler=n}return i.$inject=["$http","$q","$exceptionHandler"],_createClass(i,[{key:"getServiceStations",value:function(){var t=this,n=this.$q.defer();return this.$http.get(Consts.Urls.api.data.serviceStations).then(function(e){return n.resolve(e.data)}).catch(function(e){t.$exceptionHandler("ApiDataService.getServiceStations(): ",e),n.resolve()}),n.promise}},{key:"getOfficesYmaps",value:function(){var t=this,n=this.$q.defer();return this.$http.get(Consts.Urls.api.data.officesYmaps).then(function(e){return n.resolve(e.data)}).catch(function(e){t.$exceptionHandler("ApiDataService.getOfficesYmaps(): ",e),n.resolve()}),n.promise}},{key:"getCurrentOffice",value:function(e,t){var n=this,i=this.$q.defer();return this.$http.get(Consts.Urls.api.data.getCurrentOffice(e,t)).then(function(e){return i.resolve(e.data)}).catch(function(e){n.$exceptionHandler("ApiDataService.getCurrentOffice(): ",e),i.resolve()}),i.promise}},{key:"getOffices",value:function(){var t=this,n=this.$q.defer();return this.$http.get(Consts.Urls.api.data.offices).then(function(e){return n.resolve(e.data)}).catch(function(e){t.$exceptionHandler("ApiDataService.getOffices(): ",e),n.resolve()}),n.promise}},{key:"getEpCities",value:function(){var t=this,n=this.$q.defer();return this.$http.get(Consts.Urls.api.data.epCities).then(function(e){return n.resolve(e.data)}).catch(function(e){t.$exceptionHandler("ApiDataService.getEpCities(): ",e),n.resolve([])}),n.promise}},{key:"getAutomarketBrands",value:function(e){var t=this,n=this.$q.defer();return this.$http.get(Consts.Urls.automarket.brands(e)).then(function(e){return n.resolve(e.data)}).catch(function(e){t.$exceptionHandler("ApiDataService.getAutomarketBrands(): ",e),n.resolve([])}),n.promise}},{key:"getBrandsByCountry",value:function(e,t){var n=this,i=this.$q.defer();return this.$http.get(Consts.Urls.automarket.brandsByCountry(e,t)).then(function(e){return i.resolve(e.data)}).catch(function(e){n.$exceptionHandler("ApiDataService.getBrandsByCountry(): ",e),i.resolve([])}),i.promise}},{key:"getAutomarketModelGroups",value:function(e,t){var n=this,i=this.$q.defer();return this.$http.get(Consts.Urls.automarket.modelGroups(e,t)).then(function(e){return i.resolve(e.data)}).catch(function(e){n.$exceptionHandler("ApiDataService.getModelGroups(): ",e),i.resolve()}),i.promise}},{key:"getAutomarketModelGroupsByFilter",value:function(e,t,n){var i=this,a=this.$q.defer();return this.$http.get(Consts.Urls.automarket.modelGroupsByFilter(e,t,n)).then(function(e){return a.resolve(e.data)}).catch(function(e){i.$exceptionHandler("ApiDataService.getModelGroupsByUrl(): ",e),a.resolve()}),a.promise}},{key:"getModelGroupsByModelsIds",value:function(e,t){var n=this,i=this.$q.defer();return this.$http.get(Consts.Urls.automarket.modelGroupsByModelsIds(e,t)).then(function(e){return i.resolve(e.data)}).catch(function(e){n.$exceptionHandler("ApiDataService.getAutomarketModelGroupsByModelsIds(): ",e),i.resolve([])}),i.promise}},{key:"getModelGroupsByPrice",value:function(e,t){var n=this,i=this.$q.defer();return this.$http.get(Consts.Urls.automarket.modelGroupsByPrice(e,t)).then(function(e){return i.resolve(e.data)}).catch(function(e){n.$exceptionHandler("ApiDataService.getAutomarketModelGroupsByPrice(): ",e),i.resolve([])}),i.promise}},{key:"getModelGroupsByBrandId",value:function(e,t,n){var i=this,a=this.$q.defer();return this.$http.get(Consts.Urls.automarket.modelGroupsByBrandId(e,t,n)).then(function(e){return a.resolve(e.data)}).catch(function(e){i.$exceptionHandler("ApiDataService.getModelGroupsByBrandId(): ",e),a.resolve([])}),a.promise}},{key:"getSimilarCars",value:function(e,t){var n=this,i=this.$q.defer();return this.$http.get(Consts.Urls.automarket.similarCars(e,t)).then(function(e){return i.resolve(e.data)}).catch(function(e){n.$exceptionHandler("ApiDataService.getSimilarCars(): ",e),i.resolve([])}),i.promise}},{key:"getAutosaleOffers",value:function(e){var t=this,n=this.$q.defer();return this.$http.get(Consts.Urls.automarket.offers(e)).then(function(e){return n.resolve(e.data)}).catch(function(e){t.$exceptionHandler("ApiDataService.getAutosaleOffers(): ",e),n.resolve()}),n.promise}},{key:"getUsedOffers",value:function(e,t){var n=this,i=this.$q.defer();return this.$http.get(Consts.Urls.automarket.usedOffers(e,t)).then(function(e){return i.resolve(e.data)}).catch(function(e){n.$exceptionHandler("ApiDataService.getUsedOffers(): ",e),i.resolve()}),i.promise}},{key:"getAdverts",value:function(e,t){var n=this,i=this.$q.defer();return this.$http.get(Consts.Urls.automarket.adverts(e,t)).then(function(e){return i.resolve(e.data)}).catch(function(e){n.$exceptionHandler("ApiDataService.getAdverts(): ",e),i.resolve()}),i.promise}},{key:"getPayment",value:function(e){var t=this,n=this.$q.defer();return this.$http.get(Consts.Urls.calc.calculation+e).then(function(e){return n.resolve(e.data)}).catch(function(e){t.$exceptionHandler("ApiDataService.getPayment(): ",e),n.resolve()}),n.promise}},{key:"getMdfGroups",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=this.$q.defer(),e=Consts.Urls.automarket.mdfGroups(e,n);return this.$http.get(e).then(function(e){return i.resolve(e.data)}).catch(function(e){t.$exceptionHandler("ApiDataService.getMdfGroups(): ",e),i.resolve()}),i.promise}},{key:"getCities",value:function(e){var t=this,n=this.$q.defer();return this.$http.get(Consts.Urls.api.data.cities(e)).then(function(e){return n.resolve(e.data)}).catch(function(e){t.$exceptionHandler("ApiDataService.getCities(): ",e),n.resolve([])}),n.promise}},{key:"getRegions",value:function(){var t=this,n=this.$q.defer();return this.$http.get(Consts.Urls.api.data.regions).then(function(e){return n.resolve(e.data)}).catch(function(e){t.$exceptionHandler("ApiDataService.getRegions(): ",e),n.resolve([])}),n.promise}},{key:"getRegionOfCityById",value:function(e){var t=this,n=this.$q.defer();return this.$http.get(Consts.Urls.api.data.regionofcity+"/id/"+e).then(function(e){return n.resolve(e.data)}).catch(function(e){t.$exceptionHandler("ApiDataService.getRegionOfCityById(): ",e),n.resolve()}),n.promise}},{key:"getLflRegionCodes",value:function(){var t=this,n=this.$q.defer();return this.$http.get(Consts.Urls.api.data.lflregioncodes).then(function(e){return n.resolve(e.data)}).catch(function(e){t.$exceptionHandler("ApiDataService.getLflRegionCodes(): ",e),n.resolve([])}),n.promise}},{key:"getYandexAdInfo",value:function(e){var t=this,n=this.$q.defer(),e=Consts.Urls.api.data.yandexDirect(e);return this.$http.get(e).then(function(e){return n.resolve(e.data)}).catch(function(e){t.$exceptionHandler("ApiDataService.getAdInfo(): ",e),n.resolve([])}),n.promise}},{key:"getDeferredAppDates",value:function(){var t=this,n=this.$q.defer();return this.$http.get(Consts.Urls.api.data.deferredAppDates).then(function(e){return n.resolve(e.data)}).catch(function(e){t.$exceptionHandler("ApiDataService.getDeferredAppDates(): ",e),n.resolve()}),n.promise}},{key:"getFilterValues",value:function(e,t){var n=this,i=this.$q.defer();return this.$http.post(Consts.Urls.automarket.getFilterValues(t),e).then(function(e){return i.resolve(e.data)}).catch(function(e){n.$exceptionHandler("ApiDataService.getFilterValues(): ",e),i.resolve()}),i.promise}},{key:"getVideo",value:function(e){var t=this,n=this.$q.defer();return this.$http.get(Consts.Urls.api.data.video(e)).then(function(e){return n.resolve(e.data)}).catch(function(e){t.$exceptionHandler("ApiDataService.getVideo(): ",e),n.resolve()}),n.promise}},{key:"getCarsByVehicleKind",value:function(e,t,n){var i=this,a=this.$q.defer();return this.$http.get(Consts.Urls.api.data.vehicleKindCars(e,t,n)).then(function(e){return a.resolve(e.data)}).catch(function(e){i.$exceptionHandler("ApiDataService.getCarsByVehicleKind(): ",e),a.resolve()}),a.promise}},{key:"getPromoSpecialOffers",value:function(e,t){var n=this,i=this.$q.defer();return this.$http.get(Consts.Urls.api.data.promoSpecialOffers(e,t)).then(function(e){return i.resolve(e.data)}).catch(function(e){n.$exceptionHandler("ApiDataService.getPromoSpecialOffers(): ",e),i.resolve()}),i.promise}},{key:"getPromoModelSpecialOffers",value:function(e,t,n){var i=this,a=this.$q.defer();return this.$http.get(Consts.Urls.api.data.promoModelSpecialOffers(e,t,n)).then(function(e){return a.resolve(e.data)}).catch(function(e){i.$exceptionHandler("ApiDataService.getPromoModelSpecialOffers(): ",e),a.resolve()}),a.promise}},{key:"getPromoVideos",value:function(e){var t=this,n=this.$q.defer();return this.$http.get(Consts.Urls.api.data.promoVideos(e)).then(function(e){return n.resolve(e.data)}).catch(function(e){t.$exceptionHandler("ApiDataService.getPromoVideos(): ",e),n.resolve()}),n.promise}},{key:"getBrandStats",value:function(e){var t=this,n=this.$q.defer();return this.$http.get(Consts.Urls.automarket.brandStatistics(e)).then(function(e){return n.resolve(e.data)}).catch(function(e){t.$exceptionHandler("ApiDataService.getBrandStats(): ",e),n.resolve()}),n.promise}},{key:"getReviews",value:function(e){var t=this,n=this.$q.defer();return this.$http.get(Consts.Urls.api.data.reviews(e)).then(function(e){return n.resolve(e.data)}).catch(function(e){t.$exceptionHandler("ApiDataService.getReviews(): ",e),n.resolve()}),n.promise}},{key:"getEmployees",value:function(e){var t=this,n=this.$q.defer();return this.$http.post(Consts.Urls.api.data.employees,e).then(function(e){return n.resolve(e.data)}).catch(function(e){t.$exceptionHandler("ApiDataService.getFilterValues(): ",e),n.resolve()}),n.promise}},{key:"getLeasingPrograms",value:function(){var t=this,n=this.$q.defer();return this.$http.get(Consts.Urls.api.data.leasingPrograms).then(function(e){return n.resolve(e.data)}).catch(function(e){t.$exceptionHandler("ApiDataService.getLeasingPrograms(): ",e),n.resolve()}),n.promise}},{key:"getSimilarVehicles",value:function(e,t,n){var i=this,a=this.$q.defer();return this.$http.get(Consts.Urls.api.data.similarVehicles(e,t,n)).then(function(e){return a.resolve(e.data)}).catch(function(e){i.$exceptionHandler("ApiDataService.getSimilarVehicles(): ",e),a.resolve()}),a.promise}},{key:"getGroupVehicleKinds",value:function(e){var t=this,n=this.$q.defer();return this.$http.get(Consts.Urls.api.data.groupVehicleKinds(e)).then(function(e){return n.resolve(e.data)}).catch(function(e){t.$exceptionHandler("ApiDataService.getGroupVehicleKinds(): ",e),n.resolve()}),n.promise}},{key:"getAdvertDetails",value:function(e){var t=this,n=this.$q.defer();return this.$http.get(Consts.Urls.automarket.advertDetails(e)).then(function(e){return n.resolve(e.data)}).catch(function(e){t.$exceptionHandler("ApiDataService.getAdvertDetails(): ",e)}),n.promise}},{key:"getHellobar",value:function(e){var t=this,n=this.$q.defer();return this.$http.get(Consts.Urls.api.data.hellobar(e)).then(function(e){return n.resolve(e.data)}).catch(function(e){t.$exceptionHandler("ApiDataService.getHellobar(): ",e)}),n.promise}}])}();e.ApiDataService=t}(Services=Services||{}),function(e){var t=function(){function i(e,t,n){_classCallCheck(this,i),this.$cookies=e,this.apiDataService=t,this.$q=n,this.currentOffice=new Models.CurrentOffice,this.cookieName="currentOffice"}return i.$inject=["$cookies","apiDataService","$q"],_createClass(i,[{key:"selectCity",value:function(e,t){var i=this,n=this.$q.defer();return e&&t?(this.isLoading=!0,this.apiDataService.getCurrentOffice(e,t).then(function(e){var t,n;e&&(n=(null==(n=e.addressFeed)?void 0:n.indexOf(", "))+2,i.currentOffice.cityName=e.cityName,i.currentOffice.officeAddress=null==(t=e.addressFeed)?void 0:t.substring(n),i.currentOffice.officeUrl=e.cityNameTranslit,i.currentOffice.metaDescription=e.metaDescription)}).finally(function(){var e=new Date,e=new Date(e);e.setDate(e.getDate()+30),i.$cookies.putObject(i.cookieName,i.currentOffice,{expires:e,path:"/"}),i.isLoading=!1,n.resolve(i.currentOffice)})):n.resolve(),n.promise}}])}();e.ContactsService=t}(Services=Services||{}),function(e){var t=function(){return _createClass(function e(){_classCallCheck(this,e)},[{key:"set",value:function(e,t,n){var i,a,r,o=(n=n||{}).expires,s=("number"==typeof o&&o&&((i=new Date).setTime(i.getTime()+1e3*o),o=n.expires=i),o&&o.toUTCString&&(n.expires=o.toUTCString()),t=encodeURIComponent(t),n.path&&window.navigator.userAgent.indexOf("MSIE ")&&(i=n.path.lastIndexOf("/",n.path.length),n.path=0<i?n.path.substring(0,i+1):"/"),e+"="+t);for(a in n)n[a]&&(s+="; "+a,!0!==(r=n[a]))&&(s+="="+r);document.cookie=s}},{key:"get",value:function(e){for(var t,n=document.cookie.split("; "),i={},a=n.length-1;0<=a;a--)i[(t=n[a].split("="))[0]]=t[1];return i[e]}}])}();e.CookieService=t}(Services=Services||{}),function(e){var t=function(){function n(e,t){_classCallCheck(this,n),this.$q=e,this.$http=t}return n.$inject=["$q","$http"],_createClass(n,[{key:"setFormDirty",value:function(e){AngularHelpers.setFormDirty(e,!(1<arguments.length&&void 0!==arguments[1])||arguments[1])}},{key:"interactWith",value:function(e){(e=e||{}).$setViewValue&&e.$setViewValue(e.$viewValue)}},{key:"setFormPristine",value:function(e){this.setFormDirty(e,!1)}},{key:"resetFormState",value:function(e){if(void 0!==e)for(var t in e)e.hasOwnProperty(t)&&e[t]&&null!=e[t].$dirty&&(e[t].$dirty=!1)}},{key:"getSmsCode",value:function(e,t,n,i){var a=this,r=(i=i||"Phone",this.$q.defer());return e[i].$invalid?(this.interactWith(e[i]),r.reject({type:"getSmsCode"}),r.promise):this.isSmsCodeRequestSend?void 0:(this.isSmsCodeRequestSend=!0,this.$http.post("/sms/send",{phone:t,source:n}).then(function(e){a.isSmsCodeRequestSend=!1,"ok"==e.data.result?r.resolve({type:"getSmsCode"}):r.reject({type:"getSmsCode",errorMessage:e.data.error.message,errorCode:e.data.error.code})}).catch(function(){a.isSmsCodeRequestSend=!1,r.reject({type:"getSmsCode",errorMessage:"Во время запроса кода подтверждения произошла ошибка"})}),r.promise)}},{key:"getElementForm",value:function(e){var t,n=e.prop("tagName");if("form"==n||"FORM"==n||"ng-form"==n)t=e;else if(null!=e.attr("ng-form"))t=e;else{var n=e.find("form, ng-form, [ng-form]");if(0<n.length)t=n.first();else{for(var i=e.parent(),a=[];0<i.length;)a.push(i[0]),i=i.parent();try{a.forEach(function(e){if(e.hasAttribute("form")||e.hasAttribute("ng-form"))throw t=e,DOMException})}catch(e){}}}if(t&&t.scope)return(n=t.scope())?n[t.attr("ng-form")||t.attr("name")]:null}},{key:"setValidity",value:function(e,t,n,i){var a=4<arguments.length&&void 0!==arguments[4]&&arguments[4],r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null,e=this.getElementForm(e);e&&(e=e[t])&&(e.$setValidity(n,i),a)&&e.$setViewValue(r)}}])}();e.FormService=t}(Services=Services||{}),function(e){var t=function(){return _createClass(function e(){_classCallCheck(this,e),this.none="_none_",this.clicks=0,this.pageTypes=[],this.pageTypes.push({key:"landing",value:["/promo"]}),this.vehicleTypes=[],this.vehicleTypes.push({key:"1",value:"Легковые"}),this.vehicleTypes.push({key:"2",value:"Грузовые"}),this.vehicleTypes.push({key:"3",value:"Автобусы"}),this.vehicleTypes.push({key:"4",value:"Прицепы/ полуприцепы"}),this.vehicleTypes.push({key:"5",value:"Спецтехника"}),this.vehicleTypes.push({key:"6",value:"Коммерческие"}),this.vehicleTypes.push({key:"7",value:"Самоходная техника"}),window.gaCollectorService=this},[{key:"onButtonClick",value:function(e){this.clicks++,this.button=e.attr("id")}},{key:"escapeRegExp",value:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},{key:"replaceAll",value:function(e,t,n){return e.replace(new RegExp(this.escapeRegExp(t),"g"),n)}},{key:"getQueryParam",value:function(e){for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var i=t[n].split("=");if(i[0]==e)return i[1]}return""}},{key:"removeUrlParameter",value:function(e,t){var n=e.split("?");if(2<=n.length){for(var i=n.shift(),n=n.join("?"),a=encodeURIComponent(t)+"=",r=n.split(/[&;]/g),o=r.length;0<o--;)-1!==r[o].lastIndexOf(a,0)&&r.splice(o,1);e=i+"?"+r.join("&")}return e}},{key:"getPageType",value:function(e){for(var t=0;t<this.pageTypes.length;t++)for(var n=0;n<this.pageTypes[t].value.length;n++){var i=this.pageTypes[t].value[n];if(0==e.indexOf(i))return this.pageTypes[t].key}return"site"}},{key:"removeUtmTags",value:function(e){return e&&(e=this.removeUrlParameter(e,"utm_source"),e=this.removeUrlParameter(e,"utm_medium"),e=this.removeUrlParameter(e,"utm_content"),e=this.removeUrlParameter(e,"utm_campaign"),e=this.removeUrlParameter(e,"utm_term"),e=this.removeUrlParameter(e,"utm_device"),e=this.removeUrlParameter(e,"utm_geo")),e}},{key:"getUtmTags",value:function(){var e=new Array,t=this.getQueryParam("utm_source"),n=this.getQueryParam("utm_medium"),i=this.getQueryParam("utm_content"),a=this.getQueryParam("utm_campaign"),r=this.getQueryParam("utm_term"),o=this.getQueryParam("utm_device"),s=this.getQueryParam("utm_geo"),t=this.replaceAll(t,"|","^"),n=this.replaceAll(n,"|","^"),i=this.replaceAll(i,"|","^"),a=this.replaceAll(a,"|","^"),r=this.replaceAll(r,"|","^"),o=this.replaceAll(o,"|","^"),s=this.replaceAll(s,"|","^");return t=this.replaceAll(t,"_","-"),n=this.replaceAll(n,"_","-"),i=this.replaceAll(i,"_","-"),a=this.replaceAll(a,"_","-"),r=this.replaceAll(r,"_","-"),o=this.replaceAll(o,"_","-"),s=this.replaceAll(s,"_","-"),o&&e.push("utm-device="+o),s&&e.push("utm-geo="+s),t&&e.push("utm-source="+t),n&&e.push("utm-medium="+n),i&&e.push("utm-content="+i),a&&e.push("utm-campaign="+a),r&&e.push("utm-term="+r),e}},{key:"readCookie",value:function(e){for(var t,n=document.cookie.split("; "),i={},a=n.length-1;0<=a;a--)i[(t=n[a].split("="))[0]]=t[1];return i[e]}},{key:"getTracking",value:function(e,t,n,i){var a=this.none,r=this.getUtmTags(),o=new Array;return this.page=this.getPageType(document.location.pathname),o.push("/leasing-form-send-"+(this.page||"site")),o.push(e||a),o.push(this.button||a),o.push(this.vehicleTypeName||"_notype_"),o.push(this.vehicleBrandName||a),o.push(this.vehicleModelName||a),o.push(this.removeUtmTags(decodeURIComponent(this.readCookie("originalUrl")||a))),o.push(decodeURIComponent(this.readCookie("originalReferrer")||a)),o.push(document.location.pathname),o.push(a),o.push(a),o.push(this.getK50phone()),o.push(a),o.push(this.vehicleCityName||a),o.push(n||a),o.push(md5(t.substr(1))),o.push(i||a),o.push(this.clicks.toString()),o.push(r.join("&")||a),o.join("#")}},{key:"getK50phone",value:function(){return"8080"}}])}();e.GaCollectorService=t}(Services=Services||{}),function(e){var t=function(){function i(e,t,n){_classCallCheck(this,i),this.$http=e,this.$q=t,this.$cookies=n,this.cookieName="location",this.removeEmpty=function(t){var e;return null!=(e=null==t?void 0:t.location)&&e.data&&Object.keys(t.location.data).forEach(function(e){return!t.location.data[e]&&void 0!==t.location.data[e]&&delete t.location.data[e]}),t}}return i.$inject=["$http","$q","$cookies"],_createClass(i,[{key:"setIPLocation",value:function(){var n=this,i=this.$q.defer(),e=this.$cookies.getObject(this.cookieName);return e?(this.location=e,i.resolve(this.location)):this.getDadataLocation().then(function(e){n.location=n.removeEmpty(e)}).finally(function(){var e,t=new Date,t=new Date(t),t=(t.setDate(t.getDate()+30),{expires:t,path:"/"});n.$cookies.put("currentCity",null==(e=null==(e=null==(e=n.location)?void 0:e.location)?void 0:e.data)?void 0:e.city,t),n.$cookies.putObject(n.cookieName,n.location,t),i.resolve(n.location)}).catch(function(){i.resolve(n.location)}),i.promise}},{key:"getDadataLocation",value:function(){var t=this.$q.defer();return this.$http({method:"GET",url:Consts.Urls.dadata.ipLocate,headers:{Authorization:"Token eaf5af9c43b24a283009e6ddd2b8ae4c0644d05d","Content-Type":"application/json"}}).then(function(e){return t.resolve(e.data)}).catch(function(e){JL("Angular").warn({message:"ApiDataService.getIPLocate()",response:e}),t.reject("ApiDataService.getIPLocate(): "+e)}),t.promise}}])}();e.ipLocateService=t}(Services=Services||{}),angular.module("logToServer",[]).service("$log",function(){this.log=function(e){JL("Angular").trace(e)},this.debug=function(e){JL("Angular").debug(e)},this.info=function(e){JL("Angular").info(e)},this.warn=function(e){JL("Angular").warn(e)},this.error=function(e){JL("Angular").error(e)}}).factory("$exceptionHandler",function(){return function(e,t){t={message:e.toString(),rawUrl:window.location.href,userAgent:window.navigator.userAgent,data:t};t.userAgent.toLowerCase().indexOf("bot")<0&&JL("Angular").error(t),console.error(e)}}).factory("logToServerInterceptor",["$q",function(n){return{request:function(e){return e.msBeforeAjaxCall=(new Date).getTime(),e},response:function(e){var t;return e.config.warningAfter&&(t=(new Date).getTime()-e.config.msBeforeAjaxCall)>e.config.warningAfter&&JL("Angular.Ajax").warn({timeTakenInMs:t,config:e.config,data:e.data}),e},responseError:function(e){var t="timeout";return e&&e.status&&e.data&&(t=e.data.ExceptionMessage),JL("Angular.Ajax").fatalException({errorMessage:t,status:e.status,config:e.config},e.data),n.reject(e)}}}]),(Services||(Services={})).Notifier=function(){function t(e){_classCallCheck(this,t),this.notify=e}return t.$inject=["notify"],_createClass(t,[{key:"success",value:function(e){this.notify({message:e,classes:"alert-success",position:"left",duration:5e3})}},{key:"error",value:function(e){this.notify({message:e,classes:"alert-danger",position:"left",duration:5e3})}},{key:"info",value:function(e){this.notify({message:e,position:"left",duration:1<arguments.length&&void 0!==arguments[1]?arguments[1]:5e3,fromBottom:!0})}},{key:"infoHtml",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:5e3;this.notify({messageTemplate:"<span>".concat(e,"</span>"),position:"left",duration:t,fromBottom:!0})}},{key:"infoCookie",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:5e3;this.notify({messageTemplate:'<span>\n\t                                <div class="ep-cookies-wrap">\n\t\t                                <div class="ep-cookies-messages">\n\t\t\t                                <p class="ep-cookies-text">'.concat(e,'</p>\n\t\t\t                                <button ng-click="$close()" class="ep-btn ep-btn__normal">Принять</button>\n\t\t                                </div>\n\t                                </div>\n                                  </span>'),position:"center",duration:t,fromBottom:!0,classes:"ep-cookiesbox",templateUrl:""})}},{key:"closeAll",value:function(){this.notify.closeAll()}}])}(),angular.module("dealer.web.app").factory("$scriptLoader",["$q","$rootScope",function(n,i){var a=[],r={};return function(e){var t=n.defer();if(-1!==a.indexOf(e))t.resolve();else{if(r[e])return r[e];AngularHelpers.loadScript(e,function(){delete r[e],a.push(e),i.$apply(function(){t.resolve()})}),r[e]=t.promise}return t.promise}}]),function(e){var t=function(){function t(e){_classCallCheck(this,t),this.smoothScroll=e}return t.$inject=["smoothScroll"],_createClass(t,[{key:"scrollTo",value:function(e,t){e=document.querySelector(e),t={offset:!t&&window.innerWidth<1025?60:t||0};this.smoothScroll(e,t)}}])}();e.ScrollService=t}(Services=Services||{}),function(e){var t=function(){function i(e,t,n){_classCallCheck(this,i),this.$http=e,this.$q=t,this.formService=n}return i.$inject=["$http","$q","formService"],_createClass(i,[{key:"sendSmsCode",value:function(e,t){var n=this.$q.defer();return this.$http.post(Consts.Urls.api.sms.send,{phone:e,source:t}).then(function(e){n.resolve(Enums.SmsSendStatusEnum.Success)}).catch(function(e){var t;null!=e&&e.data&&((null==(t=e.data)?void 0:t.error.code)==Enums.SiteErrorEnum.SmsMaxCountExceeded?n.resolve(Enums.SmsSendStatusEnum.MaxCountExceeded):(null==(t=e.data)?void 0:t.error.code)==Enums.SiteErrorEnum.Declined?n.resolve(Enums.SmsSendStatusEnum.SpamProtection):n.resolve(Enums.SmsSendStatusEnum.ServerError)),n.reject(Enums.SmsSendStatusEnum.Error)}),n.promise}},{key:"checkSmsCode",value:function(e,t,n){var i=this.$q.defer();return this.$http.post(Consts.Urls.api.sms.check,{phone:e,source:t,code:n}).then(function(e){i.resolve(Enums.SmsCheckStatusEnum.Success)}).catch(function(e){var t;null!=e&&e.data?(null==(t=e.data)?void 0:t.error.code)==Enums.SiteErrorEnum.SmsCodeInvalid?i.resolve(Enums.SmsCheckStatusEnum.Invalid):(null==(t=e.data)?void 0:t.error.code)==Enums.SiteErrorEnum.SmsCodeExpired?i.resolve(Enums.SmsCheckStatusEnum.Expired):i.resolve(Enums.SmsCheckStatusEnum.ServerError):i.resolve(Enums.SmsCheckStatusEnum.Error)}),i.promise}}])}();e.SmsService=t}(Services=Services||{}),function(e){var t=function(){return _createClass(function e(){_classCallCheck(this,e)},[{key:"getQueryParams",value:function(e){var n={};return e&&2===(e=e.split("?")).length&&e[1].split("&").forEach(function(e){var t,e=e.split("=");2===e.length&&(t=e[0],e=decodeURIComponent(e[1]),n[t]=e)}),n}},{key:"getUtmContentParams",value:function(e){var n={};return e&&e.split("|").forEach(function(e){var t,e=e.split(":");2===e.length&&(t=e[0].toLowerCase(),e=decodeURIComponent(e[1]),n[t]=e)}),n}}])}();e.UrlService=t}(Services=Services||{}),function(e){var t=function(){function n(e,t){_classCallCheck(this,n),this.$http=e,this.$q=t}return n.$inject=["$http","$q"],_createClass(n,[{key:"validatePhone",value:function(e){var t=this.$q.defer();return this.$http.post(Consts.Urls.api.validation.phoneNumber,{phoneNumber:e}).then(function(){return t.resolve({success:!0,description:""})},function(e){t.reject({success:!1,description:e.data.error.message})}),t.promise}},{key:"validateDate",value:function(e){var t=this.$q.defer();return this.$http.post(Consts.Urls.api.validation.date,{dateString:e}).then(function(){return t.resolve({success:!0,description:""})},function(e){t.reject({success:!1,description:e.data.error.message})}),t.promise}}])}();e.ValidationService=t}(Services=Services||{}),ngApp.main.factory("ymapsLoader",["$window","$timeout","$scriptLoader",function(e,n,i){var a;return{ready:function(t){a||(a=i("https://api-maps.yandex.ru/2.1/?apikey=14a0cdf2-d3ca-4439-800e-5ec632c7cd76&lang=ru_RU").then(function(){return e.ymaps})),a.then(function(e){e.ready(function(){n(function(){t(e)})})})}}}]);function getCookie(e){e=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):""}switch(window.dataLayer=window.dataLayer||[],!function(e){var t=function(){return _createClass(function e(){_classCallCheck(this,e),this.disabled=!0},[{key:"enable",value:function(){var e,t,n,i=this,r=(this.disabled=!1,window),o=document,a="ct",s="6mo47399";r.CalltouchDataObject=a,r.ct=function(){r.ct.callbacks.push(arguments)},r.ct.callbacks||(r.ct.callbacks=[]),r.ct.loaded=!1,"object"!==_typeof(s)&&(s=[s]),r.ct.counters=s;for(var l=0;l<s.length;l+=1)!function(e){function t(){n.parentNode.insertBefore(i,n)}var n=o.getElementsByTagName("script")[0],i=o.createElement("script"),a="function"==typeof Array.prototype.find?"init-min.js":"init.js";i.async=!0,i.src="https://mod.calltouch.ru/"+a+"?id="+e,"[object Opera]"==r.opera?o.addEventListener("DOMContentLoaded",t,!1):t()}(s[l]);e=window,a=document,e.ym=e.ym||function(){(e.ym.a=e.ym.a||[]).push(arguments)},e.ym.l=+(new Date).getTime(),c=a.createElement("script"),a=a.getElementsByTagName("script")[0],c.async=1,c.src="https://mc.yandex.ru/metrika/tag.js",a.parentNode.insertBefore(c,a),ym(19695820,"init",{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0,ecommerce:"dataLayer"}),ym(97132069,"init",{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,ecommerce:"dataLayer"}),t=window,c=document,t[n="ymab"]=t[n]||function(){(t[n].a=t[n].a||[]).push(arguments)},(a=c.createElement("script")).async=1,a.src="https://abt.s3.yandex.net/expjs/latest/exp.js",(c=c.getElementsByTagName("script")[0]).parentNode.insertBefore(a,c),window.ymab("metrika.19695820","init"),window.ymab("metrika.19695820","setConfig",{enableJS:!0});var a=window,c=document,u="dataLayer";a[u]=a[u]||[],a[u].push({"gtm.start":(new Date).getTime(),event:"gtm.js"}),a=c.getElementsByTagName("script")[0],(u=c.createElement("script")).async=!0,u.src="//www.googletagmanager.com/gtm.js?id=GTM-MQM9MX",a.parentNode.insertBefore(u,a),c=document,u=window&&"europlan"===window.location.host.split(".")[0]?"9bd818c4-a95c-4efd-814f-3a9724801772":"9c6d24ba-8a96-42f5-95e9-83957226832f",a=c.createElement("script"),c=c.getElementsByTagName("script")[0],a.async=1,a.src="//tagmanager.andata.ru/api/v1/container/"+u+"/published/code.js",c.parentNode.insertBefore(a,c),window.addEventListener("load",function(){var t=!1,n=Object.defineProperty({},"once",{get:function(){}});["scroll","mousemove"].forEach(function(e){return window.addEventListener(e,function(){t||(i.dataLayer("First User Action"),t=!0)},n)})}),this.trackProductView()}},{key:"track",value:function(e){this.disabled?console.log("analytics.track: "+e):ym(19695820,"hit",e)}},{key:"trackEvent",value:function(e,t,n){this.disabled?console.log("analytics.trackEvent: "+"eventCategory: ".concat(e,", eventAction: ").concat(t,", eventLabel: ").concat(n)):ym(19695820,"hit","/SS/".concat(e,"/").concat(t,"/").concat(n))}},{key:"dataLayer",value:function(e){this.disabled?console.log("analytics.dataLayer: "+e):window.dataLayer.push({event:e})}},{key:"trackLeasing",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,a=window.gaCollectorService||new Services.GaCollectorService,r=e,o=(e&&5<=e.length&&(r=e.substr(e.length-5)),t);if(t&&2<=t.length){var s=t.substr(0,2);switch(s){case"КК":s="KK";break;case"ДК":s="DK";break;case"АК":s="AK";break;case"КЛ":s="KL";break;case"ДЛ":s="DL";break;case"ЛК":s="LK";break;case"ДЗ":s="DZ";break;case"КЗ":s="KZ"}o=s+t.substr(2)}t=a.getTracking(o,e,window.k50GeoRegion+"#"+window.k50GeoCity,window.k50uuid);this.disabled?console.log("analytics.trackLeasing: "+t+" : "+r+" | "+o):(this.dataLayerPush({event:t,PhoneTop:r,SourceAttr:n,Source:i,ecommerce:{purchase:{actionField:{id:o,goal_id:"4238023",coupon:n},products:[{id:"xx"+r,name:"Phone_xx"+r,variant:i}]}}}),ym(19695820,"hit",t))}},{key:"dataLayerPush",value:function(e){this.disabled?console.log("analytics.dataLayerPush: "+JSON.stringify(e||{})):window.dataLayer.push(e)}},{key:"trackProductView",value:function(){var e=window.dataLayer.find(function(e){return e.ProductCategory});e&&(this.disabled?console.log("analytics.trackProductView: "+e.ProductCategory):this.trackEvent("Products","Viewed Product Detail",(e["Page Type"]?e["Page Type"]+" / ":"")+e.ProductCategory+(e.ProductId?" - "+e.ProductId:"")))}}])}();e.Analytics=t}(Shared=Shared||{}),analytics=new Shared.Analytics,null==localStorage?void 0:localStorage.getItem("isExternal")){case"true":analytics.enable();break;case"false":break;default:isExternal()}function isExternal(){isExternalRequest().then(function(e){null!=localStorage&&localStorage.setItem("isExternal",e),"false"!==e&&analytics.enable()}).catch(function(e){analytics.enable()})}function isExternalRequest(){return new Promise(function(e,t){var n=new XMLHttpRequest;n.open("GET",Consts.Urls.api.validation.authUser,!0),n.onload=function(){4===n.readyState&&(200===n.status?e(n.responseText):t({status:this.status,statusText:n.statusText}))},n.onerror=function(){t({status:this.status,statusText:n.statusText})},n.send()})}function ga(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i={message:'Google Analitycs event "ga"',rawUrl:window.location.href,userAgent:window.navigator.userAgent,data:t};JL("Angular").warn(i)}function gtag(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i={message:'Google Analitycs event "gtag"',rawUrl:window.location.href,userAgent:window.navigator.userAgent,data:t};JL("Angular").warn(i)}(Shared||(Shared={})).TextValuePair=_createClass(function e(t,n){_classCallCheck(this,e),this.value=t,this.text=n}),ngApp.main.component("autoSearch",{templateUrl:"/components/auto-search/auto-search.html",controller:["$element","$scope","apiDataService","$timeout","$q",function(e,t,n,i,a){return new Components.AutoSearchController(e,t,n,i,a)}]}),function(e){var t=function(){function o(e,t,n,i,a){var r=this;_classCallCheck(this,o),this.$element=e,this.$scope=t,this.apiDataService=n,this.$timeout=i,this.$q=a,this.searchFilter=new Models.SearchFilter([6,8,9,10,11,13,14],null,null,Models.PageType.AllStock,null,null),this.vehicleSuperTypes=[{label:"Легковые автомобили",value:new Models.SearchFilter([8],[2]),disabled:!1},{label:"Лёгкий коммерческий транспорт",value:new Models.SearchFilter([9],[6]),disabled:!1},{label:"Грузовой транспорт",value:new Models.SearchFilter([9],[5,7]),disabled:!1},{label:"Спецтехника",value:new Models.SearchFilter([6,11],[3]),disabled:!0},{label:"Прицепы и полуприцепы",value:new Models.SearchFilter([13,14],[9]),disabled:!0},{label:"Автобусы",value:new Models.SearchFilter([10],[1]),disabled:!0},{label:"Мототехника",value:new Models.SearchFilter([12,6],null,[17,166]),disabled:!0}],this.delayInMs=500,t.$watch(function(){return r.searchFilter.pageType},function(e){e&&(r.updateFilterValues().then(function(){n.getBrandStats(r.getClearUrl(r.filterValues.url)).then(function(e){r.brandsWithLogos=e.slice(0,15)}).finally(function(){setTimeout(function(){lazyLoadInstance.update()},0)})}),r.clearInput("vehicleSuperTypesInput"),r.clearInput("brandsInput"),r.clearInput("modelsInput"),r.trackEvent("Состояние"))}),t.$watch(function(){return r.selectedVehicleSuperType},function(e,t){var n;e?(r.searchFilter.vehicleSuperTypes=null==(n=e.originalObject)?void 0:n.value.vehicleSuperTypes,r.searchFilter.vehicleCategories=null==(n=e.originalObject)?void 0:n.value.vehicleCategories,r.searchFilter.vehicleTypeIds=null==(n=e.originalObject)?void 0:n.value.vehicleTypeIds,r.updateFilterValues(),r.trackEvent("Тип ТС")):t&&!e&&(r.searchFilter=new Models.SearchFilter([6,8,9,10,11,13,14],null,null,Models.PageType.AllNewAdvert,null,null),r.updateFilterValues()),r.clearInput("brandsInput"),r.clearInput("modelsInput")}),t.$watch(function(){return r.selectedBrand},function(e,t){var n;e?(r.searchFilter.brands=[null==(n=e.originalObject)?void 0:n.value],r.updateFilterValues(),r.trackEvent("Марка")):t&&!e&&(r.searchFilter.brands=null,r.updateFilterValues()),r.clearInput("modelsInput")}),t.$watch(function(){return r.selectedModel},function(e,t){var n;e?(r.searchFilter.models=[null==(n=e.originalObject)?void 0:n.value],r.updateFilterValues(),r.trackEvent("Модель")):t&&!e&&(r.searchFilter.models=null,r.updateFilterValues())})}return o.$inject=["$element","$scope","apiDataService","$timeout","$q"],_createClass(o,[{key:"updateFilterValues",value:function(){var t=this,e=this.$q.defer();return this.filterNotReady=!0,this.$timeout.cancel(this.timeoutPromise),this.timeoutPromise=this.$timeout(function(){t.apiDataService.getFilterValues(t.searchFilter,!1).then(function(e){t.filterValues=e}).finally(function(){t.filterNotReady=!1,e.resolve()})},this.delayInMs),e.promise}},{key:"clearInput",value:function(e){e?this.$scope.$broadcast("angucomplete-alt:clearInput",e):this.$scope.$broadcast("angucomplete-alt:clearInput")}},{key:"getClearUrl",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return e=null==e?void 0:e.split("?")[0],e=t&&null!=e&&e.endsWith("/all")?e.replace("/all","/cars"):e}},{key:"trackEvent",value:function(e){analytics.trackEvent("Forms","Edited Form","Car Search - ".concat(e))}}])}();e.AutoSearchController=t}(Components=Components||{}),angular.module("dealer.web.app").component("calcLfl",{transclude:!0,templateUrl:"/components/calc-lfl/calc-lfl.html",controller:["$element","$scope","apiDataService","urlService","$timeout",function(e,t,n,i,a){return new Components.CalcLflController(e,t,n,i,a)}]}),function(e){var t=function(){return _createClass(function e(t,n,i,a,r){var o,s,l=this;_classCallCheck(this,e),this.$element=t,this.apiDataService=i,this.calc={term:36,advance:30,price:15e5},this.rzSliderOptions={price:{hideLimitLabels:!0,hidePointerLabels:!0,showSelectionBar:!0,floor:5e5,ceil:2e7,step:1e3},advance:{hideLimitLabels:!0,hidePointerLabels:!0,showSelectionBar:!0,floor:10,ceil:49,step:1},term:{hideLimitLabels:!0,hidePointerLabels:!0,showSelectionBar:!0,floor:12,ceil:84,step:1}},this.calcPreset="default",this.calcPresets=[{type:"default",label:"Оптимальные условия",term:36,advance:30},{type:"minPayment",label:"Минимальный платёж",term:84,advance:49}],this.tooltips={payment:Consts.Tooltips.payment,agreementAmount:Consts.Tooltips.agreementAmount},n.$watch(function(){return l.calcPreset},function(t,e){t&&(e&&t!=e&&l.trackEvent("Тип расчёта"),(e=l.calcPresets.find(function(e){return e.type==t})).term&&(l.calc.term=e.term),e.advance&&(l.calc.advance=e.advance),l.redemptionPayment="minPayment"==e.type?Math.round(.4*l.calc.price):1e3)});n.$watchCollection(function(){return[l.calc.price,l.calc.advance,l.calc.term]},function(e,t){e[0]!=t[0]&&(s="Цена"),e[1]!=t[1]&&(s="Аванс"),e[2]!=t[2]&&(s="Срок"),r.cancel(o),o=r(function(){l.trackEvent(s),l.calculate()},500)})},[{key:"calculate",value:function(){var t=this,e="?vehicleTypeId=-1&cost=".concat(this.calc.price,"&advancePercent=").concat(this.calc.advance,"&term=").concat(this.calc.term,"&redemption=").concat(this.redemptionPayment);this.apiDataService.getPayment(e).then(function(e){t.payment=e,t.appreciation=(t.payment.agreementAmount/t.calc.price-1)/t.calc.term*12*100})}},{key:"trackEvent",value:function(e){e&&analytics.trackEvent("Calculator","Edited Calculator","".concat(this.$element[0].nodeName," - ").concat(e))}}])}();e.CalcLflController=t}(Components=Components||{}),angular.module("dealer.web.app").component("calcMain",{bindings:{inputBrand:"<",inputModelId:"<"},templateUrl:"/components/calculator/calc-main.html",controller:["$element","$scope","apiDataService","urlService","$timeout","$cookies",function(e,t,n,i,a,r){return new Components.CalculatorController(e,t,n,i,a,r)}]}),angular.module("dealer.web.app").component("calculator",{bindings:{inputBrand:"<",inputModelId:"<"},templateUrl:"/components/calculator/calculator.html",controller:["$element","$scope","apiDataService","urlService","$timeout","$cookies",function(e,t,n,i,a,r){return new Components.CalculatorController(e,t,n,i,a,r)}]}),function(e){var t=function(){function l(e,t,i,n,a,r){var o,s=this;_classCallCheck(this,l),this.$element=e,this.$scope=t,this.apiDataService=i,this.urlService=n,this.$timeout=a,this.$cookies=r,this.inputVehicleType=this.$element[0].getAttribute("vehicle-type"),this.inputCalcPreset=this.$element[0].getAttribute("calc-preset"),this.inputTermCeil=parseInt(this.$element[0].getAttribute("term-max")),this.vehicleType="cars",this.data={vehicleTypes:[{type:"cars",label:"Легковые"},{type:"commercial",label:"Коммерческие"},{type:"truck",label:"Грузовики"},{type:"special",label:"Спецтехника"},{type:"trailer",label:"Прицепы"},{type:"bus",label:"Автобусы"},{type:"moto",label:"Мототехника"}],calcPresets:[{type:"default",label:"Оптимальные условия",term:36,advance:30},{type:"minPayment",label:"Минимальный платёж",term:this.inputTermCeil||84,advance:49,tooltip:'<i class="tooltip tooltip-n" tooltip="'.concat(Consts.Tooltips.minPayment,'"></i>')},{type:"minOverpay",label:"Без переплат",term:12,advance:49},{type:"minAdvance",label:"Минимальный аванс",advance:0}]},this.calc={term:36,advance:30,price:15e5},this.loadStates={brands:!0,models:!1,options:!1,mdfs:!1},this.rzSliderOptions={price:{hideLimitLabels:!0,hidePointerLabels:!0,showSelectionBar:!0,floor:5e5,ceil:5e7,step:1},advance:{hideLimitLabels:!0,hidePointerLabels:!0,showSelectionBar:!0,floor:0,ceil:49,step:1,minLimit:0},term:{hideLimitLabels:!0,hidePointerLabels:!0,showSelectionBar:!0,floor:12,ceil:this.inputTermCeil||84,step:1}},this.urls={image:"",automarket:""},this.advanceWarning=!1,this.isCalculating=!0,this.delayInMs=1500,this.tooltips={price:Consts.Tooltips.price,payment:Consts.Tooltips.payment,minPayment:Consts.Tooltips.minPayment,creditedVAT:Consts.Tooltips.creditedVAT,taxSavings:Consts.Tooltips.taxSavings,agreementAmount:Consts.Tooltips.agreementAmount},this.addWebpQuery=Modernizr.webp?"&f=webp":"",this.inputVehicleType&&(this.vehicleType=this.inputVehicleType,this.data.vehicleTypes.unshift(this.data.vehicleTypes.splice(this.data.vehicleTypes.findIndex(function(e){return e.type==s.inputVehicleType}),1)[0])),this.inputCalcPreset?(this.calcPreset=this.inputCalcPreset,this.data.calcPresets.unshift(this.data.calcPresets.splice(this.data.calcPresets.findIndex(function(e){return e.type==s.inputCalcPreset}),1)[0]),a(function(){t.$broadcast("rzSliderForceRender")})):this.calcPreset="default",t.$watch(function(){return s.vehicleType},function(e,t){e&&(t&&e!=t&&s.trackEvent("Тип ТС"),s.clearInput(),s.loadStates.models=s.loadStates.options=s.loadStates.mdfs=!1,s.loadStates.brands=!0,s.calculateWithDebounce())}),t.$watch(function(){return s.brand},function(e){s.clearInput("modelsInput"),e?(s.dataLayerPush("ep.calcBrandSelect"),s.trackEvent("Марка"),i.getAutomarketModelGroupsByFilter(JSON.stringify(null==(e=e.originalObject)?void 0:e.filter)).then(function(e){s.models=null==(e=e.modelGroups)?void 0:e.map(function(e){return e})}).finally(function(){s.inputModelId&&s.$scope.$broadcast("angucomplete-alt:changeInput","modelsInput",s.models.find(function(e){return e.modelId==s.inputModelId})),s.loadStates.models=!0}),s.calculateWithDebounce()):s.loadStates.models=s.loadStates.options=s.loadStates.mdfs=!1}),t.$watch(function(){return s.model},function(n){var e;s.clearInput("mdfsInput"),n?(s.dataLayerPush("ep.calcModelSelect"),s.trackEvent("Модель"),s.urls.image="/image/model/".concat(null==(e=n.originalObject)?void 0:e.modelId,"?w=320&h=240").concat(s.addWebpQuery),s.urls.automarket=null==(e=n.originalObject)?void 0:e.url,i.getMdfGroups(null==(e=n.originalObject)?void 0:e.url).then(function(e){var t;"cars"==s.vehicleType&&(0<(null==(t=n.originalObject)?void 0:t.supplierMedianCost)?(s.calc.price=null==(t=n.originalObject)?void 0:t.supplierMedianCost,s.rzSliderOptions.price.floor=s.getMinPrice(null==(t=n.originalObject)?void 0:t.supplierMinCost),s.rzSliderOptions.price.ceil=s.getMaxPrice(null==(t=n.originalObject)?void 0:t.supplierMaxCost)):0<(null==(t=null==(t=n.originalObject)?void 0:t.priceAdvert)?void 0:t.lower)?(s.calc.price=null==(t=n.originalObject)?void 0:t.priceAdvert.lower,s.rzSliderOptions.price.floor=s.getMinPrice(null==(t=n.originalObject)?void 0:t.priceAdvert.lower),s.rzSliderOptions.price.ceil=s.getMaxPrice(null==(t=n.originalObject)?void 0:t.priceAdvert.upper)):0<(null==(t=null==(t=n.originalObject)?void 0:t.price)?void 0:t.lower)&&(s.calc.price=null==(t=n.originalObject)?void 0:t.price.lower,s.rzSliderOptions.price.floor=s.getMinPrice(null==(t=n.originalObject)?void 0:t.price.lower),s.rzSliderOptions.price.ceil=s.getMaxPrice(null==(t=n.originalObject)?void 0:t.price.upper))),s.discountRub=null==(t=n.originalObject)?void 0:t.discountRub,s.mdfs=e,s.calculateWithDebounce(),0<s.mdfs.length&&(s.loadStates.mdfs=!0,s.$scope.$broadcast("angucomplete-alt:changeInput","mdfsInput",s.mdfs[0]))})):(s.urls.image="",s.loadStates.options=s.loadStates.mdfs=!1)}),t.$watch(function(){return s.mdf},function(e){var t;s.clearInput("optionsInput"),e?(s.trackEvent("Модификация"),0<(null==(t=e.originalObject)?void 0:t.minPrice)?(s.calc.price=null==(t=e.originalObject)?void 0:t.minPrice,s.rzSliderOptions.price.floor=s.getMinPrice(null==(t=e.originalObject)?void 0:t.minPrice),s.rzSliderOptions.price.ceil=s.getMaxPrice(null==(t=e.originalObject)?void 0:t.maxPrice)):0<(null==(t=e.originalObject)?void 0:t.advertMinPrice)&&(s.calc.price=null==(t=e.originalObject)?void 0:t.advertMinPrice,s.rzSliderOptions.price.floor=s.getMinPrice(null==(t=e.originalObject)?void 0:t.advertMinPrice)),"cars"!=s.vehicleType&&(s.urls.image="/image/modification/".concat(null==(t=e.originalObject)?void 0:t.id,"?w=320&h=240&crop=false").concat(s.addWebpQuery)),s.options=null==(t=e.originalObject)?void 0:t.options,s.loadStates.options=!0,s.options&&s.$scope.$broadcast("angucomplete-alt:changeInput","optionsInput",s.options[0]),s.calculateWithDebounce()):s.loadStates.options=!1}),t.$watch(function(){return s.option},function(e){var t;e&&(s.trackEvent("Комплектация"),s.urls.automarket=null==(t=e.originalObject)?void 0:t.url,0<(null==(t=e.originalObject)?void 0:t.price)&&(s.calc.price=null==(t=e.originalObject)?void 0:t.price),s.calculateWithDebounce())}),t.$watch(function(){return s.calcPreset},function(t,e){var n;t&&(e&&t!=e&&s.trackEvent("Тип расчёта"),(e=s.data.calcPresets.find(function(e){return e.type==t})).term&&(s.calc.term=e.term),s.model&&(null==(n=s.model.originalObject)?void 0:n.minAdvance)>e.advance?s.calc.advance=null==(n=s.model.originalObject)?void 0:n.minAdvance:s.rzSliderOptions.advance.floor>e.advance?s.calc.advance=s.rzSliderOptions.advance.floor:s.calc.advance=e.advance)}),t.$watchCollection(function(){return[s.calc.price,s.calc.advance,s.calc.term]},function(e,t){var n;s.model&&s.setMinAdvance(null==(n=s.model.originalObject)?void 0:n.minAdvance),e[0]!=t[0]&&(o="Цена"),e[1]!=t[1]&&(o="Аванс"),e[2]!=t[2]&&(o="Срок",60<e[2]?(s.rzSliderOptions.advance.minLimit=10,s.calc.advance<10&&(s.calc.advance=10)):s.rzSliderOptions.advance.minLimit=0),s.advanceWarning=s.calc.advance<=10&&60<s.calc.term,s.calculateWithDebounce(o)})}return l.$inject=["$element","$scope","apiDataService","urlService","$timeout","$cookies"],_createClass(l,[{key:"$onInit",value:function(){var t=this;this.inputBrand&&this.inputBrand.id&&setTimeout(function(){t.apiDataService.getAutomarketBrands(t.inputVehicleType).then(function(e){t.$scope.$broadcast("angucomplete-alt:changeInput","brandsInput",e.find(function(e){return e.id==t.inputBrand.id}))}),t.inputBrand.discountPercent&&(t.discountRub=Math.round(t.calc.price*t.inputBrand.discountPercent/100))},0)}},{key:"clearInput",value:function(e){e?this.$scope.$broadcast("angucomplete-alt:clearInput",e):this.$scope.$broadcast("angucomplete-alt:clearInput")}},{key:"calculateWithDebounce",value:function(e){var t=this;this.isCalculating=!0,this.$timeout.cancel(this.timeoutPromise),this.timeoutPromise=this.$timeout(function(){t.calculate(),e&&t.trackEvent(e)},this.delayInMs)}},{key:"calculate",value:function(){var t=this,e="?vehicleTypeId=".concat("cars"==this.vehicleType?9:"undefined","&makeId=").concat(null==(e=null==(e=this.brand)?void 0:e.originalObject)?void 0:e.id,"&modelId=").concat(null==(e=null==(e=this.model)?void 0:e.originalObject)?void 0:e.modelId,"&modificationId=").concat(null==(e=null==(e=this.mdf)?void 0:e.originalObject)?void 0:e.id,"&optionId=").concat(null==(e=null==(e=this.option)?void 0:e.originalObject)?void 0:e.id,"&cost=").concat(this.calc.price,"&advancePercent=").concat(this.calc.advance,"&term=").concat(this.calc.term);this.apiDataService.getPayment(e).then(function(e){t.payment=e}).finally(function(){return t.isCalculating=!1})}},{key:"setMinAdvance",value:function(e){var t=this;this.$timeout(function(){t.rzSliderOptions.advance.floor=e})}},{key:"trackEvent",value:function(e){e&&analytics.trackEvent("Calculator","Edited Calculator","".concat(this.$element[0].nodeName," - ").concat(e))}},{key:"dataLayerPush",value:function(e){var t;this.model?analytics.dataLayerPush({event:e,data:{type:Models.DataLayer.LeasingAssetType.Vehicle,makeName:null==(t=this.model.originalObject)?void 0:t.brandName,makeId:null==(t=this.model.originalObject)?void 0:t.brandId,modelName:null==(t=this.model.originalObject)?void 0:t.modelName,modelId:null==(t=this.model.originalObject)?void 0:t.modelId,cost:null==(t=this.model.originalObject)?void 0:t.price.lower,discountPercent:null==(t=this.model.originalObject)?void 0:t.discountPercent,discountRub:null==(t=this.model.originalObject)?void 0:t.discountRub,payment:null==(t=this.model.originalObject)?void 0:t.payment}}):this.brand&&analytics.dataLayerPush({event:e,data:{type:Models.DataLayer.LeasingAssetType.Vehicle,makeName:null==(t=this.brand.originalObject)?void 0:t.name,makeId:null==(e=this.brand.originalObject)?void 0:e.id}})}},{key:"onRequest",value:function(){var e;this.model&&this.$cookies.putObject(Consts.Cookies.leasingAsset,{type:Models.DataLayer.LeasingAssetType.Vehicle,isUsed:!1,makeName:null==(e=null==(e=this.brand)?void 0:e.originalObject)?void 0:e.name,makeId:null==(e=null==(e=this.brand)?void 0:e.originalObject)?void 0:e.id,modelName:null==(e=null==(e=this.model)?void 0:e.originalObject)?void 0:e.modelName,modelId:null==(e=null==(e=this.model)?void 0:e.originalObject)?void 0:e.modelId,cost:this.calc.price,discountOrSubsidy:null!=(e=null==(e=this.model)?void 0:e.originalObject)&&e.discountRub?(null==(e=null==(e=this.model)?void 0:e.originalObject)?void 0:e.discountLabel)+" "+(null==(e=null==(e=this.model)?void 0:e.originalObject)?void 0:e.discountRub)+"руб.":"",payment:this.payment.payment}),this.$cookies.putObject(Consts.Cookies.leasingCalculation,{term:this.calc.term,price:this.calc.price,advance:this.calc.advance,payment:this.payment}),this.dataLayerPush("Basket")}},{key:"getMinPrice",value:function(e){return 1e3*Math.round(.7*e/1e3)}},{key:"getMaxPrice",value:function(e){return 1e3*Math.round(1.3*e/1e3)}}])}();e.CalculatorController=t}(Components=Components||{}),angular.module("dealer.web.app").component("compareModels",{templateUrl:"/components/compare-models/compare-models.html",controller:["$element","apiDataService","$scope","$timeout","$location",function(e,t,n,i,a){return new Components.CompareModelsController(e,t,n,i,a)}]}),function(e){var t=function(){return _createClass(function e(t,n,i,a,r){var o,s,l=this;_classCallCheck(this,e),this.$element=t,this.apiDataService=n,this.$scope=i,this.$location=r,this.rzSliderOptions={advance:{hideLimitLabels:!0,hidePointerLabels:!0,showSelectionBar:!0,floor:0,ceil:49,step:1},term:{hideLimitLabels:!0,hidePointerLabels:!0,showSelectionBar:!0,floor:12,ceil:84,step:1}},this.calc={term:36,advance:30},this.isVATcredited=!0,this.modelsLoad=!1,this.editorMode=!1,this.addMode=!1,this.modelIds=this.$element[0].getAttribute("model-ids"),this.sourceModelId=this.$element[0].getAttribute("source-model-id"),this.modelIds?this.apiDataService.getModelGroupsByModelsIds(this.modelIds).then(function(e){l.inputModels=e}).finally(function(){setTimeout(function(){lazyLoadInstance.update()},0)}):this.sourceModelId&&this.apiDataService.getSimilarCars(this.sourceModelId).then(function(e){l.inputModels=e}).finally(function(){setTimeout(function(){lazyLoadInstance.update()},0)}),i.$watch(function(){return l.inputModels},function(){l.inputModels&&(l.modelGroupsWithPayment=l.inputModels.map(function(e){return{modelGroup:e,payment:null}}))}),i.$watch(function(){return l.modelGroupsWithPayment},function(){l.modelGroupsWithPayment&&(l.trackEvent("Модели"),l.calculate())});i.$watchCollection(function(){return[l.calc.advance,l.calc.term]},function(e,t){e[0]!=t[0]&&(s="Аванс"),e[1]!=t[1]&&(s="Срок"),a.cancel(o),o=a(function(){l.modelGroupsWithPayment&&(l.trackEvent(s),l.calculate())},500)}),i.$watch(function(){return l.brand},function(e){l.clearInput("modelsInput"),e&&(l.trackEvent("Марка"),n.getModelGroupsByBrandId(null==(e=e.originalObject)?void 0:e.id).then(function(e){l.models=(e||[]).map(function(e){return e})}).finally(function(){l.modelsLoad=!0}))}),i.$watch(function(){return l.addMode},function(){l.addMode&&l.trackEvent("Добавление модели")}),i.$watch(function(){return l.isVATcredited},function(e,t){e!=t&&l.trackEvent("НДС")})},[{key:"$onInit",value:function(){this.$location.hash()&&this.$location.hash("")}},{key:"calculate",value:function(){var n=this;this.modelGroupsWithPayment.forEach(function(t){var e=t.modelGroup.price.lower,e="?cost=".concat(e,"&vehicleTypeId=").concat(t.modelGroup.vehicleTypeId,"&makeId=").concat(t.modelGroup.brandId,"&modelId=").concat(t.modelGroup.modelId,"&advancePercent=").concat(n.calc.advance,"&term=").concat(n.calc.term);n.apiDataService.getPayment(e).then(function(e){t.payment=e})})}},{key:"add",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=null==(n=this.model.originalObject)?void 0:n.price.lower,n="?cost=".concat(n,"&vehicleTypeId=").concat(null==(n=this.model.originalObject)?void 0:n.vehicleTypeId,"&makeId=").concat(null==(n=this.model.originalObject)?void 0:n.brandId,"&modelId=").concat(null==(n=this.model.originalObject)?void 0:n.modelId,"&advancePercent=").concat(this.calc.advance,"&term=").concat(this.calc.term),i={modelGroup:this.model.originalObject};this.apiDataService.getPayment(n).then(function(e){i.payment=e}).finally(function(){t?(e.modelGroupsWithPayment?e.modelGroupsWithPayment.unshift(i):e.modelGroupsWithPayment=[i],e.addMode=!1):(e.modelGroupsWithPayment.push(i),e.$location.hash("modelAdded"))}),this.trackEvent("Модели")}},{key:"remove",value:function(e){this.modelGroupsWithPayment.splice(e,1)}},{key:"clearInput",value:function(e){e?this.$scope.$broadcast("angucomplete-alt:clearInput",e):this.$scope.$broadcast("angucomplete-alt:clearInput")}},{key:"trackEvent",value:function(e){e?analytics.trackEvent("Calculator","Edited Calculator","".concat(this.$element[0].nodeName," - ").concat(e)):analytics.trackEvent("Calculator","Opened Calculator","".concat(this.$element[0].nodeName))}}])}();e.CompareModelsController=t}(Components=Components||{}),function(e){var t;e=e.Base||(e.Base={}),t=function(){function a(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Object,i=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],t=(_classCallCheck(this,a),this.$element=e,this.submitter=t,this.TModelClass=n,this.clearOnSubmit=i,this._isSending=!1,this._isSended=!1,this._isSuccessful=!1,this._isDeclined=!1,this._ctPhoneNumber="78002508080",e.injector());this.$http=t.get("$http"),this.$q=t.get("$q"),this.$rootScope=t.get("$rootScope"),this.notifier=t.get("notifier"),this.$cookies=t.get("$cookies"),this.initModel(),this.formName=null==(n=e[0].querySelector("[ng-form]"))?void 0:n.getAttribute("ng-form"),this.formName||JL("Angular").error('Cannot read property "getAttribute" of null '.concat(window.location.href," ").concat(e[0].innerHTML))}return a.$inject=["$element","submitter"],_createClass(a,[{key:"isSending",value:function(){return this._isSending}},{key:"isSended",value:function(){return this._isSended}},{key:"isSuccessful",value:function(){return this._isSuccessful}},{key:"isDeclined",value:function(){return this._isDeclined}},{key:"errorMessage",value:function(){return this._errorMessage}},{key:"appNum",value:function(){return this._appNum}},{key:"message",value:function(){return this._message}},{key:"isLfl",value:function(){return this._appResultType==Enums.AppSubmitResultType.CtaTypePerson}},{key:"ctPhoneNumber",value:function(){return this._ctPhoneNumber}},{key:"submit",value:function(){var t=this,e=this.$q.defer();return this._isSending?(e.resolve(),e.promise):(this._isSending=!0,this.preSend().then(function(){return t.submitter.submit(t.getModel()).then(function(e){return t.processSuccess(e)}).finally(function(){t._isSending=!1})},function(e){e=new Models.Applications.SubmitServerResult(e);return e.status=Enums.AppSubmitStatusEnum.NotSended,t._isSending=!1,e}))}},{key:"clearForm",value:function(){this.initModel(),this.formCtrl&&this.formCtrl.$setPristine()}},{key:"reinitialyze",value:function(){this._isSended=this._isSending=this._isDeclined=this._isSuccessful=!1,this._appResultType=void 0,this.$cookies.remove("anti_s_short_leasing_application")}},{key:"preSend",value:function(){var e=this.$q.defer();return e.resolve(),e.promise}},{key:"initModel",value:function(){this.model=new this.TModelClass}},{key:"showError",value:function(e){this.notifier.error(this._errorMessage||"Ошибка")}},{key:"getModel",value:function(){var e="undefined"!=typeof ct&&ct("calltracking_params"),e=(e&&(this.model.callTouchParams=JSON.stringify(e),this._ctPhoneNumber=null==(e=e[0])?void 0:e.phoneNumbers[0]),this.$cookies.getObject("location"));return e&&(this.model.regionId=null==(e=null==(e=e.location)?void 0:e.data)?void 0:e.region_fias_id),this.model}},{key:"processSuccess",value:function(e){switch(e.status){case Enums.AppSubmitStatusEnum.Success:this._appNum=e.appNumber,this._isSuccessful=!0,this._isSended=!0,this._message=e.message,this._appResultType=e.appResultType,e.appResultType==Enums.AppSubmitResultType.DeferredApplication?(this.$rootScope.$broadcast("DeferredApp_Number",this._appNum),location.hash="deferred-form"):e.appResultType==Enums.AppSubmitResultType.CtaTypePerson&&(this.$cookies.remove("anti_s_short_leasing_application"),this.$cookies.put("anti_s_short_leasing_lfl","true",{path:"/"}),this.clearOnSubmit=!1),analytics.trackEvent("Forms","Sent Form","".concat(this.formName," - ").concat(e.appNumber)),this.sendOrgFormClarificationEvent(this.model.ctaType),this.clearOnSubmit&&this.clearForm();break;case Enums.AppSubmitStatusEnum.Decline:this._isDeclined=!0,this._isSended=!0,this._errorMessage=e.message,analytics.trackEvent("Forms","Decline Form",this.formName);break;default:this._errorMessage=e.message,this.showError(e)}return e}},{key:"sendOrgFormClarificationEvent",value:function(e){if(e&&this.clearOnSubmit)switch(e){case Enums.CtaTypes.LegalEntity:this.trackOrgForm("true");break;case Enums.CtaTypes.Person:this.trackOrgForm("false");break;case Enums.CtaTypes.Entrepreneur:this.trackOrgForm("ip")}}},{key:"trackOrgForm",value:function(e){analytics.trackEvent("OrgFormClarification","IsCompany",e)}}])}(),e.BaseAppCtrl=t}(Controllers=Controllers||{}),function(e){var t=function(){return _createClass(function e(t,n,i,a){_classCallCheck(this,e),this.$element=t,this.submitUrl=n,this.onSuccessTrack=i,this.onDeclineTrack=a,this._onSuccess=new Models.LiteEvent,this._onDecline=new Models.LiteEvent,this._onError=new Models.LiteEvent;n=t.injector();this.$http=n.get("$http"),this.$q=n.get("$q"),this.$rootScope=n.get("$rootScope"),null!=i&&("string"==typeof i?this._onSuccess.on(function(e){e.serverResult&&!1===e.serverResult.pushRequired||(analytics.track(i),analytics.dataLayer(i))}):"function"==typeof i&&this._onSuccess.on(i)),null!=a&&("string"==typeof a?this._onDecline.on(function(e){e.serverResult&&!1===e.serverResult.pushRequired||(analytics.track(a),analytics.dataLayer(a))}):"function"==typeof i&&this._onDecline.on(a))},[{key:"onSuccess",value:function(){return this._onSuccess}},{key:"onDecline",value:function(){return this._onDecline}},{key:"onError",value:function(){return this._onError}},{key:"submit",value:function(n){var i=this,a=this.$q.defer();return this.$http.post(this.submitUrl,n).then(function(e){var e=i.getSubmitResult(e.data),t=new Models.SubmitResult(n,e);i._onSuccess.trigger(t),i.$rootScope.$broadcast(Enums.AppRequestEventNames.ApplicationSuccess,t),a.resolve(e)}).catch(function(e){var e=i.getErrorResult(e.data),t=new Models.SubmitResult(n,e);(e.status==Enums.AppSubmitStatusEnum.Decline?i._onDecline:i._onError).trigger(t),i.$rootScope.$broadcast(Enums.AppRequestEventNames.ApplicationDeclined,t),a.resolve(e)}),a.promise}},{key:"getSubmitResult",value:function(e){var t=new Models.Applications.SubmitServerResult(e);return t.status=Enums.AppSubmitStatusEnum.Success,e.appNumber?t.appNumber=e.appNumber:t.appNumber=e,e.sourceTrackString&&(t.sourceTrackString=e.sourceTrackString),e.lastSource&&(t.lastSource=e.lastSource),t.pushRequired=!1!==e.pushRequired,t.deferred=!0===e.deferred,e.message&&(t.message=e.message),void 0!==e.appResultType&&(t.appResultType=e.appResultType),t}},{key:"getErrorResult",value:function(e){var t=new Models.Applications.SubmitServerResult(e);return e.error&&e.error.code&&e.error.code==Enums.SiteErrorEnum.Declined?(t.status=Enums.AppSubmitStatusEnum.Decline,t.message=e.error.message):e.error&&e.error.code?(t.status=Enums.AppSubmitStatusEnum.Validation,t.errorCode=e.error.code,t.message=e.error.message):t.status=Enums.AppSubmitStatusEnum.Fatal,t}}])}();e.AppBaseSubmitter=t}(Services=Services||{}),function(e){var t=function(e){function a(e,t,n){var i;return _classCallCheck(this,a),(i=_callSuper(this,a,[e,new r(e),o])).model=new o,i.kind=i.$element[0].getAttribute("kind"),i.brandId=parseInt(i.$element[0].getAttribute("brand-id")),i.modelId=parseInt(i.$element[0].getAttribute("model-id")),i.brandId&&"ModelEstimation"==i.kind&&n.getModelGroupsByBrandId(i.brandId).then(function(e){i.models=e}).then(function(){i.modelId&&(i.model.modelId=i.modelId)}),i}return a.$inject=["$element","$scope","apiDataService"],_inherits(a,e),_createClass(a,[{key:"$onInit",value:function(){this.model.kind=this.kind}}])}(Controllers.Base.BaseAppCtrl),r=(e.EmailSubscriptionController=t,function(){function t(e){return _classCallCheck(this,t),_callSuper(this,t,[e,"/emailsubscription/save",Consts.AnalyticTracks.emailSubscription.send,Consts.AnalyticTracks.emailSubscription.decline])}return _inherits(t,Services.AppBaseSubmitter),_createClass(t)}()),o=_createClass(function e(){_classCallCheck(this,e)})}(Components=Components||{}),angular.module("dealer.web.app").component("epDisclaimer",{templateUrl:"/components/ep-disclaimer/ep-disclaimer.html",controller:Components.EpPopupDisclaimer}),angular.module("dealer.web.app").component("gridAdvert",{templateUrl:"/components/grid-advert/grid-advert.html",bindings:{inputAdvertId:"<"},controller:["$element","$scope","$cookies","$timeout","apiDataService",function(e,t,n,i,a){return new Components.GridAdvert(e,t,n,i,a)}]}),function(e){var t=function(){return _createClass(function e(t,n,i,a,r){var o=this;_classCallCheck(this,e),this.$element=t,this.$cookies=i,this.apiDataService=r,this.tooltips={price:Consts.Tooltips.price,payment:Consts.Tooltips.payment,minPayment:Consts.Tooltips.minPayment,creditedVAT:Consts.Tooltips.creditedVAT,taxSavings:Consts.Tooltips.taxSavings,agreementAmount:Consts.Tooltips.agreementAmount},this.offsetTop=0,this.gallery=!1,n.$watch(function(){return o.inputAdvertId},function(e){e&&r.getAdvertDetails(o.inputAdvertId).then(function(e){o.advertDetails=e,o.activeImageId=o.advertDetails.images[0],o.activeImageIndex=0,o.calculate()})}),angular.element(t[0].querySelector(".ep-photothumbs__container")).bind("scroll",function(){o.offsetTop=o.$element[0].querySelector(".ep-photothumbs__container").scrollTop})},[{key:"calculate",value:function(){var t=this,e="?vehicleTypeId=".concat(this.advertDetails.optionId?9:"undefined","&makeId=").concat(this.advertDetails.brandId,"&modelId=").concat(this.advertDetails.modelId,"&modificationId=").concat(this.advertDetails.mdfId,"&optionId=").concat(this.advertDetails.optionId,"&cost=").concat(this.advertDetails.advertPrice,"&advancePercent=49&term=84");this.apiDataService.getPayment(e).then(function(e){t.payment=e})}},{key:"onRequest",value:function(){this.$cookies.putObject(Consts.Cookies.leasingAsset,{type:Models.DataLayer.LeasingAssetType.Advert,isUsed:!0,makeId:this.advertDetails.brandId,makeName:this.advertDetails.brandName,modelId:this.advertDetails.modelId,modelName:this.advertDetails.modelName,mdfId:this.advertDetails.mdfId,optionId:this.advertDetails.optionId,advertId:this.advertDetails.advertId,cost:this.advertDetails.advertPrice,payment:this.payment.payment,tradeIn:this.tradeIn})}},{key:"scrollDown",value:function(){this.offsetTop<82*(this.advertDetails.images.length-4)&&(this.offsetTop=this.offsetTop+82,this.$element[0].querySelector(".ep-photothumbs__container").scrollTop=this.offsetTop)}},{key:"scrollUp",value:function(){0<this.offsetTop&&(this.offsetTop=this.offsetTop-82,this.$element[0].querySelector(".ep-photothumbs__container").scrollTop=this.offsetTop)}},{key:"nextImg",value:function(){this.activeImageId=this.advertDetails.images[++this.activeImageIndex],3<this.activeImageIndex&&this.scrollDown()}},{key:"prevImg",value:function(){this.activeImageId=this.advertDetails.images[--this.activeImageIndex],this.activeImageIndex<this.advertDetails.images.length-4&&this.scrollUp()}},{key:"showGallery",value:function(){var e=this;this.gallery=!0,setTimeout(function(){e.glider=new Glider(e.$element[0].querySelector(".ep-esg-gallery"),{dots:".ep-esg-gallery-dots",slidesToScroll:1,arrows:{prev:".advert-glider-prev",next:".advert-glider-next"}}),e.glider.scrollItem(e.activeImageIndex,!0)},0)}},{key:"hideGallery",value:function(){this.gallery=!1}}])}();e.GridAdvert=t}(Components=Components||{}),angular.module("dealer.web.app").component("gridVehicleCalc",{templateUrl:"/components/grid-vehicle-calc/grid-vehicle-calc.html",bindings:{inputModel:"<"},controller:["$scope","$timeout","apiDataService","$cookies",function(e,t,n,i){return new Components.GridVehicleCalcController(e,t,n,i)}]}),function(e){var t=function(){return _createClass(function e(t,n,i,a){var r,o,s=this;_classCallCheck(this,e),this.apiDataService=i,this.$cookies=a,this.calc={term:84,advance:49,price:0},this.rzSliderOptions={price:{hideLimitLabels:!0,hidePointerLabels:!0,showSelectionBar:!0,floor:5e5,ceil:5e7,step:10},advance:{hideLimitLabels:!0,hidePointerLabels:!0,showSelectionBar:!0,floor:0,ceil:49,step:1,minLimit:0},term:{hideLimitLabels:!0,hidePointerLabels:!0,showSelectionBar:!0,floor:12,ceil:84,step:1}},this.advanceWarning=!1,this.vehicleTypeId=9,t.$watch(function(){return s.inputModel},function(e){e&&n(function(){s.calc.price=e.price,e.isCar||(s.vehicleTypeId=10)},0)});t.$watchCollection(function(){return[s.calc.price,s.calc.advance,s.calc.term]},function(e,t){e[0]!=t[0]&&(o="Цена"),e[1]!=t[1]&&(o="Аванс"),e[2]!=t[2]&&(o="Срок",60<e[2]?(s.rzSliderOptions.advance.minLimit=10,s.calc.advance<10&&(s.calc.advance=10)):s.rzSliderOptions.advance.minLimit=0),s.advanceWarning=s.calc.advance<=10&&60<s.calc.term,n.cancel(r),r=n(function(){s.trackEvent(o),s.calculate()},500)})},[{key:"calculate",value:function(){var e,t=this;this.calc.price&&0<=this.calc.advance&&this.calc.term&&(e="?cost=".concat(this.calc.price,"&advancePercent=").concat(this.calc.advance,"&term=").concat(this.calc.term)+"&vehicleTypeId=".concat(this.vehicleTypeId,"&makeId=").concat(this.inputModel.brandId,"&modelId=").concat(this.inputModel.modelId),this.apiDataService.getPayment(e).then(function(e){t.payment=e}))}},{key:"trackEvent",value:function(e){e&&analytics.trackEvent("Calculator","Edited Calculator","".concat(e))}},{key:"onRequest",value:function(){this.$cookies.putObject(Consts.Cookies.leasingCalculation,{term:this.calc.term,price:this.calc.price,advance:this.calc.advance,payment:this.payment})}}])}();e.GridVehicleCalcController=t}(Components=Components||{}),angular.module("dealer.web.app").component("gridVehicleCard",{templateUrl:"/components/grid-vehicle-card/grid-vehicle-card.html",bindings:{inputModel:"<",outputModelId:"=",outputModelPopup:"=",outputAdvertPopup:"=",showAnaloguesLink:"<"},controller:["$element","$scope","$cookies","$timeout",function(e,t,n,i){return new Components.GridVehicleCardController(e,t,n,i)}]}),function(e){var t=function(){return _createClass(function e(t,n,i,a){_classCallCheck(this,e),this.$element=t,this.$scope=n,this.$cookies=i,this.$timeout=a,this.isMobileView=window.innerWidth<=768,this.showAllCarImages=!1,this.tooltips={price:Consts.Tooltips.price,payment:Consts.Tooltips.payment,minPayment:Consts.Tooltips.minPayment}},[{key:"$onInit",value:function(){var t=this;this.$timeout(function(){lazyLoadInstance.update();var e=t.$element[0].querySelector(".ep-uc_thumb-preview");null!=e&&e.addEventListener("mouseover",function(){return t.showAllCarImagesFunc()},{once:!0}),null!=e&&e.addEventListener("touchmove",function(){return t.showAllCarImagesFunc()},{once:!0})},0)}},{key:"showAllCarImagesFunc",value:function(){this.showAllCarImages=!0,this.$scope.$apply()}},{key:"getFormattedEndDate",value:function(e){return new Date(e).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"})}},{key:"onModelCompare",value:function(){this.outputModelId={modelId:this.inputModel.modelId,brandId:this.inputModel.brandId,name:"".concat(this.inputModel.brandName," ").concat(this.inputModel.modelName),price:this.inputModel.minPrice,isCar:this.inputModel.url.includes("/cars/")},analytics.trackEvent("Interactions","Clicked Link","Посмотреть похожие модели - ".concat(this.inputModel.brandName," ").concat(this.inputModel.modelName))}},{key:"onModelPopup",value:function(){this.inputModel.optionId&&this.inputModel.minPayment&&(this.outputModelPopup={modelId:this.inputModel.modelId,brandId:this.inputModel.brandId,advertId:this.inputModel.advertId,name:"".concat(this.inputModel.brandName," ").concat(this.inputModel.modelName),price:this.inputModel.minPrice,isCar:this.inputModel.url.includes("/cars/"),url:this.inputModel.url.replace("/auto","").replace("/new","")},analytics.trackEvent("Interactions","Opened Popup","GridModel"))}},{key:"onAdvertPopup",value:function(){this.outputAdvertPopup={modelId:this.inputModel.modelId,brandId:this.inputModel.brandId,advertId:this.inputModel.advertId,name:"".concat(this.inputModel.brandName," ").concat(this.inputModel.modelName),price:this.inputModel.minPrice,isCar:this.inputModel.url.includes("/cars/"),url:this.inputModel.url.replace("/new","")},analytics.trackEvent("Interactions","Opened Popup","GridAdvert")}},{key:"onRequest",value:function(){this.$cookies.putObject(Consts.Cookies.leasingAsset,{type:this.inputModel.type==Enums.GridVehicleCardType.New?Models.DataLayer.LeasingAssetType.Vehicle:Models.DataLayer.LeasingAssetType.Advert,isUsed:this.inputModel.type==Enums.GridVehicleCardType.Used,makeName:this.inputModel.brandName,makeId:this.inputModel.brandId,modelName:this.inputModel.modelName,modelId:this.inputModel.modelId,mdfId:this.inputModel.mdfId,optionId:this.inputModel.optionId,advertId:this.inputModel.advertId,cost:this.inputModel.minPrice,discountOrSubsidy:this.inputModel.discountOrSubsidy,payment:this.inputModel.minPayment})}}])}();e.GridVehicleCardController=t}(Components=Components||{}),angular.module("dealer.web.app").component("gridVehicleConfigurator",{templateUrl:"/components/grid-vehicle-configurator/grid-vehicle-configurator.html",bindings:{inputModel:"<"},controller:["$element","$scope","$timeout","apiDataService","$filter","$cookies","scrollService",function(e,t,n,i,a,r,o){return new Components.GridVehicleConfiguratorController(e,t,n,i,a,r,o)}]}),function(e){var t=function(){return _createClass(function e(t,n,i,a,r,o,s){var l=this;_classCallCheck(this,e),this.$element=t,this.$timeout=i,this.apiDataService=a,this.$filter=r,this.$cookies=o,this.scrollService=s,this.tooltips={price:Consts.Tooltips.price,payment:Consts.Tooltips.payment,minPayment:Consts.Tooltips.minPayment,creditedVAT:Consts.Tooltips.creditedVAT,taxSavings:Consts.Tooltips.taxSavings,agreementAmount:Consts.Tooltips.agreementAmount},this.isCalculating=!0,this.delayInMs=1500,n.$watch(function(){return l.inputModel},function(e){e&&(a.getPromoModelSpecialOffers(e.isCar?"cars":"commercial",e.brandId,e.modelId).then(function(e){l.specialOffers=e}),a.getMdfGroups(e.url).then(function(e){l.mdfs=e}).finally(function(){l.mdfs&&n.$broadcast("angucomplete-alt:changeInput","mdfsInput",l.mdfs[0])}))}),n.$watch(function(){return l.selectedMdf},function(e){e&&(l.options=e.originalObject.options,l.mdfParams=e.originalObject.params,i(function(){l.options?n.$broadcast("angucomplete-alt:changeInput","optionsInput",l.options[0]):e.originalObject.advertMinPrice?(l.optionPrice=e.originalObject.advertMinPrice,l.optionCountOffers=e.originalObject.countAdverts,l.calculateWithDebounce(e.originalObject.advertMinPrice)):(l.optionPrice=0,l.optionCountOffers=0,l.payment=null),lazyLoadInstance.update()},0),l.trackEvent("Modification"))}),n.$watch(function(){return l.selectedOption},function(e){e&&(l.optionPrice=l.selectedOption.originalObject.price,l.optionCountOffers=l.selectedOption.originalObject.countAdverts,l.calculateWithDebounce(e.originalObject.price),l.trackEvent("Option"))})},[{key:"$onInit",value:function(){this.$timeout(function(){lazyLoadInstance.update()},0)}},{key:"calculateWithDebounce",value:function(e){var t=this;this.isCalculating=!0,this.$timeout.cancel(this.timeoutPromise),this.timeoutPromise=this.$timeout(function(){t.calculate(e)},this.delayInMs)}},{key:"calculate",value:function(e){var t=this,n="?vehicleTypeId=".concat(this.inputModel.isCar?9:10,"&makeId=").concat(this.inputModel.brandId,"&modelId=").concat(this.inputModel.modelId,"&modificationId=").concat(null==(n=null==(n=this.selectedMdf)?void 0:n.originalObject)?void 0:n.id,"&optionId=").concat(null==(n=null==(n=this.selectedOption)?void 0:n.originalObject)?void 0:n.id,"&cost=").concat(e,"&advancePercent=49&term=84");this.apiDataService.getPayment(n).then(function(e){t.payment=e}).finally(function(){t.discountString=t.getDiscountString(t.payment.discountPercent,t.payment.discountRub),t.isCalculating=!1})}},{key:"getDiscountString",value:function(e,t){return e?"Скидка до ".concat(e,"%"):t?"Скидка до ".concat(this.$filter("currency")(t,"₽",0)):""}},{key:"trackEvent",value:function(e){e&&analytics.trackEvent("Configurator","Change","".concat(e))}},{key:"getFormattedEndDate",value:function(e){return new Date(e).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"})}},{key:"onRequest",value:function(){var e;this.$cookies.putObject(Consts.Cookies.leasingAsset,{type:this.inputModel.type==Enums.GridVehicleCardType.New?Models.DataLayer.LeasingAssetType.Vehicle:Models.DataLayer.LeasingAssetType.Advert,isUsed:this.inputModel.type==Enums.GridVehicleCardType.Used,makeId:this.inputModel.brandId,modelId:this.inputModel.modelId,mdfId:null==(e=this.selectedMdf)?void 0:e.originalObject.id,optionId:null==(e=this.selectedOption)?void 0:e.originalObject.id,advertId:null==(e=this.inputModel)?void 0:e.advertId,cost:this.optionPrice,discountOrSubsidy:this.discountString,payment:null==(e=this.payment)?void 0:e.payment,tradeIn:this.tradeIn,vehicleFullName:"".concat(null==(e=this.inputModel)?void 0:e.name," ").concat(this.selectedOption?null==(e=this.selectedOption)?void 0:e.originalObject.name:"")})}},{key:"onCalculate",value:function(){this.scrollService.scrollTo("#services_calc",80)}}])}();e.GridVehicleConfiguratorController=t}(Components=Components||{}),angular.module("dealer.web.app").component("modelPageConfigurator",{templateUrl:"/components/grid-vehicle-configurator/model-page-configurator.html",bindings:{inputModel:"<"},controller:["$element","$scope","$timeout","apiDataService","$filter","$cookies","scrollService",function(e,t,n,i,a,r,o){return new Components.GridVehicleConfiguratorController(e,t,n,i,a,r,o)}]}),angular.module("dealer.web.app").component("gridVehicleSimilar",{templateUrl:"/components/grid-vehicle-similar/grid-vehicle-similar.html",bindings:{inputModel:"<",outputBrandIds:"=?",outputModelIds:"=?"},controller:["$element","$scope","$timeout","apiDataService","$filter",function(e,t,n,i,a){return new Components.GridVehicleSimilarController(e,t,n,i,a)}]}),function(e){var t=function(){return _createClass(function e(t,n,i,a,r){var o=this;_classCallCheck(this,e),this.$element=t,this.$timeout=i,this.apiDataService=a,this.$filter=r,this.tooltips={price:Consts.Tooltips.price,payment:Consts.Tooltips.payment,minPayment:Consts.Tooltips.minPayment},n.$watch(function(){return o.inputModel},function(e){e&&(o.models=null,a.getSimilarVehicles(e.modelId,e.isCar,e.price).then(function(e){o.models=e.map(function(e){return{type:Enums.GridVehicleCardType.New,brandId:e.brandId,brandName:e.brandName,modelId:e.modelId,modelName:e.modelName,mdfId:e.minPriceMdfId,optionId:e.minPriceOptionId,imgUrl:e.imgUrl,countOffers:e.countOffers,discountOrSubsidy:o.getDiscountOrSubsidy(e.discountPercent,e.discountRub,e.subsidyPercent,e.subsidyRub),minPayment:e.payment,minPrice:e.minCost,specialOffers:e.specialOffers,url:(0<e.countOffers?"/auto/new":"/auto").concat(e.url?e.url.split("?")[0]:"")}}),o.outputBrandIds=e.map(function(e){return e.brandId}),o.outputModelIds=e.map(function(e){return e.modelId})}).finally(function(){o.runGlider()}))})},[{key:"getDiscountOrSubsidy",value:function(e,t,n,i){return n?"Субсидия до ".concat(n,"%"):i?"Субсидия до ".concat(this.$filter("currency")(i,"₽",0)):e?"Скидка до ".concat(e,"%"):t?"Скидка до ".concat(this.$filter("currency")(t,"₽",0)):void 0}},{key:"runGlider",value:function(){var e=this;this.$timeout(function(){e.glider=new Glider(e.$element[0].querySelector(".ep-similars"),{dots:".ep-similar-dots",slidesToScroll:2.3,scrollLock:!1,responsive:[{breakpoint:0,settings:{slidesToShow:1.5,slidesToScroll:1.5}},{breakpoint:769,settings:{slidesToShow:2.3}},{breakpoint:1025,settings:{slidesToShow:2.3,dots:"",arrows:{prev:"grid-vehicle-similar .glider-prev",next:"grid-vehicle-similar .glider-next"}}}]}),lazyLoadInstance.update()},100)}}])}();e.GridVehicleSimilarController=t}(Components=Components||{}),angular.module("dealer.web.app").component("gridVehicles",{templateUrl:"/components/grid-vehicles/grid-vehicles.html",bindings:{inputModels:"<",addModels:"<",inputAdverts:"<",addAdverts:"<",hidePagination:"<",onAddCards:"&"},controller:["$scope","$filter","$element",function(e,t,n){return new Components.GridVehiclesController(e,t,n)}]}),function(e){var t=function(){return _createClass(function e(t,n,i){var a=this;_classCallCheck(this,e),this.$filter=n,this.loading=!1,t.$watch(function(){return a.inputModels},function(e){e&&(a.outputModelId=null,a.models=e.map(function(e){return{type:Enums.GridVehicleCardType.New,brandId:e.brandId,brandName:e.brandName,modelId:e.modelId,modelName:e.modelName,mdfId:e.minPriceMdfId||e.mdfId,optionId:e.minPriceOptionId,imgUrl:e.imgUrl,countOffers:e.countOffers,discountOrSubsidy:a.getDiscountOrSubsidy(e.maxDiscountPercent,e.maxDiscountRub,e.subsidyPercent,e.subsidyRub),minPayment:e.payment,minPrice:e.minCost-(e.discountRub||e.minCost*e.discountPercent/100),oldPrice:e.discountRub||e.discountPercent?e.minCost:0,specialOffers:e.specialOffers,url:(0<e.countOffers?"/auto/new":"/auto").concat(e.url?e.url.split("?")[0]:"")}}))}),t.$watch(function(){return a.addModels},function(e){e&&e.map(function(e){return{type:Enums.GridVehicleCardType.New,brandId:e.brandId,brandName:e.brandName,modelId:e.modelId,modelName:e.modelName,mdfId:e.minPriceMdfId||e.mdfId,optionId:e.minPriceOptionId,imgUrl:e.imgUrl,countOffers:e.countOffers,discountOrSubsidy:a.getDiscountOrSubsidy(e.maxDiscountPercent,e.maxDiscountRub,e.subsidyPercent,e.subsidyRub),minPayment:e.payment,minPrice:e.minCost-(e.discountRub||e.minCost*e.discountPercent/100),oldPrice:e.discountRub||e.discountPercent?e.minCost:0,specialOffers:e.specialOffers,url:(0<e.countOffers?"/auto/new":"/auto").concat(e.url?e.url.split("?")[0]:"")}}).forEach(function(e){return a.models.push(e)}),a.loading=!1}),t.$watch(function(){return a.inputAdverts},function(e){e&&(a.outputModelId=null,a.models=e.map(function(e){return{type:Enums.GridVehicleCardType.Used,brandId:e.brandId,brandName:e.brandName,modelName:e.modelName,modelId:e.modelId,advertId:e.advertId,imgUrl:"/image/auto?i=".concat(e.advertId,"&w=320&h=240"),minPayment:e.payment,minPrice:e.discountRub?e.advertPrice-e.discountRub:e.advertPrice,oldPrice:e.discountRub?e.advertPrice:void 0,modelDescription:a.formatAdvertDescription(e),tags:e.tags,isEuroplanOwned:e.isEuroplanOwned,url:"/auto".concat(e.url),discountOrSubsidy:e.discountPercent?"Скидка ".concat(a.$filter("number")(e.discountPercent),"%"):"",carImages:e.images}}))}),t.$watch(function(){return a.addAdverts},function(e){e&&e.map(function(e){return{type:Enums.GridVehicleCardType.Used,brandId:e.brandId,brandName:e.brandName,modelName:e.modelName,modelId:e.modelId,advertId:e.advertId,imgUrl:"/image/auto?i=".concat(e.advertId,"&w=320&h=240"),minPayment:e.payment,minPrice:e.discountRub?e.advertPrice-e.discountRub:e.advertPrice,oldPrice:e.discountRub?e.advertPrice:void 0,modelDescription:a.formatAdvertDescription(e),tags:e.tags,isEuroplanOwned:e.isEuroplanOwned,url:"/auto".concat(e.url),discountOrSubsidy:e.discountPercent?"Скидка ".concat(a.$filter("number")(e.discountPercent),"%"):"",carImages:e.images}}).forEach(function(e){return a.models.push(e)}),a.loading=!1}),t.$watch(function(){return a.outputModelId},function(e,t){i[0].querySelectorAll(".ep-uc_item .ep-btn__function.active").forEach(function(e){return e.classList.remove("active")}),null!=e&&e.advertId&&(null==t?void 0:t.advertId)==(null==e?void 0:e.advertId)||(null==e||!e.advertId)&&(null==t?void 0:t.modelId)==(null==e?void 0:e.modelId)?a.outputModelId=null:e&&(t=a.outputModelId.advertId?null==(t=a.models)?void 0:t.findIndex(function(e){return e.advertId==a.outputModelId.advertId}):null==(e=a.models)?void 0:e.findIndex(function(e){return e.modelId==a.outputModelId.modelId}),a.calcIndex=768<window.innerWidth?Math.ceil((t+1)/4)+1:t+2,a.maxWidth=window.innerWidth,i[0].querySelectorAll(".ep-uc_item")[t].querySelector(".ep-btn__function").classList.add("active"))})},[{key:"$onInit",value:function(){setTimeout(function(){lazyLoadInstance.update()},0)}},{key:"getDiscountOrSubsidy",value:function(e,t,n,i){return n?"Субсидия до ".concat(n,"%"):i?"Субсидия до ".concat(this.$filter("currency")(i,"₽",0)):e?"Скидка до ".concat(e,"%"):t?"Скидка до ".concat(this.$filter("currency")(t,"₽",0)):void 0}},{key:"formatAdvertDescription",value:function(e){return"".concat(e.optionName?e.optionName+", ":"").concat(e.year,"&nbsp;г.в., ").concat(e.mileage.toLocaleString(),"&nbsp;км").concat(e.driveName?", "+e.driveName+"&nbsp;привод":"")}}])}();e.GridVehiclesController=t}(Components=Components||{}),angular.module("dealer.web.app").component("hellobar",{templateUrl:"/components/hellobar/hellobar.html",controller:["$element","$cookies","apiDataService",function(e,t,n){return new Components.HellobarController(e,t,n)}]}),function(e){var t=function(){return _createClass(function e(t,n,i){var a=this;_classCallCheck(this,e),this.$element=t,this.$cookies=n,this.cookieOptions={path:"/"},i.getHellobar(encodeURIComponent(location.pathname)).then(function(e){a.hellobar=e,a.hellobar&&(t[0].classList.add("ep-hb","ep-hb-202404","ep-hb-type2"),analytics.trackEvent("Banners","View Banner","Site - ".concat(a.hellobar.id," - ").concat(a.hellobar.erid)))})},[{key:"close",value:function(e,t){this.hellobar=void 0,this.$element[0].classList.remove("ep-hb","ep-hb-202404","ep-hb-type2"),this.$cookies.put(Consts.Cookies.closedHellobar+e,t,this.cookieOptions)}},{key:"initPopup",value:function(e,t){analytics.trackEvent("Banners","Click Banner","Site - ".concat(e," - ").concat(t))}}])}();e.HellobarController=t}(Components=Components||{}),angular.module("dealer.web.app").component("individualsForm",{templateUrl:"/components/individuals-form/individuals-form.html",controller:["$element","$scope","apiDataService","smsService",function(e,t,n,i){return new Components.LflFormController(e,t,n,i)}]}),function(e){var t=function(){function r(e,t,n,i){var a;return _classCallCheck(this,r),(a=_callSuper(this,r,[e,new Services.IndividualsAppSubmitter(e),Models.Applications.IndividualsAppModel])).$scope=t,a.apiDataService=n,a.smsService=i,a.modelsLoad=!1,a.conditionValues=[{value:!0,label:"Новый"},{value:!1,label:"С пробегом"}],a.purposeValues=[{value:!0,label:"Личное пользование"},{value:!1,label:"Коммерческая цель, в т.ч. такси"}],a.showWarning=!1,t.$on("IndividualsApp_Phone",function(e,t){a.model.phone=t[0],a.model.firstName=t[1],a.showWarning=!0,a.smsSended=!0,a.smsCodeValid=!0}),a.model.isCustomCar=!0,t.$watch(function(){return a.brand},function(e,t){e?(a.model.brandId=null==(e=a.brand.originalObject)?void 0:e.id,a.model.brandName=null==(e=a.brand.originalObject)?void 0:e.name,a.updateModels()):(a.model.brandId=null,a.model.brandName=null,a.clearInput("modelsInput"))}),t.$watch(function(){return a.chosenModel},function(e,t){e?(a.model.modelId=null==(e=a.chosenModel.originalObject)?void 0:e.modelId,a.model.modelName=null==(e=a.chosenModel.originalObject)?void 0:e.modelName,a.updateModels()):(a.model.modelId=null,a.model.modelName=null,a.clearInput("modelsInput"))}),t.$watch(function(){return a.purpose},function(e){a.model.isPersonalUse=void 0===e||null==(e=e.originalObject)?void 0:e.value}),t.$watch(function(){return a.condition},function(e){a.model.isNewCar=void 0===e||null==(e=e.originalObject)?void 0:e.value}),t.$watch(function(){return a.$scope.IndividualsShortApp.Phone.$valid},function(e){!1===e&&(a.smsCodeValid=!1,a.smsCode=void 0)}),a}return _inherits(r,Controllers.Base.BaseAppCtrl),_createClass(r,[{key:"preSend",value:function(){var e=this.$q.defer();return this.model.mdfTitle="".concat(this.model.brandName," ").concat(this.model.modelName),e.resolve(),e.promise}},{key:"updateModels",value:function(){var t=this;this.apiDataService.getModelGroupsByBrandId(this.brand.originalObject.id,"cars").then(function(e){t.models=e,t.modelsLoad=!0})}},{key:"clearInput",value:function(e){e?this.$scope.$broadcast("angucomplete-alt:clearInput",e):this.$scope.$broadcast("angucomplete-alt:clearInput")}},{key:"checkSmsCode",value:function(){var t=this;this.smsService.checkSmsCode(this.model.phone,"Lfl",this.smsCode).then(function(e){switch(e){case Enums.SmsCheckStatusEnum.Success:t.smsCodeValid=!0;break;case Enums.SmsCheckStatusEnum.Invalid:t.$scope.IndividualsShortApp.SmsCode.$setValidity("smsCodeInvalid",!1);break;case Enums.SmsCheckStatusEnum.Expired:t.$scope.IndividualsShortApp.SmsCode.$setValidity("smsCodeExpired",!1);break;default:t.$scope.IndividualsShortApp.SmsCode.$setValidity("smsCodeError",!1)}})}},{key:"resetSmsCode",value:function(){this.smsCode="",this.$scope.IndividualsShortApp.SmsCode.$setValidity("smsCodeInvalid",!0),this.$scope.IndividualsShortApp.SmsCode.$setValidity("smsCodeError",!0),this.$scope.IndividualsShortApp.SmsCode.$setValidity("smsCodeExpired",!0)}}])}();e.LflFormController=t}(Components=Components||{}),angular.module("dealer.web.app").component("bannerLeasingForm",{templateUrl:"/components/leasing-form/banner-leasing-form.html",controller:["$element","$scope","$cookies","smsService","$timeout",function(e,t,n,i,a){return new Components.LeasingFormController(e,t,n,i,a)}]}),angular.module("dealer.web.app").component("gridForm",{templateUrl:"/components/leasing-form/grid-form.html",controller:["$element","$scope","$cookies","smsService","$timeout",function(e,t,n,i,a){return new Components.LeasingFormController(e,t,n,i,a)}]}),angular.module("dealer.web.app").component("leasingForm",{templateUrl:"/components/leasing-form/leasing-form.html",controller:["$element","$scope","$cookies","smsService","$timeout",function(e,t,n,i,a){return new Components.LeasingFormController(e,t,n,i,a)}]}),function(e){var t=function(e){function o(e,n,t,i,a){var r;return _classCallCheck(this,o),(r=_callSuper(this,o,[e,new Services.LeasingShortAppSubmitter(e),Models.Applications.LeasingShortAppModel])).$scope=n,r.$cookies=t,r.smsService=i,r.$timeout=a,r.isCallBackForm=!1,n.$on("Init_Popup_Type_Update",function(e,t){r.isCallBackForm="CallBack"==t,n.$apply()}),r.smsCheck=!1,r.smsCheck&&(n.$watch(function(){return r.model.phone},function(e){e&&null!=(e=r.$scope[r.formName])&&e.Phone.$valid?r.phoneValid=!0:!1===(null==(e=r.$scope[r.formName])?void 0:e.Phone.$valid)?(r.smsSended=r.smsSending=r.smsCodeValid=!1,r.smsCode=void 0,r.phoneValid=!1):(r.phoneValid=!1,null!=(e=null==(e=r.$scope[r.formName])?void 0:e.SmsCode)&&e.$setPristine())}),n.$watch(function(){return r.smsCode},function(e){e&&4==e.length&&(r.smsChecking=!0,a(function(){return r.checkSmsCode()},1e3))})),r}return o.$inject=["$element","$scope","$cookies","smsService","$timeout"],_inherits(o,e),_createClass(o,[{key:"preSend",value:function(){var e=this.$q.defer();return this.model.leasingAsset=this.$cookies.getObject("_ep.leasing-asset"),this.model.leasingCalculation=this.$cookies.getObject("_ep.leasing-calculation"),e.resolve(),e.promise}},{key:"sendSmsCode",value:function(){this.resetSmsCode(),this.smsSending=!0,this.countdown(120)}},{key:"checkSmsCode",value:function(){var t=this;this.smsService.checkSmsCode(this.model.phone,"Lul",this.smsCode).then(function(e){switch(e){case Enums.SmsCheckStatusEnum.Success:t.smsCodeValid=!0;break;case Enums.SmsCheckStatusEnum.Invalid:t.$scope[t.formName].SmsCode.$setValidity("smsCodeInvalid",!1);break;case Enums.SmsCheckStatusEnum.Expired:t.$scope[t.formName].SmsCode.$setValidity("smsCodeExpired",!1);break;default:t.$scope[t.formName].SmsCode.$setValidity("smsCodeError",!1)}t.smsChecking=!1})}},{key:"resetSmsCode",value:function(){this.smsCode="",this.smsSending=!1,this.$scope[this.formName].SmsCode.$error={},this.$scope[this.formName].SmsCode.$setValidity("smsCodeInvalid",!0),this.$scope[this.formName].SmsCode.$setValidity("smsCodeExpired",!0),this.$scope[this.formName].SmsCode.$setValidity("smsCodeError",!0),this.$scope[this.formName].SmsCode.$setPristine(),this.$scope[this.formName].sendSms.$setValidity("smsSendSpamProtection",!0),this.$scope[this.formName].sendSms.$setPristine()}},{key:"countdown",value:function(e){var t=this;this.$timeout.cancel(this.timeCounterFunc),e&&(this.timeCounter=e),this.timeCounterFunc=this.$timeout(function(){t.timeCounter--,0<t.timeCounter?t.countdown():(t.resetSmsCode(),t.$scope[t.formName].SmsCode.$setValidity("smsCodeExpired",!1))},1e3)}},{key:"getAntispamCookieSeconds",value:function(){return Math.round((this.$cookies.getObject("anti_s_sms_send")-Date.now())/1e3)}}])}(Controllers.Base.BaseAppCtrl);e.LeasingFormController=t}(Components=Components||{}),angular.module("dealer.web.app").component("procontextLeasingForm",{templateUrl:"/components/leasing-form/procontext-leasing-form.html",controller:["$element","$scope","$cookies","smsService","$timeout",function(e,t,n,i,a){return new Components.LeasingFormController(e,t,n,i,a)}]}),angular.module("dealer.web.app").component("tradeInForm",{templateUrl:"/components/leasing-form/trade-in-form.html",controller:["$element","$scope","$cookies","smsService","$timeout",function(e,t,n,i,a){return new Components.LeasingFormController(e,t,n,i,a)}]}),angular.module("dealer.web.app").component("leasingSelector",{templateUrl:"/components/leasing-selector/leasing-selector.html",transclude:!0,controller:["$element","$scope","apiDataService","$filter","$timeout",function(e,t,n,i,a){return new Components.LeasingSelectorController(e,t,n,i,a)}]}),function(e){var t=function(){return _createClass(function e(t,n,i,a,r){var o=this;_classCallCheck(this,e),this.$timeout=r,this.buttons={type:[{label:"Для себя",value:Enums.LeasingProgramType.Person},{label:"Для бизнеса",value:Enums.LeasingProgramType.LegalEntity},{label:"Для мотивации сотрудников",value:Enums.LeasingProgramType.Employee}],ctaType:[{label:"На физ. лицо",value:Enums.CtaTypes.Person},{label:"На юр. лицо или ИП",value:Enums.CtaTypes.LegalEntity}],boolean:[{label:"Да",value:!0},{label:"Нет",value:!1}]},this.step=1,this.filter=new Models.LeasingProgramFilter,this.loading=!1,this.showAll=!1,i.getLeasingPrograms().then(function(e){o.allPrograms=e}),n.$watchCollection(function(){return[o.filter.type,o.filter.ctaType,o.filter.includeServices,o.filter.return,o.filter.tradeIn]},function(){o.filter.type&&o.next()}),n.$watch(function(){return o.step},function(e){var t;6==e&&(o.loading=!0,t=o.applyFilter(),o.allPrograms.forEach(function(e){t.includes(e)?e.state=Enums.LeasingProgramState.Selected:e.state=Enums.LeasingProgramState.Disabled}),o.allPrograms.sort(function(e,t){return e.state-t.state}),r(function(){o.loading=!1,o.showAll=!1},500))})},[{key:"next",value:function(){this.filter.type==Enums.LeasingProgramType.Employee||this.filter.ctaType==Enums.CtaTypes.Person?this.step=6:this.step++}},{key:"back",value:function(){this.filter.type==Enums.LeasingProgramType.Employee?this.step=1:6==this.step&&this.filter.ctaType==Enums.CtaTypes.Person?this.step=2:this.step--}},{key:"reset",value:function(){var e=this;this.loading=!0,this.allPrograms.forEach(function(e){return e.state=Enums.LeasingProgramState.Default}),this.allPrograms.sort(function(e,t){return t.order-e.order}),this.filter=new Models.LeasingProgramFilter,this.step=1,this.$timeout(function(){e.loading=!1,e.showAll=!1},500)}},{key:"applyFilter",value:function(){var t=this;return this.allPrograms.filter(function(e){return t.filter.type==Enums.LeasingProgramType.Employee?e.type==t.filter.type:t.filter.type==Enums.LeasingProgramType.Person&&t.filter.ctaType==Enums.CtaTypes.LegalEntity?e.type==Enums.LeasingProgramType.LegalEntity&&e.ctaType==t.filter.ctaType:t.filter.type==Enums.LeasingProgramType.LegalEntity&&t.filter.ctaType==Enums.CtaTypes.Person?e.type==Enums.LeasingProgramType.Person&&e.ctaType==t.filter.ctaType:e.type==t.filter.type&&e.ctaType==t.filter.ctaType}).filter(function(e){return!1===e.isNotFilterable}).filter(function(e){return null===e.return||e.return==t.filter.return}).filter(function(e){return null===e.includeServices||e.includeServices==t.filter.includeServices}).filter(function(e){return null===e.tradeIn||e.tradeIn==t.filter.tradeIn})}}])}();e.LeasingSelectorController=t}(Components=Components||{}),angular.module("dealer.web.app").component("officeManagerMessage",{templateUrl:"/components/office-manager-message/office-manager-message.html",bindings:{inputManagerLogin:"<",inputRegionSuffix:"<"},transclude:!0,controller:["$element","$scope","apiDataService",function(e,t,n){return new Components.OfficeManagerMessageController(e,t,n)}]}),(Components||(Components={})).OfficeManagerMessageController=_createClass(function e(t,n,i){var a=this;_classCallCheck(this,e),n.$watch(function(){return a.inputManagerLogin},function(e){e&&i.getEmployees([a.inputManagerLogin]).then(function(e){0<e.length&&(a.manager=e[0])})})}),angular.module("dealer.web.app").component("procontextLineup",{templateUrl:"/components/procontext-lineup/procontext-lineup.html",transclude:!0,bindings:{inputPageType:"<",inputCountryCodes:"<",isDealer:"<"},controller:["$element","$scope","apiDataService","$filter",function(e,t,n,i){return new Components.ProcontextLineupController(e,t,n,i)}]}),function(e){var t=function(){return _createClass(function e(t,n,i,a){var r=this;_classCallCheck(this,e),this.$element=t,this.apiDataService=i,this.$filter=a,this.loading=!0,n.$watch(function(){return r.filter},function(e,t){r.loading=!0,e&&r.loadAdverts()},!0),n.$watch(function(){return r.filterReady},function(e,t){t&&!1===e&&(r.adverts=null,r.stopGlider())}),n.$watch(function(){return r.inputCountryCodes},function(e,t){e&&(r.gliderSelector="country-"+r.inputCountryCodes[0])})},[{key:"loadAdverts",value:function(){var t=this;this.apiDataService.getAdverts(stringHelpers.stringifyJson(this.filter),1).then(function(e){t.adverts=e.results.map(function(e){return{type:Enums.GridVehicleCardType.NewAdvert,brandId:e.brandId,brandName:e.brandName,modelName:e.modelName,modelId:e.modelId,advertId:e.advertId,imgUrl:"/image/auto?i=".concat(e.advertId,"&w=320&h=240"),minPayment:e.payment,minPrice:e.discountRub?e.advertPrice-e.discountRub:e.advertPrice,oldPrice:e.discountRub?e.advertPrice:void 0,modelDescription:t.formatAdvertDescription(e),tags:e.tags,isEuroplanOwned:e.isEuroplanOwned,url:"/auto".concat(e.url),discountOrSubsidy:e.discountPercent?"Скидка ".concat(t.$filter("number")(e.discountPercent),"%"):"",carImages:e.images}})}).finally(function(){t.loading=!1,t.runGlider()})}},{key:"formatAdvertDescription",value:function(e){return"".concat(e.optionName?e.optionName+", ":"").concat(e.year,"&nbsp;г.в., ").concat(e.driveName?e.driveName+"&nbsp;привод":"")}},{key:"runGlider",value:function(){var e=this;setTimeout(function(){e.glider=new Glider(e.$element[0].querySelector(".ep-uc_blocks-similar"),{dots:".".concat(e.gliderSelector," .ep-sim-dots"),arrows:{prev:".".concat(e.gliderSelector," .glider-prev"),next:".".concat(e.gliderSelector," .glider-next")},responsive:[{breakpoint:0,settings:{slidesToShow:1.1,scrollLock:!1}},{breakpoint:769,settings:{slidesToShow:3,slidesToScroll:2}},{breakpoint:1025,settings:{slidesToShow:4,slidesToScroll:4,dots:""}}]})},0)}},{key:"stopGlider",value:function(){var t=this;this.glider&&setTimeout(function(){var e;return null==(e=t.glider)?void 0:e.destroy()},0)}}])}();e.ProcontextLineupController=t}(Components=Components||{}),angular.module("dealer.web.app").component("promoLineup",{templateUrl:"/components/promo-lineup/promo-lineup.html",transclude:!0,bindings:{inputPageType:"<",inputVehicleType:"<",inputBrandIds:"<",inputModelIds:"<",inputCountryCodes:"<",inputVehicleKind:"<",inputBodyType:"<",inputVehicleClasses:"<",inputEngineTypes:"<",inputNdsFlag:"<"},controller:["$element","$scope","apiDataService","$timeout","$q","$filter","scrollService","$rootScope",function(e,t,n,i,a,r,o,s){return new Components.PromoLineupController(e,t,n,i,a,r,o,s)}]}),function(e){var t=function(){return _createClass(function e(t,n,i,a,r,o,s,l){var c=this;_classCallCheck(this,e),this.$scope=n,this.apiDataService=i,this.$timeout=a,this.$q=r,this.$filter=o,this.scrollService=s,this.page=1,this.loading=!0,n.$watch(function(){return c.filter},function(e,t){c.page=1,c.loading=!0,e&&(c.pageType=e.pageType,c.pageType==Models.PageType.Catalog?c.loadModels():c.pageType==Models.PageType.AutoSale&&c.loadOffers())},!0)},[{key:"$onInit",value:function(){new Sticky("promo-lineup .sticky")}},{key:"load",value:function(){this.pageType==Models.PageType.Catalog?this.loadModels():this.pageType==Models.PageType.AutoSale&&this.loadOffers()}},{key:"loadModels",value:function(){var t=this;this.apiDataService.getAutomarketModelGroupsByFilter(stringHelpers.stringifyJson(this.filter),!this.filter.vehicleSuperTypes.includes(8),this.page).then(function(e){t.page<2?t.modelGroups=e.modelGroups:t.addModelGroups=e.modelGroups,t.hidePagination=e.pager.currentPage!=e.pager.lastPage}).finally(function(){t.page++,t.loading=!1})}},{key:"loadOffers",value:function(){var t=this;this.apiDataService.getUsedOffers(stringHelpers.stringifyJson(this.filter),this.page).then(function(e){t.page<2?t.adverts=e.results:t.addAdverts=e.results,t.hidePagination=e.pager.currentPage!=e.pager.lastPage}).finally(function(){t.page++,t.loading=!1})}},{key:"trackEvent",value:function(e){analytics.trackEvent("Forms","Edited Form","Car Search - ".concat(e))}}])}();e.PromoLineupController=t}(Components=Components||{}),angular.module("dealer.web.app").component("promoSpecialOffers",{templateUrl:"/components/promo-special-offers/promo-special-offers.html",transclude:!0,bindings:{inputVehicleType:"<",inputBrandId:"<"},controller:["$element","$scope","apiDataService","scrollService",function(e,t,n,i){return new Components.PromoSpecialOffersController(e,t,n,i)}]}),function(e){var t=function(){return _createClass(function e(t,n,i,a){_classCallCheck(this,e),this.$element=t,this.apiDataService=i,this.scrollService=a},[{key:"$onInit",value:function(){var t=this;this.apiDataService.getPromoSpecialOffers(this.inputVehicleType,this.inputBrandId).then(function(e){t.specialOffers=e}).finally(function(){setTimeout(function(){lazyLoadInstance.update()},0)})}},{key:"runGlider",value:function(){var e=this;setTimeout(function(){new Glider(e.$element[0].querySelector(".ep-offers-cards"),{dots:e.$element[0].querySelector(".ep-special-carousel-dots"),slidesToScroll:1,responsive:[{breakpoint:0,settings:{slidesToShow:1,scrollLock:!0}},{breakpoint:769,settings:{slidesToShow:2}},{breakpoint:1025,settings:{slidesToShow:e.specialOffers.length,dots:""}}]})},0)}},{key:"popupOrScroll",value:function(e,t){"/services/trade-in"===e?this.scrollService.scrollTo("trade-in-form",80):(analytics.trackEvent("Forms","Opened Form","LeasingPopup/SpecialOffers - "+t),window.location.hash="#leasing-form")}}])}();e.PromoSpecialOffersController=t}(Components=Components||{}),angular.module("dealer.web.app").component("promoVideoBlock",{templateUrl:"/components/promo-video-block/promo-video-block.html",transclude:!0,bindings:{inputVehicleType:"<"},controller:["$element","$scope","apiDataService",function(e,t,n){return new Components.PromoVideoBlockController(e,t,n)}]}),function(e){var t=function(){return _createClass(function e(t,n,i){var a=this;_classCallCheck(this,e),this.apiDataService=i,n.$watch(function(){return a.inputVehicleType},function(e){})},[{key:"$onInit",value:function(){var t=this;this.apiDataService.getPromoVideos(this.inputVehicleType).then(function(e){t.videoBlock=e})}}])}();e.PromoVideoBlockController=t}(Components=Components||{}),angular.module("dealer.web.app").component("responsibleLinks",{templateUrl:"/components/responsible-links/responsible-links.html",transclude:!0,controller:["$responsibleLinks","$http","$exceptionHandler","apiDataService",function(e,t,n,i){return new Components.ResponsibleLinksController(e,t,n,i)}]}),function(e){var t=function(){return _createClass(function e(t,n,i,a){_classCallCheck(this,e),this.$responsibleLinks=t,this.$http=n,this.$exceptionHandler=i,this.apiDataService=a,this.widgetAvailable=!1,this.showResponsibles=!1,this.widgetAvailable=0<t.length&&"false"===localStorage.getItem("isExternal"),this.url=location.href},[{key:"showResponsiblesPopup",value:function(){var t=this;this.responsibles||this.$http.get(Consts.Urls.api.validation.authUser).then(function(e){!1===e.data&&t.getResponsiblesData()}).catch(function(e){t.$exceptionHandler("ResponsibleLinksController.showResponsiblesPopup(): ",e)}),this.showResponsibles=!0,setTimeout(function(){lazyLoadInstance.update()},250)}},{key:"getResponsiblesData",value:function(){var t=this;this.apiDataService.getEmployees(this.$responsibleLinks).then(function(e){t.responsibles=e})}}])}();e.ResponsibleLinksController=t}(Components=Components||{}),angular.module("dealer.web.app").component("reviews",{templateUrl:"/components/reviews/reviews.html",controller:["$element","$scope","apiDataService",function(e,t,n){return new Components.ReviewsController(e,t,n)}]}),function(e){var t=function(){return _createClass(function e(t,n,i){var a=this;_classCallCheck(this,e),this.$element=t,this.regionId=this.$element[0].getAttribute("region-id"),this.reviewId=this.$element[0].getAttribute("review-id"),i.getReviews(this.regionId).then(function(e){a.reviews=e.filter(function(e){return!e.url.endsWith(a.reviewId)})}).finally(function(){0<a.reviews.length&&a.runGlider()})},[{key:"runGlider",value:function(){var e=this;setTimeout(function(){new Glider(e.$element[0].querySelector(".ep-reviews"),{dots:e.$element[0].querySelector(".ep-reviews-dots"),slidesToScroll:1,responsive:[{breakpoint:0,settings:{slidesToShow:1,scrollLock:!1}},{breakpoint:769,settings:{slidesToShow:3}},{breakpoint:1025,settings:{slidesToShow:3,dots:"",arrows:{prev:e.$element[0].querySelector(".glider-prev"),next:e.$element[0].querySelector(".glider-next")}}}]})},0)}}])}();e.ReviewsController=t}(Components=Components||{}),angular.module("dealer.web.app").component("advertSearchFilter",{templateUrl:"/components/search-filter/advert-search-filter.html",bindings:{inputPageType:"<",inputVehicleType:"<",inputVehicleKind:"<",inputBrandIds:"<",inputModelIds:"<",inputCountryCodes:"<",outputFilter:"=",outputFilterReady:"=",inputBodyType:"<",inputVehicleClasses:"<",inputEngineTypes:"<",inputNdsFlag:"<",isDealer:"<"},controller:["$scope","apiDataService","$timeout","$q","scrollService",function(e,t,n,i,a){return new Components.SearchFilterController(e,t,n,i,a)}]}),angular.module("dealer.web.app").component("searchFilter",{templateUrl:"/components/search-filter/search-filter.html",bindings:{inputPageType:"<",inputVehicleType:"<",inputVehicleKind:"<",inputBrandIds:"<",inputModelIds:"<",inputCountryCodes:"<",outputFilter:"=",outputFilterReady:"=",inputBodyType:"<",inputVehicleClasses:"<",inputEngineTypes:"<",inputNdsFlag:"<",isDealer:"<"},controller:["$scope","apiDataService","$timeout","$q","scrollService",function(e,t,n,i,a){return new Components.SearchFilterController(e,t,n,i,a)}]}),function(e){var t=function(){return _createClass(function e(t,n,i,a,r){var o=this;_classCallCheck(this,e),this.$scope=t,this.apiDataService=n,this.$timeout=i,this.$q=a,this.scrollService=r,this.inputVehicleKindBroadcast=!1,this.inputBodyTypeBroadcast=!1,this.searchFilter=new Models.SearchFilter([8],[2],null,Models.PageType.Catalog,1,5,!0),this.searchParamsSet=[{label:"Легковые",value:new Models.SearchFilter([8],[2]),disabled:!1},{label:"Коммерческие",value:new Models.SearchFilter([9],[6]),disabled:!1},{label:"Грузовики",value:new Models.SearchFilter([9],[5,7]),disabled:!1},{label:"Спецтехника",value:new Models.SearchFilter([6,11],[3]),disabled:!0},{label:"Прицепы и полуприцепы",value:new Models.SearchFilter([13,14],[9]),disabled:!0},{label:"Автобусы",value:new Models.SearchFilter([10],[1]),disabled:!0},{label:"Мототехника",value:new Models.SearchFilter([12,6],null,[17,166]),disabled:!0}],this.engineHps=[{value:1,label:"до 100"},{value:2,label:"100-150"},{value:3,label:"150-200"},{value:4,label:"200-300"},{value:5,label:"300-400"},{value:6,label:"400+"}],this.showMobileSuperTypes=!1,this.showMobileFilter=!1,this.showDesctopFilter=!1,this.inputBrandBroadcast=!1,this.delayInMs=500,t.$watch(function(){return o.inputPageType},function(e){e&&(o.searchFilter.pageType=e)}),t.$watch(function(){return o.inputVehicleType},function(e){void 0!==e&&(e!=Models.VehicleType.All&&e!=Models.VehicleType.Cars&&o.searchParamsSet.unshift(o.searchParamsSet.splice(e,1)[0]),e=JSON.parse(JSON.stringify(o.searchParamsSet[0].value&&e!=Models.VehicleType.All?o.searchParamsSet[0].value:new Models.SearchFilter([6,8,9,10,11,13,14],null,null,Models.PageType.Catalog,1,5,!0))),o.searchFilter.vehicleSuperTypes=e.vehicleSuperTypes,o.searchFilter.vehicleCategories=e.vehicleCategories,o.searchFilter.vehicleTypeIds=e.vehicleTypeIds)}),t.$watch(function(){return o.inputBrandIds},function(e){e&&(o.searchFilter.brands=e)}),t.$watch(function(){return o.inputModelIds},function(e){e&&(o.searchFilter.models=e)}),t.$watch(function(){return o.inputVehicleClasses},function(e){e&&(o.searchFilter.vehicleClasses=e)}),t.$watch(function(){return o.inputVehicleKind},function(e){var t;e&&("string"==typeof e?n.getGroupVehicleKinds(e).then(function(e){o.searchFilter.vehicleKinds=e.ids}):(t=[],e.forEach(function(e){return n.getGroupVehicleKinds(e).then(function(e){t.push.apply(t,_toConsumableArray(e.ids))})}),o.searchFilter.vehicleKinds=t))}),t.$watch(function(){return o.inputBodyType},function(e){e&&(o.searchFilter.bodyType=[e])}),t.$watch(function(){return o.inputCountryCodes},function(e){e&&(o.searchFilter.countries=e)}),t.$watch(function(){return o.inputEngineTypes},function(e){e&&(o.searchFilter.engineType=e)}),t.$watch(function(){return o.inputNdsFlag},function(e){!1===e&&(o.searchFilter.nds=e)}),t.$watch(function(){return o.searchFilter.vehicleCategories},function(t,e){var n,i=null==(n=null==(n=o.selectedBrand)?void 0:n.originalObject)?void 0:n.value;o.resetFilter(null),t?(o.mobileSuperTypesLabel=null!=(n=null==(n=o.searchParamsSet.find(function(e){return o.isEqual(e.value.vehicleCategories,t)}))?void 0:n.label)?n:"Тип транспорта",o.trackEvent("Тип ТС"),i&&null!=(n=o.filterValues)&&n.brands.find(function(e){return e.value==i})&&(o.inputBrandBroadcast=!1,o.inputBrandIds=[i])):null===t&&null!==o.searchFilter.vehicleTypeIds&&(o.mobileSuperTypesLabel="Мототехника",o.trackEvent("Тип ТС"))}),t.$watch(function(){return o.searchFilter.pageType},function(e){void 0!==e&&(o.priceFrom=o.priceTo=void 0,o.trackEvent("Состояние"))}),t.$watch(function(){return o.selectedVehicleKind},function(e,t){var n;e?(o.searchFilter.vehicleKinds=null==(n=e.originalObject)?void 0:n.value,o.trackEvent("Вид ТС")):t&&!e&&(o.searchFilter.vehicleKinds=null)}),t.$watch(function(){return o.selectedBodyType},function(e,t){var n;e?(o.searchFilter.bodyType=[null==(n=e.originalObject)?void 0:n.value],o.trackEvent("Кузов")):t&&!e&&(o.searchFilter.bodyType=null)}),t.$watch(function(){return o.selectedDrive},function(e,t){var n;e?(o.searchFilter.drive=[null==(n=e.originalObject)?void 0:n.value],o.trackEvent("Привод")):t&&!e&&(o.searchFilter.drive=null)}),t.$watch(function(){return o.selectedGearbox},function(e,t){var n;e?(o.searchFilter.gearbox=[null==(n=e.originalObject)?void 0:n.value],o.trackEvent("Коробка передач")):t&&!e&&(o.searchFilter.gearbox=null)}),t.$watch(function(){return o.selectedEngineType},function(e,t){var n;e?(o.searchFilter.engineType=[null==(n=e.originalObject)?void 0:n.value],o.trackEvent("Тип двигателя")):t&&!e&&(o.searchFilter.engineType=null)}),t.$watch(function(){return o.selectedBrand},function(e,t){var n;o.$scope.$broadcast("angucomplete-alt:clearInput","modelsInput"),e?(o.searchFilter.brands=[null==(n=e.originalObject)?void 0:n.value],o.trackEvent("Марка")):t&&!e&&(o.searchFilter.brands=null)}),t.$watch(function(){return o.selectedModel},function(e,t){var n;e?(o.searchFilter.models=[null==(n=e.originalObject)?void 0:n.value],o.trackEvent("Модель")):t&&!e&&(o.searchFilter.models=null)}),t.$watch(function(){return o.selectedOption},function(e,t){var n;e?(o.searchFilter.options=[null==(n=e.originalObject)?void 0:n.value],o.trackEvent("Комплектация")):t&&!e&&(o.searchFilter.models=null)}),t.$watchCollection(function(){return[o.priceFrom,o.priceTo]},function(e,t){o.priceFrom||o.priceTo?(o.trackEvent("Цена"),o.searchFilter.price=[isNaN(o.priceFrom)?o.filterValues.priceMinAndMax.from:o.priceFrom,isNaN(o.priceTo)?o.filterValues.priceMinAndMax.to:o.priceTo]):o.searchFilter.price=null}),t.$watchCollection(function(){return[o.searchFilter.kilometersTravelledFrom,o.searchFilter.kilometersTravelledTo]},function(e){(e[0]||e[1])&&o.trackEvent("Пробег")}),t.$watch(function(){return o.selectedEngineVolumeFrom},function(e,t){var n;e?(o.searchFilter.engineVolumesFrom=null==(n=e.originalObject)?void 0:n.value,o.trackEvent("Объём двигателя")):t&&!e&&(o.searchFilter.engineVolumesFrom=null)}),t.$watch(function(){return o.selectedEngineVolumeTo},function(e,t){var n;e?(o.searchFilter.engineVolumesTo=null==(n=e.originalObject)?void 0:n.value,o.trackEvent("Объём двигателя")):t&&!e&&(o.searchFilter.engineVolumesTo=null)}),t.$watch(function(){return o.selectedEngineHp},function(e,t){var n;e?(o.searchFilter.engineHps=[null==(n=e.originalObject)?void 0:n.value],o.trackEvent("Мощность")):t&&!e&&(o.searchFilter.engineHps=null)}),t.$watch(function(){return o.selectedYearFrom},function(e,t){var n;e?(o.searchFilter.yearFrom=null==(n=e.originalObject)?void 0:n.value,o.trackEvent("Год выпуска")):t&&!e&&(o.searchFilter.yearFrom=null)}),t.$watch(function(){return o.selectedYearTo},function(e,t){var n;e?(o.searchFilter.yearTo=null==(n=e.originalObject)?void 0:n.value,o.trackEvent("Год выпуска")):t&&!e&&(o.searchFilter.yearTo=null)}),t.$watch(function(){return o.searchFilter},function(e,t){o.updateFilterValues()},!0)},[{key:"$onInit",value:function(){new Sticky(".ep-tabfix"),setTimeout(function(){lazyLoadInstance.update()},0)}},{key:"resetFilter",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];this.searchFilter.page=1,e?null!=e&&e.forEach(function(e){t.$scope.$broadcast("angucomplete-alt:clearInput",e)}):(this.searchFilter.kilometersTravelledFrom=this.searchFilter.kilometersTravelledTo=NaN,this.priceFrom=this.priceTo=NaN,this.$scope.$broadcast("angucomplete-alt:clearInput")),n&&(this.searchFilter.models=this.searchFilter.brands=null),this.searchFilter.vehicleSuperTypes.includes(8)||(this.searchFilter.vehicleClasses=null)}},{key:"updateFilterValues",value:function(){var n=this,t=this.$q.defer();return this.outputFilterReady=!1,this.$timeout.cancel(this.timeoutPromise),this.timeoutPromise=this.$timeout(function(){n.apiDataService.getFilterValues(n.searchFilter,!0).then(function(e){n.filterValues=e,n.apiDataService.getBrandStats(n.filterValues.url).then(function(e){var t;1024<=document.body.clientWidth&&JSON.stringify(null==(t=n.brandsWithLogos)?void 0:t.map(function(e){return e.brandId}))!==JSON.stringify(null==e?void 0:e.map(function(e){return e.brandId}))&&(n.brandsWithLogos=e.slice(0,15),setTimeout(function(){lazyLoadInstance.update()},0)),n.brandsFromFilter=e.filter(function(e){return n.filterValues.brands.map(function(e){return e.value}).includes(e.brandId)}).slice(0,15)})}).finally(function(){var e;n.outputFilterReady=!0,n.outputFilter=JSON.parse(JSON.stringify(n.searchFilter)),n.inputBrandBroadcast||1!=(null==(e=n.inputBrandIds)?void 0:e.length)||(n.inputBrandBroadcast=!0,n.$scope.$broadcast("angucomplete-alt:changeInput","brandsInput",n.filterValues.brands.find(function(e){return e.value==n.inputBrandIds[0]}))),!n.inputVehicleKindBroadcast&&n.inputVehicleKind&&"string"==typeof n.inputVehicleKind&&(n.inputVehicleKindBroadcast=!0,n.$scope.$broadcast("angucomplete-alt:changeInput","vehicleKindsInput",n.filterValues.vehicleKinds.find(function(e){return e.aliases.includes(n.inputVehicleKind)}))),!n.inputBodyTypeBroadcast&&n.inputBodyType&&(n.inputBodyTypeBroadcast=!0,n.$scope.$broadcast("angucomplete-alt:changeInput","bodyTypesInput",n.filterValues.bodyTypes.find(function(e){return e.value==n.inputBodyType}))),t.resolve()})},this.delayInMs),t.promise}},{key:"updateSuperTypes",value:function(e){this.searchFilter.vehicleSuperTypes=e,1<((this.searchFilter.models=null)==(e=this.searchFilter.brands)?void 0:e.length)&&(this.searchFilter.brands=null)}},{key:"updateSearchParamsSet",value:function(e){this.searchFilter.vehicleSuperTypes=e.vehicleSuperTypes,this.searchFilter.vehicleCategories=e.vehicleCategories,this.searchFilter.vehicleTypeIds=e.vehicleTypeIds,1<((this.searchFilter.models=null)==(e=this.searchFilter.brands)?void 0:e.length)&&(this.searchFilter.brands=null)}},{key:"applyFilter",value:function(){this.showMobileFilter&&(this.showMobileFilter=!1),this.outputFilter=this.searchFilter,this.scrollService.scrollTo("#scroll-position")}},{key:"onMarkIconClick",value:function(t){this.trackEvent("Марка - Логотип"),this.$scope.$broadcast("angucomplete-alt:changeInput","brandsInput",this.filterValues.brands.find(function(e){return e.value==t}))}},{key:"trackEvent",value:function(e){analytics.trackEvent("Forms","Edited Form","Car Search - ".concat(e))}},{key:"isEqual",value:function(e,t){return JSON.stringify(e)==JSON.stringify(t)}}])}();e.SearchFilterController=t}(Components=Components||{}),angular.module("dealer.web.app").component("shareButton",{bindings:{inputId:"<",inputShareData:"<"},templateUrl:"/components/share-button/share-button.html",transclude:!0,controller:["$element",function(e){return new Components.ShareButtonController(e)}]}),function(e){var t=function(){return _createClass(function e(t){_classCallCheck(this,e),this.$element=t,this.shareData={url:"".concat(location.origin).concat(location.pathname,"?from=share-link").concat(location.hash),title:document.title,text:null==(t=document.getElementsByName("description")[0])?void 0:t.getAttribute("content")}},[{key:"$onInit",value:function(){setTimeout(function(){lazyLoadInstance.update()},0)}},{key:"share",value:function(){this.inputShareData&&(this.shareData=this.inputShareData),navigator.share?navigator.share(this.shareData):(this.$element[0].closest(".ep-overlay").setAttribute("style","visibility: visible;opacity: 1;"),location.hash="share-form".concat(this.inputId||"")),this.trackEvent()}},{key:"trackEvent",value:function(e){e?analytics.trackEvent("Share","Button Clicked",e):analytics.trackEvent("Share","Form Open",e)}},{key:"parentPopupStyleRemove",value:function(){this.$element[0].closest(".ep-overlay").removeAttribute("style")}}])}();e.ShareButtonController=t}(Components=Components||{}),angular.module("dealer.web.app").component("similarCars",{templateUrl:"/components/similar-cars/similar-cars.html",transclude:!0,bindings:{inputModelId:"<"},controller:["$element","$scope","apiDataService","$timeout","$q","$filter",function(e,t,n,i,a,r){return new Components.SimilarCarsController(e,t,n,i,a,r)}]}),function(e){var t=function(){return _createClass(function e(t,n,i,a,r,o){var s=this;_classCallCheck(this,e),this.apiDataService=i,this.$filter=o,this.cardsCount=7,n.$watch(function(){return s.inputModelId},function(e){console.log(s.inputModelId),e&&s.loadModels()}),n.$watch(function(){return s.cardsCount},function(e){var t;e&&(t=document.documentElement.scrollTop,s.addModelGroups=s.$filter("limitTo")(s.allModelGroups,4,s.cardsCount-4),s.hidePagination=s.cardsCount<(null==(e=s.allModelGroups)?void 0:e.length),setTimeout(function(){window.scrollTo(0,t)},100))})},[{key:"loadModels",value:function(){var t=this;this.apiDataService.getSimilarCars(this.inputModelId).then(function(e){t.allModelGroups=e,t.inputModelId&&t.allModelGroups.unshift(t.allModelGroups.splice(t.allModelGroups.findIndex(function(e){return e.modelId==t.inputModelId}),1)[0])}).finally(function(){t.modelGroups=t.$filter("limitTo")(t.allModelGroups,t.cardsCount),t.hidePagination=t.modelGroups.length<t.allModelGroups.length})}},{key:"addCards",value:function(){this.cardsCount+=4}}])}();e.SimilarCarsController=t}(Components=Components||{}),angular.module("dealer.web.app").component("surveys",{templateUrl:"/components/surveys/surveys.html",controller:["$element","$scope","$cookies",function(e,t,n){return new Components.SurveysController(e,t,n)}]}),function(e){var t=function(){return _createClass(function e(t,n,i){var a=this;_classCallCheck(this,e),this.$element=t,this.$cookies=i,this.today=new Date,this.cookieOptions={expires:new Date(this.today.setDate(this.today.getDate()+365)),path:"/"},n.$watch(function(){return a.searchType},function(e){e&&(analytics.trackEvent("Surveys","При обращении в лизинговую компанию вы:",e),i.put("isSurvey_searchType_Completed","true",a.cookieOptions))}),n.$watch(function(){return a.financialOrOperating},function(e){void 0!==e&&(analytics.trackEvent("Surveys","Вы знаете разницу между финансовым и операционным лизингом?",e?"Да":"Нет"),i.put("isSurvey_financialOrOperating_Completed","true",a.cookieOptions))})},[{key:"close",value:function(e){this.$element[0].querySelector("#"+e).classList.remove("ep-modsuboverlay--open");e=this.$element[0].querySelector("#".concat(e," .ep-modsub-title")).textContent;analytics.trackEvent("Surveys",e,"SurveyClosed"),this.$cookies.put("isSurveyHided","true",this.cookieOptions)}},{key:"submitNewMenu",value:function(){analytics.trackEvent("Surveys","New:Вы нашли в меню то, что искали?","".concat(this.newMenu).concat(this.newMenuCustom?" "+this.newMenuCustom:"")),this.newMenuSent=!0,this.$cookies.put("isSurvey_NewMenu_Completed","true",this.cookieOptions)}},{key:"submitOldMenu",value:function(){analytics.trackEvent("Surveys","Old:Вы нашли в меню то, что искали?","".concat(this.oldMenu).concat(this.oldMenuCustom?" "+this.oldMenuCustom:"")),this.oldMenuSent=!0,this.$cookies.put("isSurvey_OldMenu_Completed","true",this.cookieOptions)}}])}();e.SurveysController=t}(Components=Components||{}),angular.module("dealer.web.app").component("uploadStoragedFile",{templateUrl:"/components/upload-storaged-file/upload-storaged-file.html",controller:["$element","FileUploader","$exceptionHandler",function(e,t,n){return new Components.UploadStoragedFileController(e,t,n)}],bindings:{buttonText:"<",disabled:"<",type:"<",onUpload:"&",onError:"&",buttonClass:"<"}}),function(e){var t=function(){function i(e,t,n){var r=this;_classCallCheck(this,i),this.$element=e,this.FileUploader=t,this.$exceptionHandler=n,this.uploader=new this.FileUploader,this.uploader.onAfterAddingFile=function(e){e.upload()},this.uploader.onSuccessItem=function(e,t,n,i){var a;t.success?r.onUpload&&((a=new Models.StoragedFile).id=t.uploaded.id,a.name=t.uploaded.name,r.onUpload(new o(a))):(console&&r.$exceptionHandler("Ошибка при загрузке файла на сервер.",t),r.onError&&r.onError(t.data))},this.uploader.onErrorItem=function(e,t,n,i){console&&r.$exceptionHandler("Ошибка при загрузке файла на сервер.",t),r.onError&&r.onError(t)}}return i.$inject=["$element","FileUploader","$exceptionHandler"],_createClass(i,[{key:"$onInit",value:function(){this.uploader.url=Consts.Urls.storagedFile.upload(this.type)}},{key:"open",value:function(){this.$element.find("input[type=file]").click()}}])}(),o=(e.UploadStoragedFileController=t,_createClass(function e(t){_classCallCheck(this,e),this.uploadedFile=t}));e.UploadedVm=o}(Components=Components||{}),angular.module("dealer.web.app").component("vacancyApp",{templateUrl:"/components/vacancy-app/vacancy-app.html",bindings:{vacancyName:"<",vacancyCityName:"<"},controller:["$element","$scope","apiDataService",function(e,t,n){return new Components.VacancyAppController(e,t,n)}]}),function(e){var t=function(){function a(e,t,n){var i;return _classCallCheck(this,a),(i=_callSuper(this,a,[e,new Services.VacancyAppSubmitter(e),Models.Applications.VacancyAppModel])).$element=e,i.$scope=t,i.apiDataService=n,i.validExtensions=[".doc",".docx",".pdf"],t.$watch(function(){return i.vacancyName},function(e){e&&(i.model.vacancyName=e)}),t.$watch(function(){return i.vacancyCityName},function(e){e&&(i.model.vacancyCityName=e)}),t.$watch(function(){return i.selectedCity},function(e){e&&(i.model.vacancyCityName=e.title)}),t.$watch(function(){return i.selectedPosition},function(e){e&&(i.model.vacancyName=e.title)}),i}return _inherits(a,Controllers.Base.BaseAppCtrl),_createClass(a,[{key:"onFileChange",value:function(e){var t=e.filename.substr(e.filename.lastIndexOf(".")),e=this.validExtensions.some(function(e){return e==t});this.$scope.VacancyForm.Attachment.$setValidity("fileType",e)}}])}();e.VacancyAppController=t}(Components=Components||{}),angular.module("dealer.web.app").component("videoPopup",{bindings:{inputVideo:"<"},templateUrl:"/components/video-popup/video-popup.html",transclude:!0,controller:["$element","$sce","apiDataService","$scope",function(e,t,n,i){return new Components.VideoPopupController(e,t,n,i)}]}),function(e){var t=function(){function r(e,t,n,i){var a=this;_classCallCheck(this,r),this.$element=e,this.$sce=t,this.apiDataService=n,this.inputId=parseInt(this.$element[0].getAttribute("id")),this.preview=this.$element[0].getAttribute("preview"),this.isActive=!1,this.inputId?n.getVideo(this.inputId).then(function(e){a.createVideo(e)}):i.$watch(function(){return a.inputVideo},function(e){e&&a.createVideo(e)})}return r.$inject=["$element","$sce","apiDataService","$scope"],_createClass(r,[{key:"$onInit",value:function(){var e,t=this;setTimeout(function(){lazyLoadInstance.update(),"investor"==t.preview&&t.apiDataService.getVideo(parseInt(t.$element[0].getAttribute("id"))).then(function(e){t.createVideo(e)})},0),this.pagePath=window.location.pathname,window.location.hash=="#video-"+(null==(e=this.inputVideo)?void 0:e.id)&&(this.isActive=!0),window.location.hash=="#video-"+this.inputId&&(this.$element[0].querySelector(".ep-overlay").setAttribute("style","visibility:visible;opacity:1;"),this.isActive=!0)}},{key:"createVideo",value:function(e){this.title=e.title,this.tag="video-"+e.id,this.html=e.html,this.img=e.imageId,this.videoUrl=this.getVideoUrl(e)}},{key:"getVideoUrl",value:function(e){switch(e.playerType){case Enums.VideoPlayerType.YouTube:return this.$sce.trustAsResourceUrl("https://www.youtube.com/embed/"+e.youTubeTag+"?rel=0");case Enums.VideoPlayerType.Dzen:return this.$sce.trustAsResourceUrl("https://frontend.vh.yandex.ru/player/"+e.dzenTag+"?from_block=partner&from=zen");case Enums.VideoPlayerType.VK:return this.$sce.trustAsResourceUrl("https://vk.com/video_ext.php"+e.vkTag);default:return}}},{key:"showVideo",value:function(e){this.isActive=!0,window.location.hash=e,analytics.trackEvent("Video Popup Opened",this.pagePath,this.title),this.shareData={url:"".concat(location.origin).concat(location.pathname,"?from=share-link").concat(location.hash),title:this.title,text:null==(e=document.getElementsByName("description")[0])?void 0:e.getAttribute("content")}}},{key:"closeVideo",value:function(){this.isActive=!1,this.$element[0].querySelector(".ep-overlay").removeAttribute("style"),""==document.referrer?(window.location.hash="!",window.history.pushState("",document.title,window.location.pathname+window.location.search)):window.history.back()}}])}();e.VideoPopupController=t}(Components=Components||{}),(Controllers||(Controllers={})).AnniversaryMapCtrl=function(){function o(e,t,n,i,a){var r=this;_classCallCheck(this,o),this.ipLocateService=i,this.offices||(t.getOfficesYmaps().then(function(e){r.offices=e,768<a.innerWidth?n.ready(function(){return r.initYandexMap("epMap")}):a.innerWidth<=768&&n.ready(function(){return r.initYandexMap("epMapMob")})}),e.$watch(function(){return r.selectedOffice},function(e){e&&(null!==r.selectedOffice.originalObject.properties.login&&(r.manager=null,t.getEmployees([r.selectedOffice.originalObject.properties.login]).then(function(e){0<e.length&&(r.manager=e[0])})),r.myMap.setCenter(e.originalObject.geometry.coordinates,17,{checkZoomRange:!0,duration:2e3}))}))}return o.$inject=["$scope","apiDataService","ymapsLoader","ipLocateService","$window"],_createClass(o,[{key:"initYandexMap",value:function(e){var t,n,i=[55.76,37.64];null!=(t=this.ipLocateService.location)&&t.location&&(t=parseFloat(null==(t=null==(t=this.ipLocateService.location.location)?void 0:t.data)?void 0:t.geo_lat),n=parseFloat(null==(n=null==(n=this.ipLocateService.location.location)?void 0:n.data)?void 0:n.geo_lon),t)&&n&&(i=[t,n]),this.myMap=new ymaps.Map(e,{center:i,zoom:10,controls:[]}),this.myMap.controls.add("zoomControl",{float:"none",position:{top:"120px",right:"20px"}}),this.myMap.behaviors.disable("scrollZoom"),this.objectManager=new ymaps.ObjectManager({clusterize:!1}),this.objectManager.add(this.offices),this.myMap.geoObjects.add(this.objectManager)}},{key:"showMap",value:function(){window.location.hash="m1"}},{key:"closeMap",value:function(){""==document.referrer?(window.location.hash="!",window.history.pushState("",document.title,window.location.pathname+window.location.search)):window.history.back()}}])}(),function(e){var t=function(e){function t(e){return _classCallCheck(this,t),(e=_callSuper(this,t,[e,new Services.ConsultingShortAppSubmitter(e),Models.Applications.LeasingShortAppModel])).model.acceptTerms=void 0,e.model.applicationKind=Enums.ApplicationKind.leasingClientSupport,e}return t.$inject=["$element"],_inherits(t,e),_createClass(t)}(e.Base.BaseAppCtrl);e.ClientSupportAppCtrl=t}(Controllers=Controllers||{}),function(e){var t=function(e){function t(e){return _classCallCheck(this,t),(e=_callSuper(this,t,[e,new Services.ConsultingShortAppSubmitter(e),Models.Applications.LeasingShortAppModel])).model.applicationKind=Enums.ApplicationKind.leasingSalesConsultations,e}return t.$inject=["$element"],_inherits(t,e),_createClass(t)}(e.Base.BaseAppCtrl);e.ConsaltingShortAppCtrl=t}(Controllers=Controllers||{}),function(e){var t=function(e){function t(e){return _classCallCheck(this,t),(e=_callSuper(this,t,[e,new Services.LeasingShortAppSubmitter(e),Models.Applications.LeasingShortAppModel])).additionalInfo=[],e.model.applicationKind=Enums.ApplicationKind.leasingShortLeadgen,e}return t.$inject=["$element"],_inherits(t,e),_createClass(t,[{key:"preSend",value:function(){var e=this.$q.defer();return this.leasingAsset&&this.additionalInfo.push("Предмет лизинга: "+this.leasingAsset),this.brand&&this.additionalInfo.push("Марка: "+this.brand),this.modelName&&this.additionalInfo.push("Модель: "+this.modelName),this.condition&&this.additionalInfo.push("Состояние: "+this.condition),this.price&&this.additionalInfo.push("Стоимость ПЛ: "+this.price),this.productionYear&&this.additionalInfo.push("Год выпуска: "+this.productionYear),this.advance&&this.additionalInfo.push("Размер аванса: "+this.advance),this.needHelp&&this.additionalInfo.push("Нужна помощь в поиске ПЛ: "+this.needHelp),this.position&&this.additionalInfo.push("Должность: "+this.position),this.company&&this.additionalInfo.push("Компания: "+this.company),this.inn&&this.additionalInfo.push("ИНН: "+this.inn),this.region&&this.additionalInfo.push("Регион: "+this.region),this.revenue&&this.additionalInfo.push("Выручка: "+this.revenue),this.activity&&this.additionalInfo.push("Срок деятельности: "+this.activity),this.commentary&&this.additionalInfo.push("Комментарии: "+this.commentary),this.model.commentary=this.additionalInfo.join(" | "),e.resolve(),e.promise}}])}(e.Base.BaseAppCtrl);e.CpaShortAppCtrl=t}(Controllers=Controllers||{}),function(e){var t=function(e){function a(e,t,n){var i;return _classCallCheck(this,a),(i=_callSuper(this,a,[e,new Services.DeferredAppSubmitter(e),Models.Applications.DeferredAppModel])).apiDataService=n,i.allTimeSelectOptions=[{text:"В течение 15 минут",value:"ASAP",hour:0},{text:"с 9:00 до 10:00",value:"09:00",hour:9},{text:"с 10:00 до 11:00",value:"10:00",hour:10},{text:"с 11:00 до 12:00",value:"11:00",hour:11},{text:"с 12:00 до 13:00",value:"12:00",hour:12},{text:"с 13:00 до 14:00",value:"13:00",hour:13},{text:"с 14:00 до 15:00",value:"14:00",hour:14},{text:"с 15:00 до 16:00",value:"15:00",hour:15},{text:"с 16:00 до 17:00",value:"16:00",hour:16},{text:"с 17:00 до 18:00",value:"17:00",hour:17},{text:"с 18:00 до 19:00",value:"18:00",hour:18},{text:"с 19:00 до 20:00",value:"19:00",hour:19},{text:"с 20:00 до 21:00",value:"20:00",hour:20}],i.darkMode=!1,t.$on("DeferredApp_Number",function(e,t){i.model.appNumber=t,i.initPopup()}),t.$watch(function(){return i.time},function(e){return i.model.time=null==e?void 0:e.value}),t.$watch(function(){return i.model.date},function(e){e&&e==i.dates[0].value?i.timeSelectOptions=i.allTimeSelectOptions.filter(function(e){return 0===e.hour||e.hour>i.hour}):i.timeSelectOptions=i.allTimeSelectOptions.filter(function(e){return 0<e.hour}),i.time=i.timeSelectOptions[0]}),i}return a.$inject=["$element","$scope","apiDataService"],_inherits(a,e),_createClass(a,[{key:"$onInit",value:function(){this.model.appNumber||"#deferred-form"!=location.hash||(location.hash="")}},{key:"initPopup",value:function(){var t=this;this.apiDataService.getDeferredAppDates().then(function(e){t.dates=e.dates,t.hour=e.hour,t.darkMode=e.hour<8&&20<e.hour}).finally(function(){return t.model.date=t.dates.filter(function(e){return!e.disabled})[0].value}),analytics.track(Consts.AnalyticTracks.deferredForm.open)}},{key:"preSend",value:function(){var e=this.$q.defer();return analytics.trackEvent("DeferredApplication","RequestedAt",this.model.time),e.resolve(),e.promise}}])}(e.Base.BaseAppCtrl);e.DeferredAppCtrl=t}(Controllers=Controllers||{}),function(e){var t=function(e){function i(e,t){var n;return _classCallCheck(this,i),(n=_callSuper(this,i,[e,new Services.EmailAppSubmitter(e),Models.Applications.EmailAppModel])).$element=e,n.data={},n.initModel(),n}return i.$inject=["$element","$scope"],_inherits(i,e),_createClass(i,[{key:"initModel",value:function(){_superPropGet(i,"initModel",this,3)([]),this.model.acceptTerms=!0,this.model.approveAuthor=!0}}])}(e.Base.BaseAppCtrl);e.AppEmailController=t}(Controllers=Controllers||{}),function(e){var t=function(e){function a(e,t,n){var i;return _classCallCheck(this,a),(i=_callSuper(this,a,[e,new Services.FuelCardAppSubmitter(e),Models.Applications.FuelCardAppModel])).isLkkClient=!1,i.hasActiveRequest=!1,t.$watch(function(){return i.cta},function(e){e?(i.model.clientId=e.originalObject.ctaId,n.post(Consts.Urls.api.validation.fuelContract,{id:e.originalObject.ctaId}).then(function(e){i.isLkkClient=null==(e=e.data)?void 0:e.result}),n.post(Consts.Urls.api.validation.activeFuelRequest,{id:e.originalObject.ctaId}).then(function(e){i.hasActiveRequest=null==(e=e.data)?void 0:e.result})):(i.isLkkClient=!1,i.hasActiveRequest=!1)}),t.$watch(function(){return i.epOffice},function(e){e&&(i.model.issuerId=e.originalObject.id)}),i}return a.$inject=["$element","$scope","$http"],_inherits(a,e),_createClass(a,[{key:"increment",value:function(){this.model.cardsCount++}},{key:"decrement",value:function(){1<this.model.cardsCount&&this.model.cardsCount--}}])}(e.Base.BaseAppCtrl);e.FuelCardAppCtrl=t}(Controllers=Controllers||{}),function(e){var t=function(e){function r(e,t,n,i){var a;return _classCallCheck(this,r),(a=_callSuper(this,r,[e,new Services.IndividualsAppSubmitter(e),Models.Applications.IndividualsAppModel])).$scope=t,a.apiDataService=n,a.$exceptionHandler=i,a.modelsLoad=!1,a.seniorityValues=[{value:!0,label:"Более 3 месяцев"},{value:!1,label:"Менее 3 месяцев"}],a.purposeValues=[{value:!0,label:"Личное пользование"},{value:!1,label:"Коммерческая цель"}],a.creditHistoryValues=[{value:!0,label:"Положительная кредитная история, нет задолженностей"},{value:!1,label:"Есть кредитная задолженность и/или исполнительное производство"}],a.showWarning=!1,t.$on("IndividualsApp_Phone",function(e,t){a.model.phone=t,a.showWarning=!0}),a.model.isCustomCar=!0,t.$watch(function(){return a.brand},function(e,t){e?(a.model.brandId=null==(e=a.brand.originalObject)?void 0:e.id,a.model.brandName=null==(e=a.brand.originalObject)?void 0:e.name,a.updateModels()):(a.model.brandId=null,a.model.brandName=null,a.clearInput("modelsInput"))}),t.$watch(function(){return a.chosenModel},function(e,t){e?(a.model.modelId=null==(e=a.chosenModel.originalObject)?void 0:e.modelId,a.model.modelName=null==(e=a.chosenModel.originalObject)?void 0:e.modelName,a.updateModels()):(a.model.modelId=null,a.model.modelName=null,a.clearInput("modelsInput"))}),t.$watch(function(){return a.seniority},function(e){a.model.isEmployed=void 0===e||null==(e=e.originalObject)?void 0:e.value}),t.$watch(function(){return a.purpose},function(e){a.model.isPersonalUse=void 0===e||null==(e=e.originalObject)?void 0:e.value}),t.$watch(function(){return a.creditHistory},function(e){a.model.isGoodCreditHistory=void 0===e||null==(e=e.originalObject)?void 0:e.value}),a}return r.$inject=["$element","$scope","apiDataService","$exceptionHandler"],_inherits(r,e),_createClass(r,[{key:"preSend",value:function(){var e=this.$q.defer();return this.model.mdfTitle="".concat(this.model.brandName," ").concat(this.model.modelName),e.resolve(),e.promise}},{key:"updateModels",value:function(){var t=this;this.apiDataService.getModelGroupsByBrandId(this.brand.originalObject.id,"cars").then(function(e){t.models=e,t.modelsLoad=!0}).catch(function(e){t.$exceptionHandler("SubscriptionAppCtrl.updateModels(): ",e)})}},{key:"clearInput",value:function(e){e?this.$scope.$broadcast("angucomplete-alt:clearInput",e):this.$scope.$broadcast("angucomplete-alt:clearInput")}}])}(e.Base.BaseAppCtrl);e.IndividualsAppCtrl=t}(Controllers=Controllers||{}),function(e){var t=function(e){function r(e,t,n,i){var a;return _classCallCheck(this,r),(a=_callSuper(this,r,[e,new Services.InsuranceAppSubmitter(e),Models.Applications.InsuranceAppModel])).$element=e,a.$scope=t,a.apiDataService=n,a.$exceptionHandler=i,a.policyTypes=[{name:"Каско"},{name:"СуперКаско"},{name:"ОСАГО"},{name:"ДСАГО"},{name:"Защита лизингополучателя"},{name:"Защита водителя"},{name:"Страхование платежей"},{name:"Страхование шин и дисков"},{name:"Продлённая гарантия"}],a.modelsLoad=!1,t.$on("Insurance_Policy_Type",function(e,t){a.$scope.$broadcast("angucomplete-alt:changeInput","policyTypesInput",a.policyTypes.find(function(e){return e.name==t}))}),t.$watch(function(){return a.selectedCity},function(e){a.model.cityName=null==e?void 0:e.title}),t.$watch(function(){return a.selectedBrand},function(e){e?(a.model.brandName=e.title,a.updateModels()):(a.model.brandName=null,a.clearInput("modelsInput"))}),t.$watch(function(){return a.selectedModel},function(e){var t;e?(a.model.modelName=null!=(t=e.title)?t:e.originalObject,a.updateModels()):(a.model.modelName=null,a.clearInput("modelsInput"))}),t.$watch(function(){return a.selectedPolicyType},function(e){e&&(a.model.policyType=null==(e=e.originalObject)?void 0:e.name)}),a}return r.$inject=["$element","$scope","apiDataService","$exceptionHandler"],_inherits(r,e),_createClass(r,[{key:"updateModels",value:function(){var t=this;this.apiDataService.getModelGroupsByBrandId(this.selectedBrand.originalObject.id,"all").then(function(e){t.models=e,t.modelsLoad=!0}).catch(function(e){t.$exceptionHandler("SubscriptionAppCtrl.updateModels(): ",e)})}},{key:"clearInput",value:function(e){e?this.$scope.$broadcast("angucomplete-alt:clearInput",e):this.$scope.$broadcast("angucomplete-alt:clearInput")}}])}(e.Base.BaseAppCtrl);e.InsuranceRequestCtrl=t}(Controllers=Controllers||{}),function(e){var t=function(e){function n(e,t){return _classCallCheck(this,n),_callSuper(this,n,[e,new Services.LeasingShortAppSubmitter(e),Models.Applications.LeasingShortAppModel])}return n.$inject=["$element","$cookies"],_inherits(n,e),_createClass(n,[{key:"preSend",value:function(){var e=this.$q.defer();return this.model.leasingAsset=this.$cookies.getObject("_ep.leasing-asset"),this.model.leasingCalculation=this.$cookies.getObject("_ep.leasing-calculation"),e.resolve(),e.promise}}])}(e.Base.BaseAppCtrl);e.LeasingShortAppCtrl=t}(Controllers=Controllers||{}),function(e){var t=function(e){function r(e,t,n,i){var a;return _classCallCheck(this,r),(a=_callSuper(this,r,[e,new Services.ServiceShortAppSubmitter(e),Models.Applications.ServiceShortAppModel])).$location=t,a.$scope=n,a.apiDataService=i,a.allServicesList=[{name:"Регистрация ТС",type:6},{name:"Техническое обслуживание",type:1},{name:"Шинный сервис",type:2},{name:"Доставка транспортного средства",type:4},{name:"Спутниковая противоугонная система",type:7},{name:"Премиальное завершение договора",type:9},{name:"Система мониторинга",type:-2},{name:"Тахограф",type:-3},{name:"Подменный автомобиль",type:3}],a.modelsLoad=!1,a.inputServiceType=parseInt(a.$element[0].getAttribute("service-type")),n.$watch(function(){return a.selectedServiceType},function(e){e&&(a.model.additionalService=e.originalObject)}),n.$watch(function(){return a.selectedBrand},function(e){e&&(a.model.brand=e.originalObject,a.apiDataService.getModelGroupsByBrandId(a.selectedBrand.originalObject.id,"all").then(function(e){a.modelsList=e,a.modelsLoad=!0}))}),n.$watch(function(){return a.selectedModel},function(e){e&&(a.model.model=null==e?void 0:e.originalObject)}),n.$watch(function(){return a.selectedCity},function(e){var t;e&&(a.model.city=null==(t=e.originalObject)?void 0:t.name,a.model.fiasId=null==(t=e.originalObject)?void 0:t.id)}),0!=a.inputServiceType?a.model.additionalService=a.allServicesList.find(function(e){return e.type==a.inputServiceType}):a.servicesList=a.allServicesList.filter(function(e){return 0<e.type}),a.$scope.$on("Service_Type_Update",function(e,t){a.scrollToForm(parseInt(t))}),n.$watch(function(){return a.model.contractType},function(e){var t;e==Models.Applications.ServiceContractType.OneTime?(a.servicesList=a.allServicesList.filter(function(e){return 0<e.type&&2!=e.type}),2==(null==(t=null==(t=a.selectedServiceType)?void 0:t.originalObject)?void 0:t.type)&&n.$broadcast("angucomplete-alt:clearInput","serviceTypeInput")):e==Models.Applications.ServiceContractType.FrameWork&&(a.servicesList=a.allServicesList.filter(function(e){return 0<e.type}))}),a}return r.$inject=["$element","$location","$scope","apiDataService"],_inherits(r,e),_createClass(r,[{key:"$onInit",value:function(){switch(this.$location.search().type){case"registration":this.scrollToForm(6);break;case"to":this.scrollToForm(1);break;case"tire-service":this.scrollToForm(2);break;case"delivery":this.scrollToForm(4)}switch(this.$location.hash()){case"registration":this.scrollToForm(6);break;case"to":this.scrollToForm(1);break;case"tire-service":this.scrollToForm(2);break;case"delivery":this.scrollToForm(4)}}},{key:"scrollToForm",value:function(t){var e=this;this.$location.hash("service-form"),t&&setTimeout(function(){e.$scope.$broadcast("angucomplete-alt:changeInput","serviceTypeInput",e.servicesList.find(function(e){return e.type==t})),e.$scope.$apply()},0)}}])}(e.Base.BaseAppCtrl);e.ServicesRequestController=t}(Controllers=Controllers||{}),function(e){var t=function(e){function i(e,t){var n;return _classCallCheck(this,i),(n=_callSuper(this,i,[e,new Services.VykupAppSubmitter(e),Models.Applications.LeasingShortAppModel])).model.acceptTerms=void 0,t.$watch(function(){return n.selectedCity},function(e){n.model.cityName=e?e.title:null}),n}return i.$inject=["$element","$scope"],_inherits(i,e),_createClass(i)}(e.Base.BaseAppCtrl);e.VykupShortAppCtrl=t}(Controllers=Controllers||{}),function(e){var t=function(){function a(e,n,t){var i=this,t=(_classCallCheck(this,a),this.$model=n,this.$filter=t,this.pager={page:1,perPage:10,pagesCount:0,setPage:function(e){i.pager.page=e}},this.filter=new Models.News.NewsItem,this.filtered=n,e.$watch(function(){return i.pager},function(e){return i.updateFilter()},!0),_toConsumableArray(new Set(n.filter(function(e){return 0<e.tagsLinks.length}).map(function(e){return null==(e=e.tagsLinks[0])?void 0:e.newsTag.name}))));this.tags=t.map(function(t){return{label:t,count:n.filter(function(e){return 0<e.tagsLinks.length&&e.tagsLinks.find(function(e){return(null==(e=e.newsTag)?void 0:e.name)==t})}).length}}),e.$watch(function(){return i.selectedTag},function(t){i.filtered=t?n.filter(function(e){return 0<e.tagsLinks.length&&e.tagsLinks.find(function(e){return(null==(e=e.newsTag)?void 0:e.name)==t})}):n,i.updateFilter()})}return a.$inject=["$scope","$model","$filter"],_createClass(a,[{key:"updateFilter",value:function(){var e=this.pager;e.pagesCount=Math.ceil(this.filtered.length/e.perPage),this.list=this.$filter("limitTo")(this.filtered,e.perPage,(e.page-1)*e.perPage)}}])}(),t=(e.BlogCtrl=t,_createClass(["$scope","$model",function e(t,n){var i=this;_classCallCheck(this,e),this.list=n,t.$watch(function(){return i.selectedPost},function(e){e&&(location.href="/company/blog/"+(null==(e=e.originalObject)?void 0:e.id))})}]));e.BlogSearch=t}(Controllers=Controllers||{}),function(e){e.NewsPagination=_createClass(["$model","$location",function e(t,n){_classCallCheck(this,e),this.$model=t,this.pager=new r;var t=t.pager,i=(this.pager.page=t.page,this.pager.perPage=t.perPage,this.pager.pagesCount=t.pagesCount,n.host()),a=n.protocol(),n=n.port();this.pager.url=new URL("".concat(a,"://").concat(i).concat(n?":"+n:"").concat(t.url))}]);var t=_createClass(["$scope",function e(t){var n=this;_classCallCheck(this,e),t.$watch(function(){return n.selectedNews},function(e){e&&(location.href="/company/news/".concat(null==(e=e.originalObject)?void 0:e.id))})}]),r=(e.NewsSearch=t,function(){return _createClass(function e(){_classCallCheck(this,e),this.page=1,this.perPage=0,this.pagesCount=0},[{key:"setPage",value:function(e){this.page=e,this.url.searchParams.append("page",e.toString()),this.url.hash="list",location.href=this.url.toString()}},{key:"next",value:function(){this.page<this.pagesCount&&this.setPage(this.page+1)}}])}())}(Controllers=Controllers||{}),(Controllers||(Controllers={})).Offices=_createClass(["$element","$scope","apiDataService",function e(t,n,i){var a=this;_classCallCheck(this,e),this.$element=t,this.$scope=n,this.apiDataService=i,this.baseUrl="/company/contacts/",this.city=this.$element[0].getAttribute("city"),this.city||(this.baseUrl="/promo/city/"),i.getEpCities().then(function(e){a.cities=e}).finally(function(){a.$scope.$broadcast("angucomplete-alt:changeInput","citiesInput",a.cities.find(function(e){return e.name==a.city}))}),n.$watch(function(){return a.selectedCity},function(e){var t;e&&(null==(t=e.originalObject)?void 0:t.name)!=a.city&&(location.href=a.baseUrl+(null==(t=e.originalObject)?void 0:t.translit))})}]),function(e){var t=function(){function n(e,t){var i=this;_classCallCheck(this,n),this.$model=t,this.offices=[],this.mapOffices=[],this.cityGroups=[],this.cityList=[],this.selectedOffices=[],this.showOfficeDetails=!1,this.cur={offices:[],city:"",office:void 0},this.offices=t.offices,this.offices.forEach(function(e){return e.mapWorkSchedule=(e.mapWorkSchedule||"").replace("\n","<br/>")}),this.cityList=this.offices.map(function(e){return e.cityName}).sort().filter(function(e){return"Москва"!=e&&"Санкт-Петербург"!=e}),this.cityGroups=this.cityList.reduce(function(e,t){var n=i.cityList.filter(function(e){return e[0]==t[0]});return e.some(function(e){return e.some(function(e){return e==t})})||e.push(n),e},[])}return n.$inject=["$element","$model"],_createClass(n,[{key:"setOffice",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];this.cur.office&&this.cur.office.id==e.id||(e.gps={lat:e.latitude,lng:e.longitude},this.showOfficeDetails=t,this.cur.office=e,this.mapOffices=[this.cur.office],setTimeout(function(){},100))}},{key:"selectCity",value:function(t){this.cur.city=t,this.cur.offices=this.offices.filter(function(e){return e.cityName==t}),this.setOffice(this.cur.offices[0]),1==this.cur.offices.length&&(this.showOfficeDetails=!0);var e,n=document.querySelector(".opener");n.classList.contains("active")&&((e=document.createEvent("HTMLEvents")).initEvent("click",!0,!1),n.dispatchEvent(e))}}])}();e.OfficesLanding=t}(Controllers=Controllers||{}),(Controllers||(Controllers={})).Partners=function(){function r(e,t,n,i){var a=this;_classCallCheck(this,r),this.$http=n,this.$model=i,this.regions=[],this.brands=[],this.partners=[],this.partnerCount=0,this.filter={},this.pager={page:1,perPage:10,pagesCount:0,setPage:function(e){a.pager.page=e,a.loadData(e)}},this.regions=i.regions,this.brands=i.brands,this.partnerCount=i.partnerCount,this.updatePageCount(),t.$watch(function(){return a.filter},function(e,t){e==t||(e.isClient!=t.isClient&&(a.filter.brandId=null),a.pager.page=1),a.loadData(a.pager.page)},!0),t.$watch(function(){return a.selectedRegion},function(e,t){var n;e?a.filter.regionId=null==(n=e.originalObject)?void 0:n.id:t&&!e&&(a.filter.regionId=null)}),t.$watch(function(){return a.selectedBrand},function(e,t){var n;e?a.filter.brandId=null==(n=e.originalObject)?void 0:n.id:t&&!e&&(a.filter.brandId=null)})}return r.$inject=["$element","$scope","$http","$model"],_createClass(r,[{key:"updatePageCount",value:function(){this.pager.pagesCount=Math.ceil(this.partnerCount/this.pager.perPage)}},{key:"loadData",value:function(e){var t=this;this.$http.post("/partners/data",angular.extend({},this.filter,{page:e})).then(function(e){t.partnerCount=e.data.count,t.partners=e.data.data,t.updatePageCount()})}}])}(),function(e){e.PressPosts=function(){function a(e,t,n){var i=this;_classCallCheck(this,a),this.$model=t,this.$filter=n,this.list=new Array,this.pager={page:1,perPage:10,pagesCount:0,setPage:function(e){i.pager.page=e}},e.$watch(function(){return i.pager},function(e){return i.updateFilter()},!0)}return a.$inject=["$scope","$model","$filter"],_createClass(a,[{key:"updateFilter",value:function(){var e=this.pager;e.pagesCount=Math.ceil(this.$model.length/e.perPage),this.list=this.$filter("limitTo")(this.$model,e.perPage,(e.page-1)*e.perPage)}}])}();var t=_createClass(["$scope",function e(t){var n=this;_classCallCheck(this,e),t.$watch(function(){return n.selectedPost},function(e){e&&(location.href="/company/about-us/"+(null==(e=e.originalObject)?void 0:e.id))})}]);e.PressSearch=t}(Controllers=Controllers||{}),function(){(Controllers||(Controllers={})).Reviews=function(){function r(e,t,n){var i=this,a=(_classCallCheck(this,r),this.$model=e,this.$scope=t,this.$location=n,this.pager=new o,e.pager),a=(this.pager.page=a.page,this.pager.perPage=a.perPage,this.pager.pagesCount=a.pagesCount,this.pager.url=a.url,this.regions=e.regions,n.host()),e=n.protocol(),n=n.port();this.url=new URL("".concat(e,"://").concat(a).concat(n?":"+n:"","/otzyvy")),t.$watch(function(){return i.selectedRegion},function(e,t){e&&(null==(e=e.originalObject)?void 0:e.code)!=i.$location.search().regionCode?(i.url.searchParams.append("regionCode",null==(e=i.selectedRegion.originalObject)?void 0:e.code),location.href=i.url.href):t&&(i.url.searchParams.delete("regionCode"),location.href=i.url.href)})}return r.$inject=["$model","$scope","$location"],_createClass(r,[{key:"$onInit",value:function(){var t=this;this.$location.search().regionCode&&setTimeout(function(){t.$scope.$broadcast("angucomplete-alt:changeInput","regionsInput",t.regions.find(function(e){return e.code==t.$location.search().regionCode}))},0)}}])}();var o=function(){return _createClass(function e(){_classCallCheck(this,e),this.page=1,this.url="",this.perPage=0,this.pagesCount=0},[{key:"setPage",value:function(e){this.page=e,location.href=this.url.replace("__page__",e.toString())}},{key:"next",value:function(){this.page<this.pagesCount&&this.setPage(this.page+1)}}])}()}(),(Controllers||(Controllers={})).Vacancies=function(){function o(e,t,n,i,a){var r=this;_classCallCheck(this,o),this.$scope=e,this.$model=t,this.$filter=n,this.$timeout=i,this.$location=a,this.filter={cityId:void 0,levelId:void 0,functionId:void 0,name:void 0},this.pager={page:1,perPage:10,pagesCount:0,setPage:function(e){r.pager.page=e}},this.isFiltering=!1,this.refs=t.refs,e.$watch(function(){return r.filter.name},function(e,t){e||(r.filter.name=void 0)}),e.$watch(function(){return r.selectedCity},function(e,t){var n;r.filter.cityId=!e||null==(n=e.originalObject)?void 0:n.id,a.search("city",null==(n=null==e?void 0:e.originalObject)?void 0:n.id)}),e.$watch(function(){return r.selectedLevel},function(e,t){var n;r.filter.levelId=!e||null==(n=e.originalObject)?void 0:n.id,a.search("level",null==(n=null==e?void 0:e.originalObject)?void 0:n.id)}),e.$watch(function(){return r.selectedFunction},function(e,t){var n;r.filter.functionId=!e||null==(n=e.originalObject)?void 0:n.id,a.search("function",null==(n=null==e?void 0:e.originalObject)?void 0:n.id)}),e.$watch(function(){return r.filter},function(e){r.pager.page=1,r.updateFilter()},!0),e.$watch(function(){return r.pager},function(e){return r.updateFilter()},!0)}return o.$inject=["$scope","$model","$filter","$timeout","$location"],_createClass(o,[{key:"$onInit",value:function(){var t=this;this.$location.search().city&&this.setInputValue("citiesInput",this.refs.cities.find(function(e){return e.id==t.$location.search().city})),this.$location.search().level&&this.setInputValue("levelsInput",this.refs.levels.find(function(e){return e.id==t.$location.search().level})),this.$location.search().function&&this.setInputValue("functionsInput",this.refs.functions.find(function(e){return e.id==t.$location.search().function}))}},{key:"updateFilter",value:function(){var t=this;this.isFiltering=!0;this.$timeout.cancel(void 0),this.$timeout(function(){t.filtered=t.$filter("filter")(t.$model.vacancies,t.filter);var e=t.pager;e.pagesCount=Math.ceil(t.filtered.length/e.perPage),t.vacancies=t.$filter("limitTo")(t.filtered,e.perPage,(e.page-1)*e.perPage),t.isFiltering=!1},300)}},{key:"setInputValue",value:function(e,t){var n=this;setTimeout(function(){n.$scope.$broadcast("angucomplete-alt:changeInput",e,t)},0)}},{key:"clearInput",value:function(e){e?this.$scope.$broadcast("angucomplete-alt:clearInput",e):this.$scope.$broadcast("angucomplete-alt:clearInput")}}])}(),(Controllers||(Controllers={})).VacancyFilter=_createClass(["$scope","$location",function e(t,n){var i=this,a=(_classCallCheck(this,e),n.host()),r=n.protocol(),n=n.port();this.url=new URL("".concat(r,"://").concat(a).concat(n?":"+n:"","/career/vacancies")),t.$watchCollection(function(){return[i.selectedCity,i.selectedLevel,i.selectedFunction]},function(){i.selectedCity?i.url.searchParams.append("city",i.selectedCity.originalObject.id.toString()):i.url.searchParams.delete("city"),i.selectedLevel?i.url.searchParams.append("level",i.selectedLevel.originalObject.id.toString()):i.url.searchParams.delete("level"),i.selectedFunction?i.url.searchParams.append("function",i.selectedFunction.originalObject.id.toString()):i.url.searchParams.delete("fucntion")})}]),(Controllers||(Controllers={})).FaqIndexCtrl=function(){function a(e,n,t){var i=this;_classCallCheck(this,a),this.$location=n,this.$element=t,this.hideMobile=!1,this.toggleClassName="faqtitle--active",e.$watchCollection(function(){return[i.chapterId,i.blockId]},function(e,t){e[0]&&e[0]!=t[0]&&(n.search("chapter",i.chapterId),n.search("block",null)),e[1]!=t[1]&&n.search("block",i.blockId)})}return a.$inject=["$scope","$location","$element"],_createClass(a,[{key:"init",value:function(e){var t=this,n=(this.$location.search().chapter?(this.chapterId=parseInt(this.$location.search().chapter),this.hideMobile=!0):this.chapterId=e,this.$location.search().block);n&&(this.blockId=parseInt(n),setTimeout(function(){t.$element[0].querySelector("#block_"+n).classList.add(t.toggleClassName)}))}},{key:"toggleClass",value:function(e){null!=(e=this.$element[0].querySelector(e))&&e.classList.toggle(this.toggleClassName)}}])}(),function(e){var t=function(){function n(e,t){_classCallCheck(this,n),this.$http=e,this.$location=t,this.voted=!1}return n.$inject=["$http","$location"],_createClass(n,[{key:"like",value:function(){this.likesCount+=1,this.post(!0),this.voted=!0}},{key:"dislike",value:function(){this.$location.hash("question-form"),this.dislikesCount+=1,this.post(!1),this.voted=!0}},{key:"post",value:function(e){this.$http.post(Consts.Urls.faq.like,{questionId:this.questionId,isUseful:e})}}])}();e.FaqLikesCtrl=t}(Controllers=Controllers||{}),(Controllers||(Controllers={})).FaqSearchCtrl=_createClass(["$scope","$window",function e(t,n){var i=this;_classCallCheck(this,e),this.$window=n,t.$watch(function(){return i.question},function(e){e&&(n.location.href="/faq/"+(null==(e=e.originalObject)?void 0:e.translit))})}]),function(e){var t=function(){function o(e,t,n,i,a){var r=this,n=(_classCallCheck(this,o),this.$cookies=e,this.apiDataService=n,this.contactsService=i,this.$window=a,this.currentOffice=new Models.CurrentOffice,this.cityList=[],this.cityGroups=[],this.cookieName="currentOffice",this.$onInit=function(){r.$window.addEventListener("scroll",r.toggleStickyHdr.bind(r))},e.getObject(this.cookieName));n?(this.currentOffice=n,t.setIPLocation()):t.setIPLocation().then(function(e){var t;r.contactsService.selectCity(null==(t=null==(t=null==e?void 0:e.location)?void 0:t.data)?void 0:t.region_fias_id,null==(e=null==(t=null==e?void 0:e.location)?void 0:t.data)?void 0:e.city).then(function(e){r.currentOffice=e})})}return o.$inject=["$cookies","ipLocateService","apiDataService","contactsService","$window"],_createClass(o,[{key:"toggleStickyHdr",value:function(){var e=document.querySelector(".ep-hdr"),t=document.querySelector(".ep-navtop"),n=document.querySelector(".ep-navspace");0<this.$window.scrollY?(e.classList.add("ep-hdr-sticky"),t.classList.add("ep-navtop-sticky"),n.classList.add("ep-navspace-sticky")):(e.classList.remove("ep-hdr-sticky"),t.classList.remove("ep-navtop-sticky"),n.classList.remove("ep-navspace-sticky"))}}])}();e.HeaderCtrl=t}(Controllers=Controllers||{}),function(){var e=_createClass(["$element",function e(t){_classCallCheck(this,e),this.$element=t;var n,t=this.$element[0].querySelector('.ep-navbox [href="'.concat(location.pathname).concat(location.search,'"]'));t||(n=location.pathname.substr(0,location.pathname.lastIndexOf("/")),t=this.$element[0].querySelector('.ep-navbox [href="'.concat(n,'"]'))),0==(null==(t=t||this.$element[0].querySelector('.ep-navbox [href="'.concat(location.pathname,'"]')))?void 0:t.classList.length)?(null!=t&&t.classList.add("ep-navsublink-activ"),null!=(n=null==(n=null==t?void 0:t.closest(".ep-navitem"))?void 0:n.querySelector(".ep-navlink"))&&n.classList.add("ep-navlink-activ")):null!=t&&t.classList.contains("ep-navlink")&&null!=t&&t.classList.add("ep-navlink-activ")}]);(Controllers||(Controllers={})).NavigationCtrl=e}(),function(e){var t=function(e){function r(e,t,n,i){var a;return _classCallCheck(this,r),(a=_callSuper(this,r,[e,new Services.LeasingShortAppSubmitter(e),Models.Applications.LeasingShortAppModel])).scrollService=n,a.panelPage="main",a.log=new Models.ShowroomLog,t.$watch(function(){return a.panelPage},function(e,t){e!=t&&(a.log.type="changePage",a.log.message=t+" => "+e,a.$http.post("/showroom/log",a.log).catch(function(e){console.log(e)}))}),a}return r.$inject=["$element","$scope","scrollService","$http"],_inherits(r,e),_createClass(r,[{key:"scrollToForm",value:function(){this.scrollService.scrollTo("#app")}}])}(e.Base.BaseAppCtrl);e.ShowRoomCtrl=t}(Controllers=Controllers||{}),(Controllers||(Controllers={})).InsuranceTypesCtrl=function(){function t(e){_classCallCheck(this,t),this.$rootScope=e}return t.$inject=["$rootScope"],_createClass(t,[{key:"setPolicyType",value:function(e){e&&this.$rootScope.$broadcast("Insurance_Policy_Type",e)}}])}(),(Controllers||(Controllers={})).InvestorDisclosureFilter=_createClass(["$scope","$location",function e(t,n){var i=this,a=(_classCallCheck(this,e),n.host()),r=n.protocol(),n=n.port();this.url=new URL("".concat(r,"://").concat(a).concat(n?":"+n:"","/investor/disclosure")),t.$watchCollection(function(){return[i.selectedType,i.selectedYear]},function(e,t){e[0]&&e[0]!=t[0]&&i.url.searchParams.append("type",i.selectedType.title),e[0]||i.url.searchParams.delete("type"),e[1]&&e[1]!=t[1]&&i.url.searchParams.append("year",i.selectedYear.title),e[1]||i.url.searchParams.delete("year")})}]),(Controllers||(Controllers={})).FinancialFigures=_createClass(function e(){_classCallCheck(this,e),this.tabId=1}),(Controllers||(Controllers={})).InvestorDisclosure=function(){function r(e,t,n,i){var a=this;_classCallCheck(this,r),this.$scope=e,this.$model=t,this.$filter=n,this.$location=i,this.listAll=[],this.list=[],this.refs={},this.filter={},this.pager={page:1,perPage:10,pagesCount:0,setPage:function(e){a.pager.page=e}},this.listAll=t.docs,this.refs=t.refs,e.$watch(function(){return a.selectedType},function(e){var t;e?"Сообщения о существенных фактах"===(null==(t=e.originalObject)?void 0:t.name)?a.filter.title="Сообщение о существенном факте":(a.filter.documentType=null==(t=e.originalObject)?void 0:t.name,a.filter.title=void 0):(a.filter.title=void 0,a.filter.documentType=void 0)}),e.$watch(function(){return a.selectedSubType},function(e,t){a.filter.documentType=!e||null==(e=e.originalObject)?void 0:e.name}),e.$watch(function(){return a.selectedYear},function(e){a.filter.period=!e||null==(e=e.originalObject)?void 0:e.year}),e.$watch(function(){return a.filter},function(e){a.pager.page=1,a.updateFilter()},!0),e.$watch(function(){return a.pager},function(e){return a.updateFilter()},!0)}return r.$inject=["$scope","$model","$filter","$location"],_createClass(r,[{key:"$onInit",value:function(){var e=this,t=this.$location.search().type,n=this.$location.search().year;t&&setTimeout(function(){e.$scope.$broadcast("angucomplete-alt:changeInput","typesInput",e.$model.refs.types.find(function(e){return e.name==t}))},0),n&&setTimeout(function(){e.$scope.$broadcast("angucomplete-alt:changeInput","yearsInput",e.$model.refs.periods.find(function(e){return e.year==n}))},0)}},{key:"updateFilter",value:function(){var e=this.$filter("filter")(this.listAll,this.filter),t=this.pager;t.pagesCount=Math.ceil(e.length/t.perPage),this.list=this.$filter("limitTo")(e,t.perPage,(t.page-1)*t.perPage)}}])}(),function(e){var r,t=function(){function a(e,t,n){var i=this;_classCallCheck(this,a),this.$model=t,this.$filter=n,this.currency=r.rub,this.tabId=1,this.pager={page:1,perPage:9,pagesCount:0,setPage:function(e){i.pager.page=e}},this.annualNewsPager={page:1,perPage:3,pagesCount:0,setPage:function(e){i.annualNewsPager.page=e}},this.quarterlyNewsPager={page:1,perPage:3,pagesCount:0,setPage:function(e){i.quarterlyNewsPager.page=e}},e.$watch(function(){return i.pager},function(){return i.documents=i.updatePager(i.pager,t.documents)},!0),e.$watch(function(){return i.annualNewsPager},function(){return i.annualNews=i.updatePager(i.annualNewsPager,t.annualNews)},!0),e.$watch(function(){return i.quarterlyNewsPager},function(){return i.quarterlyNews=i.updatePager(i.quarterlyNewsPager,t.quarterlyNews)},!0)}return a.$inject=["$scope","$model","$filter"],_createClass(a,[{key:"updatePager",value:function(e,t){return e.pagesCount=Math.ceil(t.length/e.perPage),this.$filter("limitTo")(t,e.perPage,(e.page-1)*e.perPage)}}])}();e.InvestorRelations=t,(t=r=e.Currency||(e.Currency={}))[t.rub=0]="rub",t[t.eur=1]="eur",t[t.usd=2]="usd"}(Controllers=Controllers||{}),(Controllers||(Controllers={})).InvestorReports=function(){function r(e,t,n,i){var a=this;_classCallCheck(this,r),this.$http=n,this.$filter=i,this.listAll=[],this.list=[],this.folders=[],this.years=[],this.filter={folder:"MSFO",year:void 0},this.pager={page:1,perPage:10,pagesCount:0,setPage:function(e){a.pager.page=e}},this.listAll=t.docs,this.folders=t.folders,this.years=t.years.map(function(e){return{value:e}}),e.$watch(function(){return a.selectedYear},function(e,t){e?(a.filter.year=e.originalObject.value,a.updateFilter()):t&&(a.filter.year=void 0,a.updateFilter())}),e.$watch(function(){return a.filter},function(e){a.pager.page=1,a.updateFilter()},!0),e.$watch(function(){return a.pager},function(e){return a.updateFilter()},!0)}return r.$inject=["$scope","$model","$http","$filter"],_createClass(r,[{key:"updateFilter",value:function(){var e=this.$filter("filter")(this.listAll,this.filter),t=this.pager;t.pagesCount=Math.ceil(e.length/t.perPage),this.list=this.$filter("limitTo")(e,t.perPage,(t.page-1)*t.perPage)}}])}(),function(e){var t=function(){function o(e,t,n,i,a){var r=this;_classCallCheck(this,o),this.$scope=e,this.currentOffice=new Models.CurrentOffice,this.cookieName="currentOffice",n.getOffices().then(function(e){r.offices=e;e=t.getObject(r.cookieName);e?(r.currentOffice=e,i.setIPLocation(),r.broadcastOffice()):i.setIPLocation().then(function(e){var t;a.selectCity(null==(t=null==(t=null==e?void 0:e.location)?void 0:t.data)?void 0:t.region_fias_id,null==(e=null==(t=null==e?void 0:e.location)?void 0:t.data)?void 0:e.city).then(function(e){r.currentOffice=e,r.broadcastOffice()})})}),e.$watch(function(){return r.selectedOffice},function(e){e&&(r.contacts=e.originalObject)})}return o.$inject=["$scope","$cookies","apiDataService","ipLocateService","contactsService"],_createClass(o,[{key:"broadcastOffice",value:function(){var e,t=this;null!=(e=this.currentOffice)&&e.officeUrl&&setTimeout(function(){t.$scope.$broadcast("angucomplete-alt:changeInput","citiesInput",t.offices.find(function(e){return e.cityName==t.currentOffice.cityName}))},0)}}])}();e.LandingContactsCtrl=t}(Controllers=Controllers||{}),(Controllers||(Controllers={})).SimilarVehiclesController=_createClass(["$scope",function e(t){var n=this;_classCallCheck(this,e),this.similarTab=0,t.$watch(function(){return n.similarModelIds},function(e){e&&(n.searchBrandIds=_toConsumableArray(new Set(n.similarBrandIds.concat(n.baseBrandId))),n.searchModelIds=_toConsumableArray(new Set(n.similarModelIds.concat(n.baseModelId))))})}]),function(e){var t=function(){function s(n,e,i,t){var a,r,o=this;_classCallCheck(this,s),this.$element=n,this.$timeout=i,this.apiDataService=t,this.activeTab=1,this.fullCalc=!1,this.calc={salaryIncrease:3e4,term:48,insuranceFundsRate:.151},this.rzSliderOptions={salaryIncrease:{hideLimitLabels:!0,hidePointerLabels:!0,showSelectionBar:!0,floor:1e4,ceil:1e5,step:1e3},term:{hideLimitLabels:!0,hidePointerLabels:!0,showSelectionBar:!0,floor:36,ceil:60,step:1}},this.creditRates={ep:.23,bank:.19},this.taxes={ep:new Models.Taxes,bank:new Models.Taxes},this.salary={net:17400,ndfl:2600,insuranceFunds:3020},this.leasing=new Models.AutomotivationDealModel,this.credit=new Models.AutomotivationDealModel,this.loadState={credit:!1,leasing:!1};e.$watchCollection(function(){return[o.calc.term,o.calc.salaryIncrease,o.calc.insuranceFundsRate]},function(e,t){e[0]!=t[0]&&(r="Срок мотивации сотрудника"),e[1]!=t[1]&&(r="Размер повышения зарплаты с НДФЛ"),e[2]!=t[2]&&(r="Отчисление в страховые фонды"),i.cancel(a),a=i(function(){o.trackEvent(r),o.calculate()},1e3)}),e.$watch(function(){return o.activeTab},function(e,t){e&&setTimeout(function(){new Glider(n[0].querySelector(".ep-services-carousel"),{dots:".ep-services-carousel-dots",slidesToScroll:1,responsive:[{breakpoint:0,settings:{slidesToShow:1,scrollLock:!1}},{breakpoint:769,settings:{slidesToShow:3}},{breakpoint:1025,settings:{slidesToShow:4,dots:""}}]})},0)})}return s.$inject=["$element","$scope","$timeout","apiDataService"],_createClass(s,[{key:"calculate",value:function(){this.taxes.ep.nds=this.taxes.ep.np=Math.round((this.calc.salaryIncrease+this.salary.insuranceFunds)*this.calc.term*.2),this.taxes.bank.nds=0,this.taxes.bank.np=Math.round((this.calc.salaryIncrease+this.salary.insuranceFunds)*this.calc.term*.2),this.salary.net=Math.round(.87*this.calc.salaryIncrease),this.salary.ndfl=this.calc.salaryIncrease-this.salary.net,this.salary.insuranceFunds=Math.round(this.calc.salaryIncrease*this.calc.insuranceFundsRate),this.credit.payment=this.salary.net,this.credit.summ=this.credit.payment*this.calc.term,this.credit.pv=Math.round(this.PV(this.creditRates.bank/12,this.calc.term,this.credit.payment)),this.leasing.payment=Math.round(this.calc.salaryIncrease+this.salary.insuranceFunds+this.taxes.ep.nds/this.calc.term),this.leasing.summ=this.leasing.payment*this.calc.term,this.leasing.pv=Math.round(this.PV(this.creditRates.ep/12,this.calc.term,this.leasing.payment)),this.leasing.redemption=this.credit.redemption=Math.round(.49*this.leasing.pv),this.leasing.carCost=this.leasing.redemption+this.leasing.pv,this.credit.carCost=this.credit.redemption+this.credit.pv,this.selectCars(this.credit.carCost,this.leasing.carCost)}},{key:"selectCars",value:function(t,n){var i=this;this.loadState.credit=this.loadState.leasing=!0,this.apiDataService.getModelGroupsByPrice(t).then(function(e){i.creditCar=e[0],i.credit.carCost=i.creditCar.price.lower,i.loadState.credit=!1,i.apiDataService.getSimilarCars(i.creditCar.modelId).then(function(e){1<e.length?(e.shift(),i.similarCars=e,i.leasingCar=i.similarCars.filter(function(e){return e.price.lower<n}).sort(function(e,t){return t.price.lower-e.price.lower})[0],i.loadState.leasing=!1):i.apiDataService.getModelGroupsByPrice(t).then(function(e){i.leasingCar=e[0],i.loadState.leasing=!1})})})}},{key:"showSimilarCars",value:function(){var e=this;location.hash="#similar-cars",setTimeout(function(){new Glider(e.$element[0].querySelector(".ep-motivecards"),{dots:".ep-motivecards-dots",slidesToScroll:1,responsive:[{breakpoint:0,settings:{slidesToShow:1,scrollLock:!1}},{breakpoint:769,settings:{slidesToShow:3}},{breakpoint:1025,settings:{slidesToShow:4,dots:""}}]})},0)}},{key:"replaceLeasingCar",value:function(t){var n=this,e=(this.loadState.leasing=!0,t==this.creditCar.modelId?this.leasingCar=this.creditCar:this.leasingCar=0<t?this.similarCars.find(function(e){return e.modelId==t}):this.similarCars.sort(function(e,t){return t.price.lower-e.price.lower})[0],"?vehicleTypeId=9&makeId=".concat(this.leasingCar.brandId,"&modelId=").concat(this.leasingCar.modelId,"&cost=").concat(this.leasingCar.price.lower-this.leasing.redemption,"&advancePercent=0&term=").concat(this.calc.term));this.apiDataService.getPayment(e).then(function(e){n.leasing.carCost=n.leasingCar.price.lower,n.leasing.payment=e.payment}).finally(function(){n.loadState.leasing=!1}),location.hash="#comparsion"}},{key:"PV",value:function(e,t,n){return n/e*(1-Math.pow(1+e,-t))}},{key:"trackEvent",value:function(e){e&&analytics.trackEvent("Automotivation Calculator","Edited Calculator",e)}}])}();e.AutoMotivationCtrl=t}(Controllers=Controllers||{}),(Controllers||(Controllers={})).BalloonPaymentCalc=_createClass(["$scope","apiDataService",function e(t,n){var i=this;_classCallCheck(this,e),this.apiDataService=n,this.calc={term:48,advance:10,advanceRub:1e5,price:1e6,oni:7e5},this.rzSliderOptions={price:{hideLimitLabels:!0,hidePointerLabels:!0,showSelectionBar:!0,floor:5e5,ceil:15e6,step:1e3},advance:{hideLimitLabels:!0,hidePointerLabels:!0,showSelectionBar:!0,floor:0,ceil:49,step:1},term:{hideLimitLabels:!0,hidePointerLabels:!0,showSelectionBar:!0,floor:12,ceil:60,step:1}},this.moneyCostRate=.010832,t.$watchCollection(function(){return[i.calc.price,i.calc.advance,i.calc.advanceRub,i.calc.term]},function(e,t){e[0]==t[0]&&e[1]==t[1]||(i.calc.advanceRub=i.calc.price*i.calc.advance/100);e=+(.05*(Math.floor(i.calc.term/12)-1)).toFixed(2);i.calc.oni=Math.round(i.calc.price*(.7-e)),i.calc.oni+i.calc.advanceRub>i.calc.price&&(i.calc.oni=i.calc.price-i.calc.advanceRub),i.moneyCost=i.calc.price*i.calc.term*i.moneyCostRate,i.payment=Math.round((i.calc.price-i.calc.advanceRub-i.calc.oni+i.moneyCost)/i.calc.term)})}]),(Controllers||(Controllers={})).BuyOutCtrl=_createClass(function e(){_classCallCheck(this,e),this.selectedPay={},this.payments=[{rePaymentPercent:3,rePaymentRub:3e4,payment:35e3},{rePaymentPercent:30,rePaymentRub:3e5,payment:3e4},{rePaymentPercent:70,rePaymentRub:7e5,payment:2e4}]}),(Controllers||(Controllers={})).EpRecommendsCtrl=_createClass(["$element","$scope",function e(t,n){var i=this;_classCallCheck(this,e),this.$element=t,n.$watch(function(){return i.activeTab},function(){setTimeout(function(){lazyLoadInstance.update(),new Glider(t[0].querySelector(".ep-autosale--roll"),{dots:t[0].querySelector(".ep-autosale--roll-dots"),slidesToScroll:1,responsive:[{breakpoint:0,settings:{slidesToShow:1.2,scrollLock:!1}},{breakpoint:769,settings:{slidesToShow:2.2}},{breakpoint:1025,settings:{slidesToShow:4,dots:""}}]})},0)})}]),(Controllers||(Controllers={})).LeasingIndexCtrl=_createClass(["$element","$scope","scrollService",function e(t,n,i){for(var a=this,r=(_classCallCheck(this,e),this.showAllProducts=!1,device.mobile()),o=(this.productBlocksCount=r?3:6,t[0].querySelectorAll(".ep-carprogs-other .ep-carprog-other")),s=0;s<this.productBlocksCount;s++)o[s].setAttribute("active","true");n.$watch(function(){return a.showAllProducts},function(e,t){t&&!1===e&&i.scrollTo("#products")})}]),(Controllers||(Controllers={})).OperatingCtrl=function(){function o(e,t,n,i,a){var r=this;_classCallCheck(this,o),this.ipLocateService=i,this.offices||(t.getOfficesYmaps().then(function(e){r.offices=e,768<a.innerWidth?n.ready(function(){return r.initYandexMap("epMap")}):a.innerWidth<=768&&n.ready(function(){return r.initYandexMap("epMapMob")})}),e.$watch(function(){return r.selectedOffice},function(e){e&&r.myMap.setCenter(e.originalObject.geometry.coordinates,17,{checkZoomRange:!0,duration:2e3})}))}return o.$inject=["$scope","apiDataService","ymapsLoader","ipLocateService","$window"],_createClass(o,[{key:"initYandexMap",value:function(e){var t,n,i=[55.76,37.64];null!=(t=this.ipLocateService.location)&&t.location&&(t=parseFloat(null==(t=null==(t=this.ipLocateService.location.location)?void 0:t.data)?void 0:t.geo_lat),n=parseFloat(null==(n=null==(n=this.ipLocateService.location.location)?void 0:n.data)?void 0:n.geo_lon),t)&&n&&(i=[t,n]),this.myMap=new ymaps.Map(e,{center:i,zoom:10,controls:[]}),this.myMap.controls.add("zoomControl",{float:"none",position:{top:"120px",right:"20px"}}),this.objectManager=new ymaps.ObjectManager({clusterize:!1}),this.objectManager.add(this.offices),this.myMap.geoObjects.add(this.objectManager)}},{key:"showMap",value:function(){window.location.hash="m1"}},{key:"closeMap",value:function(){""==document.referrer?(window.location.hash="!",window.history.pushState("",document.title,window.location.pathname+window.location.search)):window.history.back()}}])}(),function(e){var t=function(){function a(e,t,n){var i=this;_classCallCheck(this,a),this.$scope=e,this.$http=t,this.pager={page:1,perPage:10,pagesCount:0,setPage:function(e){i.pager.page=e,i.loadData(e)}},this.items=n.items,this.count=n.count,this.updatePageCount(),this.filter={type:n.type,cancelationDate:null,number:null,createDate:null},e.$watch(function(){return i.filter},function(e,t){e!=t&&(i.pager.page=1,i.loadData(i.pager.page))},!0)}return a.$inject=["$scope","$http","$model"],_createClass(a,[{key:"updatePageCount",value:function(){this.pager.pagesCount=Math.ceil(this.count/this.pager.perPage)}},{key:"loadData",value:function(e){var t,n=this,e=(this.updatePageCount(),{type:this.filter.type,number:this.filter.number,page:e,cancelationDate:null,createDate:null});7<(null==(t=this.filter.cancelationDate)?void 0:t.length)&&(e.cancelationDate=this.getFormattedDate(this.filter.cancelationDate)),7<(null==(t=this.filter.createDate)?void 0:t.length)&&(e.cancelationDate=this.getFormattedDate(this.filter.createDate)),this.$http.post("/portal/about/powerofattorneyitems",e).then(function(e){n.count=e.data.count,n.items=e.data.items,n.updatePageCount()})}},{key:"getFormattedDate",value:function(e){e="".concat(e.substring(4,8),"-").concat(e.substring(2,4),"-").concat(e.substring(0,2),"T00:00:00.000Z");return new Date(e)}}])}(),t=(e.PowerOfAttorneyCtrl=t,_createClass(function e(){_classCallCheck(this,e)}));e.PowerOfAttorneyItem=t}(Controllers=Controllers||{}),function(e){var t=function(e){function n(e,t){return _classCallCheck(this,n),(e=_callSuper(this,n,[e,new Services.QrContactsAppSubmitter(e),Models.Applications.EmailAppModel])).$model=t,e.model.ctaId=t.ctaId,window.location.hash&&(window.location.hash=""),e}return n.$inject=["$element","$model"],_inherits(n,e),_createClass(n,[{key:"initCallback",value:function(e){this.model.receiverPhone=e,this.$model.supervisor.mobile==e?this.model.refname=this.$model.supervisor.firstName:this.model.refname=this.$model.employee.firstName,window.location.hash&&(window.location.hash=""),window.location.hash="#qrContacts-callback-form"}}])}(e.Base.BaseAppCtrl);e.QrContactsCtrl=t}(Controllers=Controllers||{}),function(e){var t=function(e){function n(e,t){return _classCallCheck(this,n),(e=_callSuper(this,n,[e,new Services.LeasingShortAppSubmitter(e),Models.Applications.LeasingShortAppModel])).$model=t,e.newDflServices=null==t?void 0:t.newDflServices.map(function(e){return e}),e.validDflServices=null==t?void 0:t.validDflServices.map(function(e){return e}),window.location.hash&&(window.location.hash=""),e}return n.$inject=["$element","$model"],_inherits(n,e),_createClass(n,[{key:"initServicePopup",value:function(e){e&&(this.popupType=e,window.location.hash&&(window.location.hash=""),window.location.hash="#qrContacts-services-form")}},{key:"preSend",value:function(){var e=this.$q.defer();return"newDfl"==this.popupType?(this.model.promoCode="Автоуслуги для нового договора лизинга",this.model.commentary=this.getCommentaryText(this.newDflServices.filter(function(e){return e.isSelected}))):"validDfl"==this.popupType&&(this.model.promoCode="Автоуслуги для действующего договора лизинга",this.model.commentary=this.getCommentaryText(this.validDflServices.filter(function(e){return e.isSelected}))),console.log(this.model),e.resolve(),e.promise}},{key:"getCommentaryText",value:function(e){var n;return 0==e.length?null:(n="Выбранные автоуслуги: ",e.forEach(function(e,t){n=n+(0<t?" // ":"")+e.name}),n)}}])}(e.Base.BaseAppCtrl);e.QrContactsServicesCtrl=t}(Controllers=Controllers||{}),function(e){var t=function(){function r(e,t,n,i){var a=this;_classCallCheck(this,r),this.ipLocateService=i,this.type="EP",this.serviceStations||t.getServiceStations().then(function(e){a.serviceStations=e,n.ready(function(){return a.initYandexMap()})})}return r.$inject=["$scope","apiDataService","ymapsLoader","ipLocateService"],_createClass(r,[{key:"initYandexMap",value:function(){var e=[55.76,37.64],t=(null!=(t=this.ipLocateService.location)&&t.location&&(t=parseFloat(null==(t=null==(t=this.ipLocateService.location.location)?void 0:t.data)?void 0:t.geo_lat),n=parseFloat(null==(n=null==(n=this.ipLocateService.location.location)?void 0:n.data)?void 0:n.geo_lon),t)&&n&&(e=[t,n]),new ymaps.Map("epMap",{center:e,zoom:10})),n=new ymaps.ObjectManager({clusterize:!0});n.add(this.serviceStations),t.geoObjects.add(n)}}])}();e.FuelCardCtrl=t}(Controllers=Controllers||{}),(Controllers||(Controllers={})).ServicesChecklistCtrl=_createClass(["$scope",function e(t){var n=this;_classCallCheck(this,e),this.showAllServices=!1,this.isCar=function(){return"cars"==n.vehicleType},this.isCommercial=function(){return"commercial"==n.vehicleType},this.isSpecial=function(){return"special"==n.vehicleType},this.isElectric=function(){return"electric"==n.vehicleType},t.$watch(function(){return n.isSpecial},function(){n.isSpecial()&&(n.showAllServices=!0)})}]),(Controllers||(Controllers={})).ServicesLandingCtrl=function(){function t(e){_classCallCheck(this,t),this.$rootScope=e}return t.$inject=["$rootScope"],_createClass(t,[{key:"scrollToForm",value:function(e){this.$rootScope.$broadcast("Service_Type_Update",e)}}])}(),(Controllers||(Controllers={})).TreePlantingMapCtrl=function(){function n(e){var t=this;_classCallCheck(this,n),e.ready(function(){return t.initYandexMap()})}return n.$inject=["ymapsLoader"],_createClass(n,[{key:"initYandexMap",value:function(){var e=new ymaps.Map("epMap",{center:[55.05242,61.09317],zoom:12}),t=new ymaps.GeoObjectCollection({},{});t.add(new ymaps.Placemark([55.0524,61.0934],{})),t.add(new ymaps.Placemark([55.05253,61.09317],{})),t.add(new ymaps.Placemark([55.05242,61.09299],{})),t.add(new ymaps.Placemark([55.05229,61.09324],{})),e.geoObjects.add(t)}}])}(),function(e){e.SpecialOffers_Filter=_createClass(["$rootScope","$scope",function e(n,t){var i=this;_classCallCheck(this,e),t.$watch(function(){return i.filter},function(e,t){n.$broadcast("SpecialOffers_Filter_Update",i.filter)})}]);var t=function(){function i(e,t){var n=this;_classCallCheck(this,i),t.$on("SpecialOffers_Filter_Update",function(e,t){n.filter=t})}return i.$inject=["$element","$scope"],_createClass(i,[{key:"filterBy",value:function(e,t){var n;return(null==(n=this.filter)||!n.brand||(null==(n=this.filter.brand.originalObject)?void 0:n.id)===e)&&(!(null!=(n=this.filter)&&n.type&&0<t.length)||"cars"==this.filter.type&&-1!=t.indexOf(0)||"commercial"==this.filter.type&&-1!=t.indexOf(1)||"special"==this.filter.type&&-1!=t.indexOf(2)||"trailer"==this.filter.type&&-1!=t.indexOf(3))}}])}();e.SpecialOffers_Index=t}(Controllers=Controllers||{}),function(e){var t=function(){function t(e){_classCallCheck(this,t),this.$element=e,this.paymentTooltip=Consts.Tooltips.payment}return t.$inject=["$element"],_createClass(t,[{key:"showAll",value:function(){for(var e=this.$element[0].querySelectorAll(".ep-actionbox__item"),t=0;t<e.length;t++)e[t].removeAttribute("style");this.$element[0].querySelector(".ep-action-btnbox").setAttribute("style","display:none")}}])}();e.BrandOfferController=t}(Controllers=Controllers||{}),function(e){var t=function(){function o(e,t,n,i,a){var r=this;_classCallCheck(this,o),this.$element=e,this.$location=t,this.scrollService=a,this.brand="Все",this.kind="PremiumSubscription",this.segments=[{label:"до 50 000 руб.",min:0,max:5e4},{label:"50 000 - 100 000 руб.",min:5e4,max:1e5},{label:"100 000 - 200 000 руб.",min:1e5,max:2e5},{label:"более 200 000 руб.",min:2e5,max:1e6}],this.sort="a",this.order=!0,this.brands=_toConsumableArray(new Set(i.brands.map(function(e){return e.brandName}))),n.$watch(function(){return r.segment},function(a,e){a?(r.brands=_toConsumableArray(new Set(i.brands.filter(function(e,t,n){var i;return e.payment36x30>(null==(i=a.originalObject)?void 0:i.min)&&e.payment36x30<(null==(i=a.originalObject)?void 0:i.max)}).map(function(e){return e.brandName}))),analytics.trackEvent(r.kind,"changeType",e+" => "+a)):r.brands=_toConsumableArray(new Set(i.brands.map(function(e){return e.brandName})))}),n.$watch(function(){return r.brand},function(e,t){e!=t&&analytics.trackEvent(r.kind,"changeBrand",t+" => "+e)})}return o.$inject=["$element","$location","$scope","$model","scrollService"],_createClass(o,[{key:"$onInit",value:function(){var e=this,t=this.$location.search().from;t&&analytics.trackEvent(this.kind,"entryPointIndex",t),"e"===this.$location.search().type&&(this.brand="Электромобили",this.scrollService.scrollTo("#list")),setTimeout(function(){lazyLoadInstance.update(),new Glider(e.$element[0].querySelector(".ep-subspay"),{dots:e.$element[0].querySelector(".ep-tiles--dots-0"),slidesToScroll:1,responsive:[{breakpoint:0,settings:{slidesToShow:1.2,scrollLock:!1}},{breakpoint:769,settings:{slidesToShow:2.2}},{breakpoint:1025,settings:{slidesToShow:4,dots:"",arrows:{prev:".ep-linelist-carousel-nav .glider-prev",next:".ep-linelist-carousel-nav .glider-next"}}}]})},0)}},{key:"filter",value:function(e,t,n){return"Электромобили"==this.brand&&2==n||!(this.brand!=e&&"Все"!=this.brand||this.segment&&((null==(n=this.segment.originalObject)?void 0:n.min)>t||(null==(e=this.segment.originalObject)?void 0:e.max)<t))}},{key:"showElectroCars",value:function(){var e;return!this.segment||1e5==(null==(e=this.segment.originalObject)?void 0:e.min)||("Электромобили"==this.brand&&(this.brand="Все"),!1)}},{key:"resort",value:function(e){this.sort==e?this.order=!this.order:this.order=!0,this.sort=e,this.sortList()}},{key:"sortList",value:function(){for(var e,t,n,i=this.$element[0].querySelector(".ep-subsbox"),a=!0;a;){for(a=!1,t=i.getElementsByClassName("sortable-item"),e=0;e<t.length-1;e++)if(n=!1,this.order){if(this.getSortIndex(t[e].getAttribute(this.sort))>this.getSortIndex(t[e+1].getAttribute(this.sort))){n=!0;break}}else if(this.getSortIndex(t[e].getAttribute(this.sort))<this.getSortIndex(t[e+1].getAttribute(this.sort))){n=!0;break}n&&(t[e].parentNode.insertBefore(t[e+1],t[e]),a=!0)}}},{key:"getSortIndex",value:function(e){return"p"==this.sort?parseInt(e):e.toLowerCase()}}])}();e.SubscriptionCtrl=t}(Controllers=Controllers||{}),function(e){var t=function(e){function o(e,t,n,i,a){var r;return _classCallCheck(this,o),(r=_callSuper(this,o,[e,new Services.IndividualsAppSubmitter(e),Models.Applications.IndividualsAppModel,!1])).$scope=t,r.$model=n,r.$location=i,r.$filter=a,r.termOptions=[{text:"12 месяцев",value:12},{text:"24 месяца",value:24},{text:"36 месяцев",value:36}],r.allMileageOptions=[{text:"10 000 км",value:1e4,availableOnTerm:[12]},{text:"20 000 км",value:2e4,availableOnTerm:[12,24]},{text:"30 000 км",value:3e4,availableOnTerm:[12,36]},{text:"40 000 км",value:4e4,availableOnTerm:[24]},{text:"60 000 км",value:6e4,availableOnTerm:[24,36]},{text:"90 000 км",value:9e4,availableOnTerm:[36]}],r.payments={start:0,drive:0},r.purposeValues=[{value:!0,label:"Личное пользование"},{value:!1,label:"Коммерческая цель"}],r.filter={term:36,mileage:3e4},t.$watch(function(){return r.term},function(t,e){t&&(r.mileageOptions=r.allMileageOptions.filter(function(e){return e.availableOnTerm.includes(t.value)}),r.mileage=r.mileageOptions[0],r.model.term=r.term.value,r.filter.term=r.term.value),e&&t!=e&&(analytics.trackEvent("PremiumSubscription","changeSubscriptionTerm",e.value+" => "+t.value),analytics.trackEvent("Forms","Edited Form","Subscription / Срок подписки"))}),t.$watch(function(){return r.mileage},function(e,t){r.model.mileage=r.mileage.value,r.filter.mileage=r.mileage.value,r.updatePayments(),t&&e!=t&&(analytics.trackEvent("PremiumSubscription","changeSubscriptionMileage","".concat(t.value," 000 => ").concat(e.value," 000")),analytics.trackEvent("Forms","Edited Form","Subscription / Пробег"))}),t.$watch(function(){return r.model.tariff},function(e,t){e&&(e==Models.SubscriptionTariff.Start?r.model.payment=r.payments.start:r.model.payment=r.payments.drive),t&&e!=t&&(analytics.trackEvent("PremiumSubscription","changeSubscriptionTariff","".concat(t," => ").concat(e)),analytics.trackEvent("Forms","Edited Form","Subscription / Тариф"))}),t.$watch(function(){return r.purpose},function(e){r.model.isPersonalUse=void 0===e||null==(e=e.originalObject)?void 0:e.value}),r}return o.$inject=["$element","$scope","$model","$location","$filter"],_inherits(o,e),_createClass(o,[{key:"updatePayments",value:function(){var e,t=this.$filter("filter")(this.$model.payments,this.filter);this.payments.start=null==(e=t.find(function(e){return e.tariff==Models.SubscriptionTariff.Start}))?void 0:e.payment,this.payments.drive=null==(e=t.find(function(e){return e.tariff==Models.SubscriptionTariff.Drive}))?void 0:e.payment}},{key:"$onInit",value:function(){var e=this.$location.search().from;e&&analytics.trackEvent("PremiumSubscription","entryPointOffer",e),this.term=this.termOptions[2],this.model.brandId=this.$model.descriptionModel.brandId,this.model.brandName=this.$model.descriptionModel.brandName,this.model.modelId=this.$model.descriptionModel.modelId,this.model.modelName=this.$model.descriptionModel.modelName,this.model.mdfTitle=this.$model.title}}])}(e.Base.BaseAppCtrl);e.SubscriptionOfferCtrl=t}(Controllers=Controllers||{}),function(e){var t=function(e){function t(e){return _classCallCheck(this,t),(e=_callSuper(this,t,[e,new Services.AfterMeetingSurveySubmitter(e),Models.AfterMeetingSurveyRequest])).model.query=window.location.search,e}return t.$inject=["$element"],_inherits(t,e),_createClass(t)}(e.Base.BaseAppCtrl);e.AfterMeetingSurvey=t}(Controllers=Controllers||{}),function(e){var t=function(e){function i(e,t){var n;return _classCallCheck(this,i),(n=_callSuper(this,i,[e,new Services.SurveySubmitter(e),Models.SurveyModel])).$element=e,n.$scope=t,n.model.acceptPublication=!0,t.$watch(function(){return n.epOffice},function(e){e&&(n.model.region=e.title)}),n}return i.$inject=["$element","$scope"],_inherits(i,e),_createClass(i)}(e.Base.BaseAppCtrl);e.SurveyCtrl=t}(Controllers=Controllers||{}),angular.module("dealer.web.app").directive("autoComplete",["$timeout",function(i){return function(e,t,n){t.autocomplete({source:e[n.uiItems],select:function(){i(function(){t.trigger("input")},0)}})}}]),angular.module("dealer.web.app").directive("autoFocusOn",["$timeout",function(n){return{scope:{model:"=autoFocusOn"},restrict:"AC",link:function(e,t){e.$watch("model",function(e){e&&n(function(){t[0].focus()},0)})}}}]),ngApp.main.directive("checkbox",function(){return{scope:{checkbox:"=",value:"@"},transclude:!0,template:'<label><input ng-checked="selected" type="checkbox" class="option-check gray xl"><span></span><ng-transclude></ng-transclude></label>',link:function(e,t,n){var i=e.value||!0;void 0!==n.default&&void 0===e.checkbox&&(e.checkbox=i),t.find("input").bind("click",function(){t.attr.disabled||e.$apply(function(){e.checkbox=e.checkbox==i?void 0:i})}),e.$watch("checkbox",function(){e.selected=e.checkbox==i})}}}),ngApp.main.directive("checklistModel",["$parse","$compile",function(h,m){function f(e,t,n){if(angular.isArray(e))for(var i=e.length;i--;)if(n(e[i],t))return!0;return!1}function n(r,e,n){var i,t=n.checklistModel,o=(n.$set("checklistModel",null),m(e)(r),n.$set("checklistModel",t),h(t)),s=o.assign,a=h(n.checklistChange),l=h(n.checklistBeforeChange),c=n.checklistValue?h(n.checklistValue)(r.$parent):n.value,u=angular.equals;function d(e,t){var n,i,a=o(r.$parent);angular.isFunction(s)&&s(r.$parent,!0===t?(t=a,n=e,i=u,f(t=angular.isArray(t)?t:[],n,i)||t.push(n),t.sort(function(e){return e})):function(e,t,n){if(angular.isArray(e))for(var i=e.length;i--;)if(n(e[i],t)){e.splice(i,1);break}return e}(a,e,u))}function p(e,t){l&&!1===l(r)?d(c,r[n.ngModel]):r[n.ngModel]=f(e,c,u)}n.hasOwnProperty("checklistComparator")&&(u="."==n.checklistComparator[0]?(i=n.checklistComparator.substring(1),function(e,t){return e[i]===t[i]}):h(n.checklistComparator)(r.$parent)),r.$watch(n.ngModel,function(e,t){e!==t&&(l&&!1===l(r)?r[n.ngModel]=f(o(r.$parent),c,u):(d(c,e),a&&a(r)))}),angular.isFunction(r.$parent.$watchCollection)?r.$parent.$watchCollection(t,p):r.$parent.$watch(t,p,!0)}return{restrict:"A",priority:1e3,terminal:!0,scope:!0,compile:function(e,t){if(("INPUT"!==e[0].tagName||"checkbox"!==t.type)&&"MD-CHECKBOX"!==e[0].tagName&&!t.btnCheckbox)throw'checklist-model should be applied to `input[type="checkbox"]` or `md-checkbox`.';if(t.checklistValue||t.value)return t.ngModel||t.$set("ngModel","checked"),n;throw"You should provide `value` or `checklist-value`."}}}]),angular.module("dealer.web.app").directive("dynamicName",["$compile","$parse",function(i,a){return{restrict:"A",terminal:!0,priority:1e5,link:function(e,t){var n=a(t.attr("dynamic-name"))(e);t.removeAttr("dynamic-name"),t.attr("name",n),i(t)(e)}}}]),String.prototype.splice=function(e,t,n){return this.slice(0,e)+n+this.slice(e+Math.abs(t))},angular.module("dealer.web.app").directive("numberInput",["$timeout",function(t){return{restrict:"A",scope:{field:"=numberInput",range:"=range",trigger:"=autoFocus",suffix:"=suffix"},replace:!0,template:'<input type="text" ng-model="tmpField"></input>',link:function(r,o,e){r.$watch("trigger",function(e){!0===e&&t(function(){o[0].focus()})}),o.bind("keydown",function(e){var t=e.which||e.keyCode;return!e.shiftKey&&!e.altKey&&!e.ctrlKey&&48<=t&&t<=57||96<=t&&t<=105||8==t||9==t||13==t||35==t||36==t||37==t||39==t||46==t||45==t});function n(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];for(r.tmpField=r.tmpField||"",o.find("input").val();"0"==r.tmpField.charAt(0)&&1<r.tmpField.length;)r.tmpField=r.tmpField.substr(1);r.tmpField=r.tmpField.replace(/[^\d.\',']/g,"");var t=parseInt(r.tmpField);r.range&&t>r.range.max&&(t=r.range.max,r.tmpField=t.toString()),!r.range||t>=r.range.min?r.field=t:r.range&&e&&t<r.range.min&&(t=r.range.min,r.tmpField=t.toString()),0<=(e=r.tmpField.indexOf("."))&&(r.tmpField=r.tmpField.slice(0,e+3));var n=(t=r.tmpField.split("."))[0],e=t[1];if(3<(n=n.replace(/[^\d]/g,"")).length)for(var i=Math.floor(n.length/3);0<i;){var a=n.indexOf(" ");0<(a=a<0?n.length:a)-3&&(n=n.splice(a-3,0," ")),i--}t=n+(e=void 0===e?"":"."+e),void 0!==r.suffix&&(t+=r.suffix),r.tmpField=t}n(),o.bind("keyup",function(){return r.$apply(function(){return n()})}),r.$watch("field",function(e){var t;r.tmpField=null==(t=r.field)?void 0:t.toString(),n()}),o.on("blur",function(){return r.$apply(function(){n(!0)})})}}}]),angular.module("dealer.web.app").directive("preventInvalidFormSubmit",function(){return{require:"^form",link:function(e,t,n,i){t.bind("submit",function(){return!e[n.name].$invalid})}}}),angular.module("dealer.web.app").directive("radio",function(){return{scope:{radio:"=",value:"@"},transclude:!0,template:'<span class="radio" style="cursor:pointer" data-styled="1" ng-class="{\'radio-selected\': selected}" ></span> <span class="radio-label" style="cursor:pointer" ng-transclude></span>',link:function(e,t,n){var i=e.value;"false"===(i="true"===i?!0:i)&&(i=!1),void 0!==n.default&&null==e.radio&&(e.radio=i),t.bind("click",function(){t.attr.disabled||e.$apply(function(){e.radio=i})}),e.$watch("radio",function(){e.selected=e.radio==i})}}}),angular.module("dealer.web.app").directive("setFormDirty",["formService",function(a){return{require:"^form",replace:!1,template:"",link:function(e,t,n,i){t.on("click",function(){a.setFormDirty(i)})}}}]),angular.module("dealer.web.app").directive("submitIfValid",["formService","$parse","scrollService","$window",function(a,r,e,t){return{require:"^form",replace:!1,template:"",link:function(t,e,n,i){e.on("click",function(e){t.$apply(function(){a.setFormDirty(i),i.$valid&&r(n.submitIfValid)(t,{$event:e})})})}}}]),angular.module("dealer.web.app").directive("submitIfValidAsync",["formService","$parse",function(t,s){return{require:"^form",replace:!1,template:"",link:function(a,e,r,o){e.on("click",function(n){a.$apply(function(){return t.setFormDirty(o)});var i=a.$watch(function(){return o.$pending},function(e){var t=o.$valid;e||(i(),t&&s(r.submitIfValidAsync)(a,{$event:n}))})})}}}]),angular.module("dealer.web.app").directive("asyncDate",["validationService","$q",function(o,s){return{require:["ngModel","^form"],link:function(e,t,n,i){var a=i[0],r=i[1];a.$asyncValidators.asyncDate=function(e){return s(function(t,n){r.errorMessages_asyncDate=void 0,o.validateDate(e).then(function(e){t()},function(e){r.errorMessages_asyncDate=e.description,n(e)})})},n.$observe("asyncDate",function(){a.$validate()})}}}]),angular.module("dealer.web.app").directive("asyncPhoneNumber",["validationService","$q",function(o,s){return{require:["ngModel","^form"],link:function(e,t,n,i){var a=i[0],r=i[1];a.$asyncValidators.asyncPhoneNumber=function(e){return s(function(t,n){r.errorMessages_asyncPhoneNumber=void 0,o.validatePhone(e).then(function(e){t()},function(e){r.errorMessages_asyncPhoneNumber=e.description,n(e)})})},n.$observe("asyncPhoneNumber",function(){a.$validate()})}}}]),angular.module("dealer.web.app").directive("dynamicValidationMessage",function(){var p={required:"Заполните это поле.",minlength:"Длина поля должна быть не меньше {0} символов.",maxlength:"Длина поля должна быть не больше {0} символов.",pattern:"Пожалуйста, проверьте это поле.",email:"Введите в поле правильный адрес email",date:"Пожалуйста, введите правильную дату",number:"Поле должно содержать число",digit:"Поле должно содержать цифры"};return{scope:{for:"@"},require:"^form",replace:!1,template:"",link:function(s,l,c,e){var u=e.$name,d=s.for,e=u+'["'+d+'"]';s.$watch("["+(e=s[u]?e:"$parent."+e)+".$error, "+e+".$dirty] | json",function(){var e=(s[u]||s.$parent[u])[d];if(e){var t=e.$invalid&&e.$dirty,n=(l.css("display",t?"":"none"),"");if(t){e.$setViewValue(e.$viewValue);var i,a,r,o=e.$error;for(i in o)o.hasOwnProperty(i)&&(r=c[i]||p[i],o[i])&&r&&("minlength"!=i&&"maxlength"!=i||(a=angular.element(document.querySelector('[name="'+u+'"]')).find('input[name="'+d+'"]').attr("ng-"+i),r=r.replace("{0}",a)),n+=r+"<br/>")}l.addClass(c.class||"text-error"),l.html(n)}})}}}),angular.module("dealer.web.app").directive("epEmail",function(){return{require:"ngModel",link:function(e,t,n,i){i.$validators.epEmail=function(e,t){return null==t||""===t||/^[a-z0-9]+[a-z0-9._-]+@[a-z0-9-]+\.[a-z.]{2,10}$/i.test(t)},n.$observe("epEmail",function(){i.$validate()})}}}),angular.module("dealer.web.app").directive("needAccept",function(){return{require:"ngModel",link:function(e,t,n,i){i.$validators.needAccept=function(e,t){return!0===t},n.$observe("needAccept",function(){i.$validate()})}}}),angular.module("dealer.web.app").directive("numbersOnly",function(){return{require:"ngModel",link:function(e,t,n,i){i.$parsers.push(function(e){var t;return null==e?"":((t=e.toString().replace(/[^0-9]/g,""))!=e&&(i.$setViewValue(t),i.$render()),t)})}}}),angular.module("dealer.web.app").directive("numbersRange",function(){return{scope:{rangeParams:"=numbersRange"},require:"ngModel",link:function(i,t,e,a){t.on("blur",function(){i.$apply(function(){var e=parseInt(angular.element(t).val().toString());(isNaN(e)||e<i.rangeParams.min)&&(e=i.rangeParams.min.toString(),a.$setViewValue(e),a.$render())})}),a.$parsers.push(function(e){var t,n;return null==e?"":(t=parseInt(e),(n=e.replace(/[^0-9]/g,""))!=e&&(a.$setViewValue(n),a.$render()),t>i.rangeParams.max&&(n=i.rangeParams.max.toString(),a.$setViewValue(n),a.$render()),n)})}}}),angular.module("dealer.web.app").directive("onlyCyrillic",function(){return{require:"ngModel",link:function(e,t,n,i){i.$validators.onlyCyrillic=function(e,t){return null==t||""===t||/^[а-яА-ЯеЁё\-\ ]+$/.test(t)},n.$observe("onlyCyrillic",function(){i.$validate()})}}}),angular.module("dealer.web.app").directive("onlyCyrillicLatinNumeric",function(){return{require:"ngModel",link:function(e,t,n,i){i.$parsers.unshift(function(e){var t=null==e||""===e||/^[а-яА-ЯеЁёa-zA-Z0-9\-\ \.\«\»\"\"\+]+$/.test(e);return i.$setValidity("onlyCyrillicLatinNumeric",t),e})}}}),angular.module("dealer.web.app").directive("onlyNumeric",function(){return{require:"ngModel",link:function(e,t,n,i){i.$validators.onlyNumeric=function(e,t){return null==t||""===t||/^\d+$/.test(t)},n.$observe("onlyNumeric",function(){i.$validate()})}}}),angular.module("dealer.web.app").directive("requiredTrue",function(){return{require:"ngModel",link:function(e,t,n,i){i.$validators.requiredTrue=function(e,t){return!0===t},n.$observe("requiredTrue",function(){i.$validate()})}}}),angular.module("dealer.web.app").directive("validationMessage",["$parse",function(n){var h={required:"Заполните это поле",minlength:"Не меньше {0} символов.",maxlength:"Не больше {0} символов.",pattern:"Пожалуйста, проверьте это поле",email:"Введите в поле правильный адрес email",epEmail:"Введите правильный адрес email",date:"Пожалуйста, введите правильную дату",number:"Поле должно содержать число",digit:"Поле должно содержать цифры",mask:"Пожалуйста, проверьте это поле",onlyCyrillic:"Пожалуйста, проверьте это поле",onlyCyrillicLatinNumeric:"Пожалуйста, проверьте это поле",onlyNumeric:"Поле должно содержать цифры",invalidRegion:"Данный регион не обслуживается",invalidBrand:"Данная марка не финансируется",invalidModel:"Данная модель не финансируется",smsSendMaxCountExceeded:"Превышено максимальное количество смс",smsSendFailed:"Не удалось отправить код подтверждения",smsrequired:"Необходимо получить код подтверждения",smsCodeInvalid:"Неверный код",smsCodeError:"При проверке кода произошла ошибка",smsSendSpamProtection:"Отправить повторный код можно через 2 минуты",smsCodeExpired:"Истёк срок действия кода",fio:"Пожалуйста, проверьте ФИО",asyncPhoneNumber:null,needAccept:"Необходимо согласие"};return{require:"^form",replace:!1,template:"",link:function(s,l,c,e){var u=e.$name,d=c.for,e=u+'["'+d+'"]';function p(e,t){return n(t)(e)}s.$watch("["+e+".$error, "+e+".$dirty] | json",function(){var e=p(s,u),t=p(e,d);if(t){t.$dirty&&analytics.trackEvent("Forms","Edited Form",u+" - "+d);var n=t.$invalid&&t.$dirty;l.css("display",n?"":"none");if(n){var i,a,r,o=t.$error;for(i in l.parent().find("input").addClass("error-field").addClass("ep-inputfield__danger"),l.parent().find("textarea").addClass("error-field").addClass("ep-inputfield__danger"),o)o.hasOwnProperty(i)&&(r=c[i]||h[i]||e["errorMessages_"+i],o[i])&&r&&("minlength"!=i&&"maxlength"!=i||(a=document.querySelector('[ng-form="'+u+'"] input[name="'+d+'"]').getAttribute("ng-"+i),r=r.replace("{0}",a)),l.addClass(c.class||"text-error"),l.html(r))}else l.parent().find("input").removeClass("error-field").removeClass("ep-inputfield__danger"),l.parent().find("textarea").removeClass("error-field").removeClass("ep-inputfield__danger")}})}}}]),function(e){(e.Applications||(e.Applications={})).AttachedFile=_createClass(function e(){_classCallCheck(this,e)})}(Models=Models||{}),function(e){(e.Applications||(e.Applications={})).CpaRegionModelAppModel=_createClass(function e(){_classCallCheck(this,e),this.acceptTerms=!0})}(Models=Models||{}),function(e){(e.Applications||(e.Applications={})).DeferredAppModel=_createClass(function e(){_classCallCheck(this,e)})}(Models=Models||{}),function(e){(e.Applications||(e.Applications={})).EmailAppModel=_createClass(function e(){_classCallCheck(this,e)})}(Models=Models||{}),function(e){(e.Applications||(e.Applications={})).EntryPoint=_createClass(function e(){_classCallCheck(this,e),this.url=document.location.href,this.title=document.title})}(Models=Models||{}),function(e){(e.Applications||(e.Applications={})).FeedbackInvestorAppModel=_createClass(function e(){_classCallCheck(this,e)})}(Models=Models||{}),function(e){var t;t=e.Applications||(e.Applications={}),e=_createClass(function e(){_classCallCheck(this,e),this.cardsCount=1,this.entryPoint=new t.EntryPoint}),t.FuelCardAppModel=e}(Models=Models||{}),function(e){var t;t=e.Applications||(e.Applications={}),e=_createClass(function e(){_classCallCheck(this,e),this.isCustomCar=!1,this.entryPoint=new t.EntryPoint}),t.IndividualsAppModel=e}(Models=Models||{}),function(e){var t;t=e.Applications||(e.Applications={}),e=_createClass(function e(){_classCallCheck(this,e),this.entryPoint=new t.EntryPoint}),t.InsuranceAppModel=e}(Models=Models||{}),function(e){var t;t=e.Applications||(e.Applications={}),e=_createClass(function e(){_classCallCheck(this,e),this.applicationKind=Enums.ApplicationKind.LeasingShortRegular,this.acceptTerms=!0,this.entryPoint=new t.EntryPoint}),t.LeasingShortAppModel=e}(Models=Models||{}),function(e){var t;t=e.Applications||(e.Applications={}),e=_createClass(function e(){_classCallCheck(this,e),this.acceptTerms=!0,this.entryPoint=new t.EntryPoint}),t.CatalogAppModel=e}(Models=Models||{}),function(e){(e.Applications||(e.Applications={})).OrgFormClarificationAppModel=_createClass(function e(){_classCallCheck(this,e)})}(Models=Models||{}),function(e){var t;t=e.Applications||(e.Applications={}),e=_createClass(function e(){_classCallCheck(this,e),this.applicationKind=Enums.ApplicationKind.ServiceShortRegular,this.entryPoint=new t.EntryPoint}),t.ServiceShortAppModel=e,e=_createClass(function e(){_classCallCheck(this,e)}),t.AdditionalService=e,(e=t.ServiceContractType||(t.ServiceContractType={}))[e.OneTime=1]="OneTime",e[e.FrameWork=2]="FrameWork"}(Models=Models||{}),function(e){(e.Applications||(e.Applications={})).SubmitServerResult=_createClass(function e(t){_classCallCheck(this,e),this.response=t})}(Models=Models||{}),function(e){(e.Applications||(e.Applications={})).VacancyAppModel=_createClass(function e(){_classCallCheck(this,e)})}(Models=Models||{}),(Models||(Models={})).AutoDescriptionModel=_createClass(function e(){_classCallCheck(this,e),this.isUsed=!1,this.isPassengerCar=!1}),(Models||(Models={})).AutosaleOffer=_createClass(function e(){_classCallCheck(this,e)}),(Models||(Models={})).AutomarketBrand=_createClass(function e(){_classCallCheck(this,e)}),function(e){e.BrandSearchResult=_createClass(function e(){_classCallCheck(this,e)});var t=_createClass(function e(){_classCallCheck(this,e)});e.BrandGroup=t}(Models=Models||{}),(Models||(Models={})).BrandStatistic=_createClass(function e(){_classCallCheck(this,e)}),function(e){e.FilterValues=_createClass(function e(){_classCallCheck(this,e)});var t=_createClass(function e(){_classCallCheck(this,e)}),t=(e.AngularSelectItem=t,_createClass(function e(){_classCallCheck(this,e)})),t=(e.GroupAndSelectItem=t,_createClass(function e(){_classCallCheck(this,e)}));e.Range=t}(Models=Models||{}),function(t){var e=_createClass(function e(){_classCallCheck(this,e),this.pager=new t.Pager});t.GetModelGroupsResult=e}(Models=Models||{}),(Models||(Models={})).GroupModifiactionVm=_createClass(function e(){_classCallCheck(this,e)}),(Models||(Models={})).GroupVehicleKind=_createClass(function e(){_classCallCheck(this,e)}),(Models||(Models={})).MdfGroupOptionVm=_createClass(function e(){_classCallCheck(this,e)}),(Models||(Models={})).MdfGroupVm=_createClass(function e(){_classCallCheck(this,e)}),(Models||(Models={})).ModelGroup=_createClass(function e(){_classCallCheck(this,e)}),(Models||(Models={})).ModelHeaderVm=_createClass(function e(){_classCallCheck(this,e)}),(Models||(Models={})).PageResult=_createClass(function e(t,n){_classCallCheck(this,e),this.header=t,this.body=n}),function(e){e.RoadConstructionEquipmentGroup=_createClass(function e(){_classCallCheck(this,e)});var t=_createClass(function e(){_classCallCheck(this,e)});e.RoadConstructionEquipmentKind=t}(Models=Models||{}),function(l){var e=function(){return _createClass(function e(t,n,i){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:l.PageType.Catalog,r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:5,s=!(6<arguments.length&&void 0!==arguments[6])||arguments[6];_classCallCheck(this,e),this.nds=!0,this.vehicleSuperTypes=t,this.vehicleCategories=n,this.vehicleTypeIds=i,this.pageType=a,this.page=r,this.sort=o,this.order=s},[{key:"isSomethingSelected",value:function(){return!!(this.bodyType||this.vehicleKinds||this.drive||this.gearbox||this.engineType||this.brands||this.models||this.options||this.price||this.kilometersTravelledFrom||this.kilometersTravelledTo||this.engineVolumesFrom||this.engineVolumesTo||this.engineHps||this.yearFrom||this.yearTo)}}])}();l.SearchFilter=e,(e=l.PageType||(l.PageType={}))[e.Catalog=0]="Catalog",e[e.AutoSale=1]="AutoSale",e[e.AllNewAdvert=2]="AllNewAdvert",e[e.AllStock=3]="AllStock",e[e.All=4]="All",(e=l.VehicleType||(l.VehicleType={}))[e.Cars=0]="Cars",e[e.Commercial=1]="Commercial",e[e.Truck=2]="Truck",e[e.Special=3]="Special",e[e.Trailer=4]="Trailer",e[e.Bus=5]="Bus",e[e.Moto=6]="Moto",e[e.All=7]="All"}(Models=Models||{}),function(e){e.SearchResult=_createClass(function e(){_classCallCheck(this,e),this.results=[],this.pager=new t});var t=_createClass(function e(){_classCallCheck(this,e),this.pages=new Array,this.currentPage=1,this.lastPage=1});e.Pager=t}(Models=Models||{}),(Models||(Models={})).AutomotivationDealModel=_createClass(function e(){_classCallCheck(this,e)}),(Models||(Models={})).Taxes=_createClass(function e(){_classCallCheck(this,e)}),function(e){(e.DataLayer||(e.DataLayer={})).Event=_createClass(function e(){_classCallCheck(this,e)})}(Models=Models||{}),function(e){(e.DataLayer||(e.DataLayer={})).LeasingAsset=_createClass(function e(){_classCallCheck(this,e)})}(Models=Models||{}),function(e){(e=(e=e.DataLayer||(e.DataLayer={})).LeasingAssetType||(e.LeasingAssetType={}))[e.Vehicle=0]="Vehicle",e[e.Advert=1]="Advert"}(Models=Models||{}),function(e){(e.DataLayer||(e.DataLayer={})).LeasingCalculation=_createClass(function e(){_classCallCheck(this,e)})}(Models=Models||{}),(Models||(Models={})).GridSpecialOffer=_createClass(function e(){_classCallCheck(this,e),this.open=!1}),(Models||(Models={})).GridVehicleCard=_createClass(function e(){_classCallCheck(this,e)}),function(e){(e=e.GridVehicleCardType||(e.GridVehicleCardType={}))[e.New=0]="New",e[e.Used=1]="Used",e[e.NewAdvert=2]="NewAdvert"}(Enums=Enums||{}),(Models||(Models={})).OutputGridVehicle=_createClass(function e(){_classCallCheck(this,e)}),function(e){(e.Investor||(e.Investor={})).Document=_createClass(function e(){_classCallCheck(this,e)})}(Models=Models||{}),function(e){(e.Investor||(e.Investor={})).News=_createClass(function e(){_classCallCheck(this,e),this.createdText=this.synopsis.length})}(Models=Models||{}),function(e){var t;(e=e.Vacancies||(e.Vacancies={})).Index=_createClass(function e(){_classCallCheck(this,e)}),t=_createClass(function e(){_classCallCheck(this,e)}),e.Filter=t,t=_createClass(function e(){_classCallCheck(this,e)}),e.Vacancy=t,t=_createClass(function e(){_classCallCheck(this,e)}),e.Refs=t,t=_createClass(function e(){_classCallCheck(this,e)}),e.EstaffElement=t}(Models=Models||{}),function(e){var t=function(e){function t(e){return _classCallCheck(this,t),_callSuper(this,t,[e,Consts.Urls.apps.leasingShort,Consts.AnalyticTracks.consultingForm.send,Consts.AnalyticTracks.consultingForm.decline])}return t.$inject=["$element"],_inherits(t,e),_createClass(t)}(e.AppBaseSubmitter);e.ConsultingShortAppSubmitter=t}(Services=Services||{}),function(e){var t=function(e){function t(e){return _classCallCheck(this,t),_callSuper(this,t,[e,Consts.Urls.apps.deferredShort,Consts.AnalyticTracks.deferredForm.send,Consts.AnalyticTracks.deferredForm.decline])}return t.$inject=["$element"],_inherits(t,e),_createClass(t)}(e.AppBaseSubmitter);e.DeferredAppSubmitter=t}(Services=Services||{}),function(e){var t=function(e){function t(e){return _classCallCheck(this,t),_callSuper(this,t,[e,Consts.Urls.apps.email,Consts.AnalyticTracks.emailForm.send,Consts.AnalyticTracks.emailForm.decline])}return t.$inject=["$element"],_inherits(t,e),_createClass(t)}(e.AppBaseSubmitter);e.EmailAppSubmitter=t}(Services=Services||{}),function(e){var t=function(e){function t(e){return _classCallCheck(this,t),_callSuper(this,t,[e,Consts.Urls.apps.feedbackInvestor])}return t.$inject=["$element"],_inherits(t,e),_createClass(t)}(e.AppBaseSubmitter);e.FeedbackInvestorAppSubmitter=t}(Services=Services||{}),function(e){var t=function(e){function t(e){return _classCallCheck(this,t),_callSuper(this,t,[e,Consts.Urls.apps.fuelCard,Consts.AnalyticTracks.fuelCardForm.send,Consts.AnalyticTracks.fuelCardForm.decline])}return t.$inject=["$element"],_inherits(t,e),_createClass(t)}(e.AppBaseSubmitter);e.FuelCardAppSubmitter=t}(Services=Services||{}),function(e){var t=function(e){function t(e){return _classCallCheck(this,t),_callSuper(this,t,[e,Consts.Urls.apps.forIndividuals,Consts.AnalyticTracks.individualsForm.send,Consts.AnalyticTracks.individualsForm.decline])}return t.$inject=["$element"],_inherits(t,e),_createClass(t)}(e.AppBaseSubmitter);e.IndividualsAppSubmitter=t}(Services=Services||{}),function(e){var t=function(e){function t(e){return _classCallCheck(this,t),_callSuper(this,t,[e,Consts.Urls.apps.insurance,Consts.AnalyticTracks.insuranceForm.send,Consts.AnalyticTracks.insuranceForm.decline])}return t.$inject=["$element"],_inherits(t,e),_createClass(t)}(e.AppBaseSubmitter);e.InsuranceAppSubmitter=t}(Services=Services||{}),function(e){var t=function(e){function t(e){return _classCallCheck(this,t),_callSuper(this,t,[e,Consts.Urls.apps.leasingShort,function(e){e.serverResult&&!1===e.serverResult.pushRequired||analytics.trackLeasing(e.model.phone,e.serverResult.appNumber,e.serverResult.sourceTrackString,e.serverResult.lastSource)},Consts.AnalyticTracks.leasingForm.decline])}return t.$inject=["$element"],_inherits(t,e),_createClass(t)}(e.AppBaseSubmitter);e.LeasingShortAppSubmitter=t}(Services=Services||{}),function(e){var t=function(e){function t(e){return _classCallCheck(this,t),_callSuper(this,t,[e,Consts.Urls.survey.afterMeeting,Consts.AnalyticTracks.afterMeetingSurvey.send,Consts.AnalyticTracks.afterMeetingSurvey.decline])}return t.$inject=["$element"],_inherits(t,e),_createClass(t)}(e.AppBaseSubmitter);e.AfterMeetingSurveySubmitter=t}(Services=Services||{}),function(e){var t=function(e){function t(e){return _classCallCheck(this,t),_callSuper(this,t,[e,Consts.Urls.apps.orgFormClarification,Consts.AnalyticTracks.orgFormClarificationForm.send,Consts.AnalyticTracks.orgFormClarificationForm.decline])}return t.$inject=["$element"],_inherits(t,e),_createClass(t)}(e.AppBaseSubmitter);e.OrgFormClarificationAppSubmitter=t}(Services=Services||{}),function(e){var t=function(e){function t(e){return _classCallCheck(this,t),_callSuper(this,t,[e,Consts.Urls.apps.qrContacts,Consts.AnalyticTracks.qrContactsForm.send,Consts.AnalyticTracks.qrContactsForm.decline])}return t.$inject=["$element"],_inherits(t,e),_createClass(t)}(e.AppBaseSubmitter);e.QrContactsAppSubmitter=t}(Services=Services||{}),function(e){var t=function(e){function t(e){return _classCallCheck(this,t),_callSuper(this,t,[e,Consts.Urls.apps.serviceShort,Consts.AnalyticTracks.serviceForm.send,Consts.AnalyticTracks.serviceForm.decline])}return t.$inject=["$element"],_inherits(t,e),_createClass(t)}(e.AppBaseSubmitter);e.ServiceShortAppSubmitter=t}(Services=Services||{}),function(e){var t=function(e){function t(e){return _classCallCheck(this,t),_callSuper(this,t,[e,Consts.Urls.survey.survey,Consts.AnalyticTracks.surveyForm.send,Consts.AnalyticTracks.surveyForm.decline])}return t.$inject=["$element"],_inherits(t,e),_createClass(t)}(e.AppBaseSubmitter);e.SurveySubmitter=t}(Services=Services||{}),function(e){var t=function(e){function t(e){return _classCallCheck(this,t),_callSuper(this,t,[e,Consts.Urls.apps.vacancy,Consts.AnalyticTracks.vacancyApp.send,Consts.AnalyticTracks.vacancyApp.decline])}return t.$inject=["$element"],_inherits(t,e),_createClass(t)}(e.AppBaseSubmitter);e.VacancyAppSubmitter=t}(Services=Services||{}),function(e){var t=function(e){function t(e){return _classCallCheck(this,t),_callSuper(this,t,[e,Consts.Urls.apps.vykup,Consts.AnalyticTracks.vykupForm.send,Consts.AnalyticTracks.vykupForm.decline])}return t.$inject=["$element"],_inherits(t,e),_createClass(t)}(e.AppBaseSubmitter);e.VykupAppSubmitter=t}(Services=Services||{}),angular.module("dealer.web.app").component("emailSubscription",{templateUrl:"/components/email-subscription/simple-subscription/email-subscription.html",controller:["$element","$scope","apiDataService",function(e,t,n){return new Components.EmailSubscriptionController(e,t,n)}]});
!function(r){r._arrayBufferToBase64=function(e){for(var a="",n=new Uint8Array(e),t=n.byteLength,i=0;i<t;i+=1)a+=String.fromCharCode(n[i]);return r.btoa(a)},r.angular.module("dealer.web.app").directive("baseSixtyFourInput",["$window","$q",function(c,g){var a={onChange:"&",onAfterValidate:"&",parser:"&"},f=["onabort","onerror","onloadstart","onloadend","onprogress","onload"];return f.forEach(function(e){a[e]="&"}),{restrict:"A",require:"ngModel",scope:a,link:function(u,e,h,y){var p=[],v=[];function d(){var e=h.multiple?v:v[0],a=(y.$setViewValue(e),e),n=!0;if(h.maxsize&&a){var t=1e3*parseFloat(h.maxsize);if(h.multiple){for(var i=0;i<a.length;i++)if(a[i].filesize>t){n=!1;break}}else n=a.filesize<=t;y.$setValidity("maxsize",n)}var r=e,l=!0,o=1e3*parseFloat(h.minsize);if(h.minsize&&r){if(h.multiple){for(var f=0;f<r.length;f++)if(r[f].filesize<o){l=!1;break}}else l=r.filesize>=o;y.$setValidity("minsize",l)}u=e,h.maxnum&&h.multiple&&u&&(u=u.length<=parseInt(h.maxnum),y.$setValidity("maxnum",u)),u=e,h.minnum&&h.multiple&&u&&(u=u.length>=parseInt(h.minnum),y.$setValidity("minnum",u));var s,u,p=e,d=!0;if(h.accept&&(u=h.accept.trim().replace(/[,\s]+/gi,"|").replace(/\./g,"\\.").replace(/\/\*/g,"/.*"),s=new RegExp(u)),h.accept&&p){if(h.multiple)for(var m=0;m<p.length;m++){var c=p[m],g="."+c.filename.split(".").pop();if(!(d=s.test(c.filetype)||s.test(g)))break}else g="."+p.filename.split(".").pop(),d=s.test(p.filetype)||s.test(g);y.$setValidity("accept",d)}}function m(e,a,n){for(var t,i,r,l=f.length-1;0<=l;l--){var o=f[l];h[o]&&"onload"!==o&&!function(e,a,n,t,i){n[e]=function(e){a()(e,n,t,p,v,i)}}(o,u[o],e,a,n)}e.onload=(t=e,i=a,r=n,function(e){var a=e.target.result,n=h.maxsize&&i.size>1024*h.maxsize;r.base64=void 0!==h.doNotParseIfOversize&&n?null:c._arrayBufferToBase64(a),(h.parser?g.when(u.parser()(i,r)):g.when(r)).then(function(e){v.push(e),i.deferredObj.resolve()}),h.onload&&(u.onload&&"function"==typeof u.onload()?u.onload()(e,t,i,p,v,r):u.onload(e,p))})}y&&(y.$isEmpty=function(e){return!e||(angular.isArray(e)?0===e.length:!e.base64)},u._clearInput=function(){e[0].value=""},u.$watch(function(){return y.$viewValue},function(e){y.$isEmpty(e)&&y.$dirty&&(u._clearInput(),y.$setValidity("maxnum",!0),y.$setValidity("minnum",!0),y.$setValidity("maxsize",!0),y.$setValidity("minsize",!0),y.$setValidity("accept",!0))}),e.on("change",function(e){if(v=[],v=angular.copy(v),0===e.target.files.length)p=[],d();else{p=e.target.files;for(var a=[],n=p.length-1;0<=n;n--)p[n].deferredObj=g.defer(),a.push(p[n].deferredObj.promise);for(g.all(a).then(d),n=p.length-1;0<=n;n--){var t=new c.FileReader,i=p[n],r={};r.filetype=i.type,r.filename=i.name,r.filesize=i.size,m(t,i,r),t.readAsArrayBuffer(i)}s=e,h.onChange&&(u.onChange&&"function"==typeof u.onChange()?u.onChange()(s,p):u.onChange(s,p));var l=e;if(h.onAfterValidate){for(var o=[],f=p.length-1;0<=f;f--)o.push(p[f].deferredObj.promise);g.all(o).then(function(){u.onAfterValidate&&"function"==typeof u.onAfterValidate()?u.onAfterValidate()(l,v,p):u.onAfterValidate(l,v,p)})}}var s;h.allowSameFile&&u._clearInput()}))}}}])}(window);
function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function _createClass(t,i,e){return i&&_defineProperties(t.prototype,i),e&&_defineProperties(t,e),t}var Sticky=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e),this.selector=t,this.elements=[],this.version="1.3.0",this.vp=this.getViewportSize(),this.body=document.querySelector("body"),this.options={wrap:i.wrap||!1,wrapWith:i.wrapWith||"<span></span>",marginTop:i.marginTop||0,marginBottom:i.marginBottom||0,stickyFor:i.stickyFor||0,stickyClass:i.stickyClass||null,stickyContainer:i.stickyContainer||"body"},this.updateScrollTopPosition=this.updateScrollTopPosition.bind(this),this.updateScrollTopPosition(),window.addEventListener("load",this.updateScrollTopPosition),window.addEventListener("scroll",this.updateScrollTopPosition),this.run()}return _createClass(e,[{key:"run",value:function(){var i=this,e=setInterval(function(){var t;"complete"===document.readyState&&(clearInterval(e),t=document.querySelectorAll(i.selector),i.forEach(t,function(t){return i.renderElement(t)}))},10)}},{key:"renderElement",value:function(t){var i=this;t.sticky={},t.sticky.active=!1,t.sticky.marginTop=parseInt(t.getAttribute("data-margin-top"))||this.options.marginTop,t.sticky.marginBottom=parseInt(t.getAttribute("data-margin-bottom"))||this.options.marginBottom,t.sticky.stickyFor=parseInt(t.getAttribute("data-sticky-for"))||this.options.stickyFor,t.sticky.stickyClass=t.getAttribute("data-sticky-class")||this.options.stickyClass,t.sticky.wrap=!!t.hasAttribute("data-sticky-wrap")||this.options.wrap,t.sticky.stickyContainer=this.options.stickyContainer,t.sticky.container=this.getStickyContainer(t),t.sticky.container.rect=this.getRectangle(t.sticky.container),t.sticky.rect=this.getRectangle(t),"img"===t.tagName.toLowerCase()&&(t.onload=function(){return t.sticky.rect=i.getRectangle(t)}),t.sticky.wrap&&this.wrapElement(t),this.activate(t)}},{key:"wrapElement",value:function(t){t.insertAdjacentHTML("beforebegin",t.getAttribute("data-sticky-wrapWith")||this.options.wrapWith),t.previousSibling.appendChild(t)}},{key:"activate",value:function(t){t.sticky.rect.top+t.sticky.rect.height<t.sticky.container.rect.top+t.sticky.container.rect.height&&t.sticky.stickyFor<this.vp.width&&!t.sticky.active&&(t.sticky.active=!0),this.elements.indexOf(t)<0&&this.elements.push(t),t.sticky.resizeEvent||(this.initResizeEvents(t),t.sticky.resizeEvent=!0),t.sticky.scrollEvent||(this.initScrollEvents(t),t.sticky.scrollEvent=!0),this.setPosition(t)}},{key:"initResizeEvents",value:function(t){var i=this;t.sticky.resizeListener=function(){return i.onResizeEvents(t)},window.addEventListener("resize",t.sticky.resizeListener)}},{key:"destroyResizeEvents",value:function(t){window.removeEventListener("resize",t.sticky.resizeListener)}},{key:"onResizeEvents",value:function(t){this.vp=this.getViewportSize(),t.sticky.rect=this.getRectangle(t),t.sticky.container.rect=this.getRectangle(t.sticky.container),t.sticky.rect.top+t.sticky.rect.height<t.sticky.container.rect.top+t.sticky.container.rect.height&&t.sticky.stickyFor<this.vp.width&&!t.sticky.active?t.sticky.active=!0:(t.sticky.rect.top+t.sticky.rect.height>=t.sticky.container.rect.top+t.sticky.container.rect.height||t.sticky.stickyFor>=this.vp.width&&t.sticky.active)&&(t.sticky.active=!1),this.setPosition(t)}},{key:"initScrollEvents",value:function(t){var i=this;t.sticky.scrollListener=function(){return i.onScrollEvents(t)},window.addEventListener("scroll",t.sticky.scrollListener)}},{key:"destroyScrollEvents",value:function(t){window.removeEventListener("scroll",t.sticky.scrollListener)}},{key:"onScrollEvents",value:function(t){t.sticky&&t.sticky.active&&this.setPosition(t)}},{key:"setPosition",value:function(t){this.css(t,{position:"",width:"",top:"",left:""}),this.vp.height<t.sticky.rect.height||!t.sticky.active||(t.sticky.rect.width||(t.sticky.rect=this.getRectangle(t)),t.sticky.wrap&&this.css(t.parentNode,{display:"block",width:t.sticky.rect.width+"px",height:t.sticky.rect.height+"px"}),0===t.sticky.rect.top&&t.sticky.container===this.body?(this.css(t,{position:"fixed",top:t.sticky.rect.top+"px",left:t.sticky.rect.left+"px",width:t.sticky.rect.width+"px"}),t.sticky.stickyClass&&t.classList.add(t.sticky.stickyClass)):this.scrollTop>t.sticky.rect.top-t.sticky.marginTop?(this.css(t,{position:"fixed",width:t.sticky.rect.width+"px",left:t.sticky.rect.left+"px"}),this.scrollTop+t.sticky.rect.height+t.sticky.marginTop>t.sticky.container.rect.top+t.sticky.container.offsetHeight-t.sticky.marginBottom?(t.sticky.stickyClass&&t.classList.remove(t.sticky.stickyClass),this.css(t,{top:t.sticky.container.rect.top+t.sticky.container.offsetHeight-(this.scrollTop+t.sticky.rect.height+t.sticky.marginBottom)+"px"})):(t.sticky.stickyClass&&t.classList.add(t.sticky.stickyClass),this.css(t,{top:t.sticky.marginTop+"px"}))):(t.sticky.stickyClass&&t.classList.remove(t.sticky.stickyClass),this.css(t,{position:"",width:"",top:"",left:""}),t.sticky.wrap&&this.css(t.parentNode,{display:"",width:"",height:""})))}},{key:"update",value:function(){var i=this;this.forEach(this.elements,function(t){t.sticky.rect=i.getRectangle(t),t.sticky.container.rect=i.getRectangle(t.sticky.container),i.activate(t),i.setPosition(t)})}},{key:"destroy",value:function(){var i=this;window.removeEventListener("load",this.updateScrollTopPosition),window.removeEventListener("scroll",this.updateScrollTopPosition),this.forEach(this.elements,function(t){i.destroyResizeEvents(t),i.destroyScrollEvents(t),delete t.sticky})}},{key:"getStickyContainer",value:function(t){for(var i=t.parentNode;!i.hasAttribute("data-sticky-container")&&!i.parentNode.querySelector(t.sticky.stickyContainer)&&i!==this.body;)i=i.parentNode;return i}},{key:"getRectangle",value:function(t){this.css(t,{position:"",width:"",top:"",left:""});for(var i=Math.max(t.offsetWidth,t.clientWidth,t.scrollWidth),e=Math.max(t.offsetHeight,t.clientHeight,t.scrollHeight),s=0,n=0;s+=t.offsetTop||0,n+=t.offsetLeft||0,t=t.offsetParent;);return{top:s,left:n,width:i,height:e}}},{key:"getViewportSize",value:function(){return{width:Math.max(document.documentElement.clientWidth,window.innerWidth||0),height:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}}},{key:"updateScrollTopPosition",value:function(){this.scrollTop=(window.pageYOffset||document.scrollTop)-(document.clientTop||0)||0}},{key:"forEach",value:function(t,i){for(var e=0,s=t.length;e<s;e++)i(t[e])}},{key:"css",value:function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t.style[e]=i[e])}}]),e}();!function(t,i){"undefined"!=typeof exports?module.exports=i:"function"==typeof define&&define.amd?define([],function(){return i}):t.Sticky=i}(this,Sticky);